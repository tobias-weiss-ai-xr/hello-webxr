webpackHotUpdate("main",{

/***/ "./src/assets.js":
/*!***********************!*\
  !*** ./src/assets.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  // Shared door texture (used by all learning rooms)\n  doorfx_tex: {\n    url: 'doorfx.basis',\n    options: {\n      wrapT: three__WEBPACK_IMPORTED_MODULE_0__[\"RepeatWrapping\"],\n      wrapS: three__WEBPACK_IMPORTED_MODULE_0__[\"RepeatWrapping\"]\n    }\n  },\n  // Controller assets\n  generic_controller_model: {\n    url: 'generic_controller.glb'\n  },\n  controller_tex: {\n    url: 'controller.basis'\n  },\n  // Teleport assets\n  teleport_model: {\n    url: 'teleport.glb'\n  },\n  glow_tex: {\n    url: 'glow.basis',\n    options: {\n      encoding: three__WEBPACK_IMPORTED_MODULE_0__[\"sRGBEncoding\"]\n    }\n  },\n  beam_tex: {\n    url: 'beamfx.png'\n  }\n\n  // Teleport sounds - disabled due to browser compatibility issues\n  // teleport_a_snd: { url: 'ogg/teleport_a.ogg' },\n  // teleport_b_snd: { url: 'ogg/teleport_b.ogg' },\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXNzZXRzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy5qcz85NGRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAvLyBTaGFyZWQgZG9vciB0ZXh0dXJlICh1c2VkIGJ5IGFsbCBsZWFybmluZyByb29tcylcclxuICBkb29yZnhfdGV4OiB7IHVybDogJ2Rvb3JmeC5iYXNpcycsIG9wdGlvbnM6IHsgd3JhcFQ6IFRIUkVFLlJlcGVhdFdyYXBwaW5nLCB3cmFwUzogVEhSRUUuUmVwZWF0V3JhcHBpbmcgfSB9LFxyXG5cclxuICAvLyBDb250cm9sbGVyIGFzc2V0c1xyXG4gIGdlbmVyaWNfY29udHJvbGxlcl9tb2RlbDogeyB1cmw6ICdnZW5lcmljX2NvbnRyb2xsZXIuZ2xiJyB9LFxyXG4gIGNvbnRyb2xsZXJfdGV4OiB7IHVybDogJ2NvbnRyb2xsZXIuYmFzaXMnIH0sXHJcblxyXG4gIC8vIFRlbGVwb3J0IGFzc2V0c1xyXG4gIHRlbGVwb3J0X21vZGVsOiB7IHVybDogJ3RlbGVwb3J0LmdsYicgfSxcclxuICBnbG93X3RleDogeyB1cmw6ICdnbG93LmJhc2lzJywgb3B0aW9uczogeyBlbmNvZGluZzogVEhSRUUuc1JHQkVuY29kaW5nIH0gfSxcclxuICBiZWFtX3RleDogeyB1cmw6ICdiZWFtZngucG5nJyB9LFxyXG5cclxuICAvLyBUZWxlcG9ydCBzb3VuZHMgLSBkaXNhYmxlZCBkdWUgdG8gYnJvd3NlciBjb21wYXRpYmlsaXR5IGlzc3Vlc1xyXG4gIC8vIHRlbGVwb3J0X2Ffc25kOiB7IHVybDogJ29nZy90ZWxlcG9ydF9hLm9nZycgfSxcclxuICAvLyB0ZWxlcG9ydF9iX3NuZDogeyB1cmw6ICdvZ2cvdGVsZXBvcnRfYi5vZ2cnIH0sXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/assets.js\n");

/***/ }),

/***/ "./src/components/index.js":
/*!*********************************!*\
  !*** ./src/components/index.js ***!
  \*********************************/
/*! exports provided: Object3D, Rotation, Position, ParentObject3D, Text, BoundingBox, BoundingSphere, Area, AreaEntering, AreaExiting, AreaInside, AreaChecker, AreaReactor, DebugHelper, Billboard, Children, Opacity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Object3D\", function() { return Object3D; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Rotation\", function() { return Rotation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Position\", function() { return Position; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ParentObject3D\", function() { return ParentObject3D; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Text\", function() { return Text; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BoundingBox\", function() { return BoundingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BoundingSphere\", function() { return BoundingSphere; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Area\", function() { return Area; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaEntering\", function() { return AreaEntering; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaExiting\", function() { return AreaExiting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaInside\", function() { return AreaInside; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaChecker\", function() { return AreaChecker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaReactor\", function() { return AreaReactor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DebugHelper\", function() { return DebugHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Billboard\", function() { return Billboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Children\", function() { return Children; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Opacity\", function() { return Opacity; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var ecsy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ecsy */ \"./node_modules/ecsy/build/ecsy.module.js\");\n\n\nclass Object3D {\n  constructor() {\n    this.value = null;\n  }\n  reset() {\n    this.value = null;\n  }\n}\nclass Rotation {\n  constructor() {\n    this.rotation = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n  }\n  reset() {}\n}\nclass Position {\n  constructor() {\n    this.position = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n  }\n  reset() {}\n}\nclass ParentObject3D {\n  constructor() {\n    this.value = null;\n  }\n  reset() {\n    this.value = null;\n  }\n}\nclass Text {\n  constructor() {\n    this.text = '';\n    this.textAlign = 'left'; // ['left', 'right', 'center']\n    this.anchor = 'center'; // ['left', 'right', 'center', 'align']\n    this.baseline = 'center'; // ['top', 'center', 'bottom']\n    this.color = '#FFF';\n    this.font = null;\n    this.fontSize = 0.2;\n    this.letterSpacing = 0;\n    this.lineHeight = 0;\n    this.maxWidth = Infinity;\n    this.overflowWrap = 'normal'; // ['normal', 'break-word']\n    this.whiteSpace = 'normal'; // ['normal', 'nowrap']\n    this.opacity = 1;\n  }\n  reset() {\n    this.text = '';\n  }\n}\nclass BoundingBox {\n  constructor() {\n    this.min = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n    this.max = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n    // this.box3?\n  }\n  reset() {\n    this.min.set(0, 0, 0);\n    this.max.set(0, 0, 0);\n  }\n}\nclass BoundingSphere {\n  constructor() {\n    this.debug = true;\n    this.center = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n    this.radius = 0;\n    //this.sphere?\n  }\n  reset() {\n    this.center.set(0, 0, 0);\n    this.radius = 0;\n  }\n}\nclass Area {\n  constructor() {}\n  reset() {}\n}\nclass AreaEntering extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"TagComponent\"] {}\nclass AreaExiting extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"TagComponent\"] {}\nclass AreaInside extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"TagComponent\"] {}\nclass AreaChecker {\n  constructor() {}\n  reset() {}\n}\nconst empty = () => {};\nclass AreaReactor {\n  constructor() {\n    this.reset();\n  }\n  reset() {\n    this.onEntering = empty;\n    this.onExiting = empty;\n  }\n}\nclass DebugHelper extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"TagComponent\"] {}\nclass Billboard {\n  constructor() {\n    this.camera3D = null;\n  }\n  reset() {\n    this.camera3D = null;\n  }\n}\nclass Children {\n  constructor() {\n    this.value = [];\n  }\n  reset() {\n    this.value.array.length = 0;\n  }\n}\nclass Opacity {\n  constructor() {\n    this.opacity = 0;\n  }\n  reset() {\n    this.opacity = 0;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2luZGV4LmpzPzJhZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQge1RhZ0NvbXBvbmVudH0gZnJvbSAnZWNzeSc7XHJcblxyXG5leHBvcnQgY2xhc3MgT2JqZWN0M0Qge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMudmFsdWUgPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJvdGF0aW9uIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMucm90YXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUG9zaXRpb24ge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHt9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQYXJlbnRPYmplY3QzRCB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnZhbHVlID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dCB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnRleHQgPSAnJztcclxuICAgIHRoaXMudGV4dEFsaWduID0gJ2xlZnQnOyAvLyBbJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJ11cclxuICAgIHRoaXMuYW5jaG9yID0gJ2NlbnRlcic7IC8vIFsnbGVmdCcsICdyaWdodCcsICdjZW50ZXInLCAnYWxpZ24nXVxyXG4gICAgdGhpcy5iYXNlbGluZSA9ICdjZW50ZXInOyAvLyBbJ3RvcCcsICdjZW50ZXInLCAnYm90dG9tJ11cclxuICAgIHRoaXMuY29sb3IgPSAnI0ZGRic7XHJcbiAgICB0aGlzLmZvbnQgPSBudWxsO1xyXG4gICAgdGhpcy5mb250U2l6ZSA9IDAuMjtcclxuICAgIHRoaXMubGV0dGVyU3BhY2luZyA9IDA7XHJcbiAgICB0aGlzLmxpbmVIZWlnaHQgPSAwO1xyXG4gICAgdGhpcy5tYXhXaWR0aCA9IEluZmluaXR5O1xyXG4gICAgdGhpcy5vdmVyZmxvd1dyYXAgPSAnbm9ybWFsJzsgLy8gWydub3JtYWwnLCAnYnJlYWstd29yZCddXHJcbiAgICB0aGlzLndoaXRlU3BhY2UgPSAnbm9ybWFsJzsgLy8gWydub3JtYWwnLCAnbm93cmFwJ11cclxuICAgIHRoaXMub3BhY2l0eSA9IDE7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMudGV4dCA9ICcnO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJvdW5kaW5nQm94IHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMubWluID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgIHRoaXMubWF4ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgIC8vIHRoaXMuYm94Mz9cclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5taW4uc2V0KDAsMCwwKTtcclxuICAgIHRoaXMubWF4LnNldCgwLDAsMCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQm91bmRpbmdTcGhlcmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5kZWJ1ZyA9IHRydWU7XHJcbiAgICB0aGlzLmNlbnRlciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcbiAgICB0aGlzLnJhZGl1cyA9IDA7XHJcbiAgICAvL3RoaXMuc3BoZXJlP1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLmNlbnRlci5zZXQoMCwwLDApO1xyXG4gICAgdGhpcy5yYWRpdXMgPSAwO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFyZWEge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG5cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBcmVhRW50ZXJpbmcgZXh0ZW5kcyBUYWdDb21wb25lbnQge31cclxuZXhwb3J0IGNsYXNzIEFyZWFFeGl0aW5nIGV4dGVuZHMgVGFnQ29tcG9uZW50IHt9XHJcbmV4cG9ydCBjbGFzcyBBcmVhSW5zaWRlIGV4dGVuZHMgVGFnQ29tcG9uZW50IHt9XHJcblxyXG5leHBvcnQgY2xhc3MgQXJlYUNoZWNrZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG5cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGVtcHR5ID0gKCkgPT4ge307XHJcblxyXG5leHBvcnQgY2xhc3MgQXJlYVJlYWN0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLm9uRW50ZXJpbmcgPSBlbXB0eTtcclxuICAgIHRoaXMub25FeGl0aW5nID0gZW1wdHk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGVidWdIZWxwZXIgZXh0ZW5kcyBUYWdDb21wb25lbnQge31cclxuXHJcbmV4cG9ydCBjbGFzcyBCaWxsYm9hcmQge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jYW1lcmEzRCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuY2FtZXJhM0QgPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENoaWxkcmVuIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMudmFsdWUgPSBbXTtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy52YWx1ZS5hcnJheS5sZW5ndGggPSAwO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9wYWNpdHkge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5vcGFjaXR5ID0gMDtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5vcGFjaXR5ID0gMDtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/index.js\n");

/***/ }),

/***/ "./src/data/elements.js":
/*!******************************!*\
  !*** ./src/data/elements.js ***!
  \******************************/
/*! exports provided: GROUP_COLORS, NOBLE_GAS_COLORS, ELEMENTS, getElementByNumber, getElementBySymbol, getElementsByGroup, getElementsByPeriod, EXPERIMENTAL_ROOMS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GROUP_COLORS\", function() { return GROUP_COLORS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NOBLE_GAS_COLORS\", function() { return NOBLE_GAS_COLORS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ELEMENTS\", function() { return ELEMENTS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementByNumber\", function() { return getElementByNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementBySymbol\", function() { return getElementBySymbol; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementsByGroup\", function() { return getElementsByGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementsByPeriod\", function() { return getElementsByPeriod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EXPERIMENTAL_ROOMS\", function() { return EXPERIMENTAL_ROOMS; });\n// Periodic Table Element Data\n// PSE in VR - Virtuelles Periodensystem\n\n// Element Group Colors\nconst GROUP_COLORS = {\n  alkali: 0xFF6B6B,\n  // Alkalimetalle\n  alkalineEarth: 0xFFA94D,\n  // Erdalkalimetalle\n  transition: 0x74B9FF,\n  // Übergangsmetalle\n  lanthanide: 0xD63384,\n  // Lanthanoide\n  actinide: 0x4A69BD,\n  // Actinoide\n  metal: 0x20C997,\n  // Metalle (13-16)\n  metalloid: 0x17A2B8,\n  // Metalloide\n  nonmetal: 0xFFC107,\n  // Nichtmetalle\n  halogen: 0x00D9FF,\n  // Halogene\n  nobleGas: 0xFFFFFF // Edelgase (use specific gas colors)\n};\n\n// Noble gas discharge colors\nconst NOBLE_GAS_COLORS = {\n  He: 0xFFE4E1,\n  // Helium - pale pink/white\n  Ne: 0xFF6B00,\n  // Neon - orange-red\n  Ar: 0x7B68EE,\n  // Argon - purple\n  Kr: 0x00CED1,\n  // Krypton - cyan\n  Xe: 0x4169E1,\n  // Xenon - blue\n  Rn: 0xE0FFFF // Radon - light blue\n};\n\n// Element definitions (partial for MVP - Phase 1)\nconst ELEMENTS = [\n// Hydrogen\n{\n  symbol: 'H',\n  name: 'Wasserstoff',\n  atomicNumber: 1,\n  mass: 1.008,\n  group: 'nonmetal',\n  period: 1,\n  block: 's',\n  groupNumber: 1,\n  color: 0xFFC107,\n  description: 'Das häufigste Element im Universum. Bildet 75% der Masse der Sonne.',\n  theme: 'cosmic',\n  experiments: ['knallgas', 'fusion', 'fuelcell']\n},\n// Helium\n{\n  symbol: 'He',\n  name: 'Helium',\n  atomicNumber: 2,\n  mass: 4.003,\n  group: 'nobleGas',\n  period: 1,\n  block: 's',\n  groupNumber: 18,\n  color: NOBLE_GAS_COLORS.He,\n  description: 'Das zweithäufigste Element im Universum. Wurde zuerst im Sonnenspektrum entdeckt.',\n  theme: 'solar',\n  experiments: ['superfluid', 'voiceshift']\n},\n// Lithium\n{\n  symbol: 'Li',\n  name: 'Lithium',\n  atomicNumber: 3,\n  mass: 6.941,\n  group: 'alkali',\n  period: 2,\n  block: 's',\n  groupNumber: 1,\n  color: GROUP_COLORS.alkali,\n  description: 'Das leichteste Metall. Wichtiger Bestandteil von Lithium-Ionen-Batterien.',\n  theme: 'energy',\n  experiments: ['waterReaction', 'battery']\n},\n// Beryllium\n{\n  symbol: 'Be',\n  name: 'Beryllium',\n  atomicNumber: 4,\n  mass: 9.012,\n  group: 'alkalineEarth',\n  period: 2,\n  block: 's',\n  groupNumber: 2,\n  color: GROUP_COLORS.alkalineEarth,\n  description: 'Hochgiftiges Metall mit niedriger Dichte. Verwendet in der Weltraumtechnik.',\n  theme: 'gem',\n  experiments: ['crystal', 'toxicity']\n},\n// Bor\n{\n  symbol: 'B',\n  name: 'Bor',\n  atomicNumber: 5,\n  mass: 10.81,\n  group: 'metalloid',\n  period: 2,\n  block: 'p',\n  groupNumber: 13,\n  color: GROUP_COLORS.metalloid,\n  description: 'Hartes Material für Glasfasern. Kommt in Wüstensalzen vor.',\n  theme: 'desert',\n  experiments: ['borax', 'fiberglass']\n},\n// Carbon\n{\n  symbol: 'C',\n  name: 'Kohlenstoff',\n  atomicNumber: 6,\n  mass: 12.011,\n  group: 'nonmetal',\n  period: 2,\n  block: 'p',\n  groupNumber: 14,\n  color: 0xFFC107,\n  description: 'Das Element des Lebens. Grundbaustein aller organischen Verbindungen.',\n  theme: 'life',\n  experiments: ['diamond', 'graphite', 'dna']\n},\n// Nitrogen\n{\n  symbol: 'N',\n  name: 'Stickstoff',\n  atomicNumber: 7,\n  mass: 14.007,\n  group: 'nonmetal',\n  period: 2,\n  block: 'p',\n  groupNumber: 15,\n  color: 0xFFC107,\n  description: 'Macht 78% der Atmosphäre aus. Essentiell für Proteine und DNA.',\n  theme: 'atmosphere',\n  experiments: ['liquid', 'haberbosch', 'fertilizer']\n},\n// Oxygen\n{\n  symbol: 'O',\n  name: 'Sauerstoff',\n  atomicNumber: 8,\n  mass: 15.999,\n  group: 'nonmetal',\n  period: 2,\n  block: 'p',\n  groupNumber: 16,\n  color: 0xFFC107,\n  description: 'Zweithäufigstes Element im Universum. Notwendig für Atmung und Verbrennung.',\n  theme: 'breath',\n  experiments: ['combustion', 'ozone', 'photosynthesis']\n},\n// Fluorine\n{\n  symbol: 'F',\n  name: 'Fluor',\n  atomicNumber: 9,\n  mass: 18.998,\n  group: 'halogen',\n  period: 2,\n  block: 'p',\n  groupNumber: 17,\n  color: GROUP_COLORS.halogen,\n  description: 'Reaktivstes aller Elemente. Wird in Teflon und Zahncreme verwendet.',\n  theme: 'protection',\n  experiments: ['reaction', 'teflon']\n},\n// Neon\n{\n  symbol: 'Ne',\n  name: 'Neon',\n  atomicNumber: 10,\n  mass: 20.180,\n  group: 'nobleGas',\n  period: 2,\n  block: 'p',\n  groupNumber: 18,\n  color: NOBLE_GAS_COLORS.Ne,\n  description: 'Leuchtet bei elektrischer Entladung orange-rot. Symbol der Stadtbeleuchtung.',\n  theme: 'lights',\n  experiments: ['neon', 'laser']\n},\n// Sodium\n{\n  symbol: 'Na',\n  name: 'Natrium',\n  atomicNumber: 11,\n  mass: 22.990,\n  group: 'alkali',\n  period: 3,\n  block: 's',\n  groupNumber: 1,\n  color: GROUP_COLORS.alkali,\n  description: 'Silberglänzendes Metall, butterweich. Basis für Speisesalz (NaCl).',\n  theme: 'kitchen',\n  experiments: ['water', 'flame', 'saltcrystal']\n},\n// Magnesium\n{\n  symbol: 'Mg',\n  name: 'Magnesium',\n  atomicNumber: 12,\n  mass: 24.305,\n  group: 'alkalineEarth',\n  period: 3,\n  block: 's',\n  groupNumber: 2,\n  color: GROUP_COLORS.alkalineEarth,\n  description: 'Blendend weißes Licht beim Verbrennen. Kommt in Chlorophyll vor.',\n  theme: 'light',\n  experiments: ['flash', 'chlorophyll', 'alloy']\n},\n// Aluminum\n{\n  symbol: 'Al',\n  name: 'Aluminium',\n  atomicNumber: 13,\n  mass: 26.982,\n  group: 'metal',\n  period: 3,\n  block: 'p',\n  groupNumber: 13,\n  color: GROUP_COLORS.metal,\n  description: 'Das häufigste Metall der Erdkruste. Leicht und korrosionsbeständig.',\n  theme: 'industry',\n  experiments: ['hallheroult', 'thermit', 'foil']\n},\n// Silicon\n{\n  symbol: 'Si',\n  name: 'Silizium',\n  atomicNumber: 14,\n  mass: 28.086,\n  group: 'metalloid',\n  period: 3,\n  block: 'p',\n  groupNumber: 14,\n  color: GROUP_COLORS.metalloid,\n  description: 'Zweithäufigstes Element der Erdkruste. Basis aller modernen Elektronik.',\n  theme: 'silicon',\n  experiments: ['transistor', 'solar', 'sand']\n},\n// Phosphorus\n{\n  symbol: 'P',\n  name: 'Phosphor',\n  atomicNumber: 15,\n  mass: 30.974,\n  group: 'nonmetal',\n  period: 3,\n  block: 'p',\n  groupNumber: 15,\n  color: 0xFFC107,\n  description: 'Glüht weiß im Dunkeln. Wichtiger Bestandteil von DNA und ATP.',\n  theme: 'fire',\n  experiments: ['white', 'red', 'match']\n},\n// Sulfur\n{\n  symbol: 'S',\n  name: 'Schwefel',\n  atomicNumber: 16,\n  mass: 32.065,\n  group: 'nonmetal',\n  period: 3,\n  block: 'p',\n  groupNumber: 16,\n  color: 0xFFC107,\n  description: 'Gelbes Element mit charakteristischem Geruch. Kommt in Vulkanen vor.',\n  theme: 'volcano',\n  experiments: ['burning', 'gunpowder', 'bromo']\n},\n// Chlorine\n{\n  symbol: 'Cl',\n  name: 'Chlor',\n  atomicNumber: 17,\n  mass: 35.453,\n  group: 'halogen',\n  period: 3,\n  block: 'p',\n  groupNumber: 17,\n  color: GROUP_COLORS.halogen,\n  description: 'Grün-gelbes Giftgas. Wird zur Wasserdesinfektion verwendet.',\n  theme: 'swimming',\n  experiments: ['disinfection', 'salt', 'gas']\n},\n// Argon\n{\n  symbol: 'Ar',\n  name: 'Argon',\n  atomicNumber: 18,\n  mass: 39.948,\n  group: 'nobleGas',\n  period: 3,\n  block: 'p',\n  groupNumber: 18,\n  color: NOBLE_GAS_COLORS.Ar,\n  description: 'Häufigstes Edelgas (1% Atmosphäre). Wird für WIG-Schweißen verwendet.',\n  theme: 'welding',\n  experiments: ['plasma', 'inert']\n},\n// Calcium\n{\n  symbol: 'Ca',\n  name: 'Calcium',\n  atomicNumber: 20,\n  mass: 40.078,\n  group: 'alkalineEarth',\n  period: 4,\n  block: 's',\n  groupNumber: 2,\n  color: GROUP_COLORS.alkalineEarth,\n  description: 'Bauknochen des Lebens. Fünft-häufigstes Element der Erdkruste.',\n  theme: 'skeleton',\n  experiments: ['burning', 'bones', 'limestone']\n},\n// Iron\n{\n  symbol: 'Fe',\n  name: 'Eisen',\n  atomicNumber: 26,\n  mass: 55.845,\n  group: 'transition',\n  period: 4,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.transition,\n  description: 'Wichtigstes Metall der Menschheit. Grundbaustein von Stahl und Hämoglobin.',\n  theme: 'forge',\n  experiments: ['magnet', 'rust', 'steel']\n},\n// Copper\n{\n  symbol: 'Cu',\n  name: 'Kupfer',\n  atomicNumber: 29,\n  mass: 63.546,\n  group: 'transition',\n  period: 4,\n  block: 'd',\n  groupNumber: 11,\n  color: GROUP_COLORS.transition,\n  description: 'Erstes Metall der Menschheit. Exzellenter elektrischer Leiter.',\n  theme: 'electric',\n  experiments: ['conductivity', 'patina', 'bronze']\n},\n// Gold\n{\n  symbol: 'Au',\n  name: 'Gold',\n  atomicNumber: 79,\n  mass: 196.967,\n  group: 'transition',\n  period: 6,\n  block: 'd',\n  groupNumber: 11,\n  color: GROUP_COLORS.transition,\n  description: 'Edelstes Metall. Einziges gelbes Metall (relativistische Effekte).',\n  theme: 'treasure',\n  experiments: ['ductility', 'alloys', 'electroplating']\n},\n// Uranium\n{\n  symbol: 'U',\n  name: 'Uran',\n  atomicNumber: 92,\n  mass: 238.029,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Schwerstes häufiges natürliches Element. Basis für Kernenergie.',\n  theme: 'nuclear',\n  experiments: ['fission', 'decay', 'fluorescence']\n}, {\n  symbol: 'K',\n  name: 'Kalium',\n  atomicNumber: 19,\n  mass: 39.098,\n  group: 'alkali',\n  period: 4,\n  block: 's',\n  groupNumber: 1,\n  color: GROUP_COLORS.alkali,\n  description: 'Reaktiv Metall, in der Natur oft als Ion. Wesentlich für biologische Prozesse.',\n  theme: 'biological',\n  experiments: ['water', 'flame', 'banane']\n}, {\n  symbol: 'Ca',\n  name: 'Calcium',\n  atomicNumber: 20,\n  mass: 40.078,\n  group: 'alkalineEarth',\n  period: 4,\n  block: 's',\n  groupNumber: 2,\n  color: GROUP_COLORS.alkalineEarth,\n  description: 'Fünft-häufigstes Element der Erdkruste. Fünft-häufigstes Element im menschlichen Körper.',\n  theme: 'biological',\n  experiments: ['burning', 'knochen', 'kalkstein']\n}, {\n  symbol: 'Sc',\n  name: 'Scandium',\n  atomicNumber: 21,\n  mass: 44.956,\n  group: 'transition',\n  period: 4,\n  block: 'd',\n  groupNumber: 3,\n  color: GROUP_COLORS.transition,\n  description: 'Seltenes Übergangsmetall. Wird in Sportgeräten und Hochleistungslegierungen verwendet.',\n  theme: 'aerospace',\n  experiments: ['alloy', 'magnetic', 'sport']\n}, {\n  symbol: 'Ti',\n  name: 'Titan',\n  atomicNumber: 22,\n  mass: 47.867,\n  group: 'transition',\n  period: 4,\n  block: 'd',\n  groupNumber: 4,\n  color: GROUP_COLORS.transition,\n  description: 'Korrosionsbeständiges Metall mit hohem Schmelzpunkt. Für Luft- und Raumfahrtindustrie.',\n  theme: 'aerospace',\n  experiments: ['biokompatibilität', 'legierung', 'oxid']\n}, {\n  symbol: 'V',\n  name: 'Vanadium',\n  atomicNumber: 23,\n  mass: 50.942,\n  group: 'transition',\n  period: 4,\n  block: 'd',\n  groupNumber: 5,\n  color: GROUP_COLORS.transition,\n  description: 'Hartes, grau-weißes Metall. Für Werkzeugstahl und Titanlegierungen.',\n  theme: 'industry',\n  experiments: ['stahl', 'legierung', 'katalysator']\n}, {\n  symbol: 'Cr',\n  name: 'Chrom',\n  atomicNumber: 24,\n  mass: 51.996,\n  group: 'transition',\n  period: 4,\n  block: 'd',\n  groupNumber: 6,\n  color: GROUP_COLORS.transition,\n  description: 'Glänzendes, korrosionsbeständiges Metall. Basis von Edelstahl und Verchromung.',\n  theme: 'industry',\n  experiments: ['edelstahl', 'verchromung', 'pigment']\n}, {\n  symbol: 'Mn',\n  name: 'Mangan',\n  atomicNumber: 25,\n  mass: 54.938,\n  group: 'transition',\n  period: 4,\n  block: 'd',\n  groupNumber: 7,\n  color: GROUP_COLORS.transition,\n  description: 'Wichtig für Stahlherstellung. Bioelement für Photosynthese.',\n  theme: 'industry',\n  experiments: ['stahl', 'photosynthese', 'batterie']\n}, {\n  symbol: 'Co',\n  name: 'Kobalt',\n  atomicNumber: 27,\n  mass: 58.933,\n  group: 'transition',\n  period: 4,\n  block: 'd',\n  groupNumber: 9,\n  color: GROUP_COLORS.transition,\n  description: 'Blau-graues, ferromagnetisches Metall. Für Supraleger, Magnete und Lithium-Ionen-Batterien.',\n  theme: 'technology',\n  experiments: ['magnet', 'batterie', 'legierung']\n}, {\n  symbol: 'Ni',\n  name: 'Nickel',\n  atomicNumber: 28,\n  mass: 58.693,\n  group: 'transition',\n  period: 4,\n  block: 'd',\n  groupNumber: 10,\n  color: GROUP_COLORS.transition,\n  description: 'Silbrig-weißes, korrosionsbeständiges Metall. Münzmetall und für Legierungen.',\n  theme: 'technology',\n  experiments: ['münzen', 'legierung', 'katalysator']\n}, {\n  symbol: 'Zn',\n  name: 'Zink',\n  atomicNumber: 30,\n  mass: 65.38,\n  group: 'transition',\n  period: 4,\n  block: 'd',\n  groupNumber: 12,\n  color: GROUP_COLORS.transition,\n  description: 'Reaktionsfreies Metall. Für galvanische Zellen, Verzinkung und Zink-Legierungen.',\n  theme: 'technology',\n  experiments: ['galvanik', 'verzinkung', 'batterie']\n}, {\n  symbol: 'Ga',\n  name: 'Gallium',\n  atomicNumber: 31,\n  mass: 69.723,\n  group: 'metal',\n  period: 4,\n  block: 'p',\n  groupNumber: 13,\n  color: GROUP_COLORS.metal,\n  description: 'Schmilzt in der Hand bei Raumtemperatur. Für Halbleiter und Hochtemperaturthermometer.',\n  theme: 'semiconductor',\n  experiments: ['schmelzen', 'halbleiter', 'thermometer']\n}, {\n  symbol: 'Ge',\n  name: 'Germanium',\n  atomicNumber: 32,\n  mass: 72.630,\n  group: 'metalloid',\n  period: 4,\n  block: 'p',\n  groupNumber: 14,\n  color: GROUP_COLORS.metalloid,\n  description: 'Halbleiter für Transistoren und Optoelektronik. Silizium-Alternative.',\n  theme: 'semiconductor',\n  experiments: ['halbleiter', 'transistor', 'faser']\n}, {\n  symbol: 'As',\n  name: 'Arsen',\n  atomicNumber: 33,\n  mass: 74.922,\n  group: 'metalloid',\n  period: 4,\n  block: 'p',\n  groupNumber: 15,\n  color: GROUP_COLORS.metalloid,\n  description: 'Sehr giftiges Halbmetall. Historisch in Tapeten und Farben verwendet.',\n  theme: 'toxic',\n  experiments: ['gift', 'historisch', 'semiconductor']\n}, {\n  symbol: 'Se',\n  name: 'Selen',\n  atomicNumber: 34,\n  mass: 78.96,\n  group: 'nonmetal',\n  period: 4,\n  block: 'p',\n  groupNumber: 16,\n  color: GROUP_COLORS.nonmetal,\n  description: 'Wichtiges Spurenelement. Halbleiter und für Glühbirren.',\n  theme: 'semiconductor',\n  experiments: ['glühbirne', 'photovoltaik', 'toxisch']\n}, {\n  symbol: 'Br',\n  name: 'Brom',\n  atomicNumber: 35,\n  mass: 79.904,\n  group: 'halogen',\n  period: 4,\n  block: 'p',\n  groupNumber: 17,\n  color: GROUP_COLORS.halogen,\n  description: 'Einziges flüssige Nichtmetall bei Raumtemperatur. Rote Farbe, stechender Geruch.',\n  theme: 'liquid',\n  experiments: ['flüssig', 'flammmittel', 'giftig']\n}, {\n  symbol: 'Kr',\n  name: 'Krypton',\n  atomicNumber: 36,\n  mass: 83.798,\n  group: 'nobleGas',\n  period: 4,\n  block: 'p',\n  groupNumber: 18,\n  color: NOBLE_GAS_COLORS.Kr,\n  description: 'Edelgas mit hoher Dichte. Für Blitzlichtlampen und Laser.',\n  theme: 'lighting',\n  experiments: ['laser', 'neon', 'isoliert']\n}, {\n  symbol: 'Rb',\n  name: 'Rubidium',\n  atomicNumber: 37,\n  mass: 85.468,\n  group: 'alkali',\n  period: 5,\n  block: 's',\n  groupNumber: 1,\n  color: GROUP_COLORS.alkali,\n  description: 'Weiches, hochreaktives Metall. Für Atomuhren und Feuerwerk.',\n  theme: 'pyrotechnics',\n  experiments: ['atomuhr', 'feuerwerk', 'reaktion']\n}, {\n  symbol: 'Sr',\n  name: 'Strontium',\n  atomicNumber: 38,\n  mass: 87.62,\n  group: 'alkalineEarth',\n  period: 5,\n  block: 's',\n  groupNumber: 2,\n  color: GROUP_COLORS.alkalineEarth,\n  description: 'Für rote Feuerwerke und Magnete. Radioaktiv (Strontium-90).',\n  theme: 'pyrotechnics',\n  experiments: ['feuerwerk', 'magnet', 'radioaktiv']\n}, {\n  symbol: 'Y',\n  name: 'Yttrium',\n  atomicNumber: 39,\n  mass: 88.906,\n  group: 'transition',\n  period: 5,\n  block: 'd',\n  groupNumber: 3,\n  color: GROUP_COLORS.transition,\n  description: 'Seltenes Erdelement. Für LEDs, Supraleiter und Laser.',\n  theme: 'technology',\n  experiments: ['led', 'laser', 'supraleiter']\n}, {\n  symbol: 'Zr',\n  name: 'Zirkonium',\n  atomicNumber: 40,\n  mass: 91.224,\n  group: 'transition',\n  period: 5,\n  block: 'd',\n  groupNumber: 4,\n  color: GROUP_COLORS.transition,\n  description: 'Korrosionsbeständiges Metall. Für Kernelemente und medizinische Implantate.',\n  theme: 'nuclear',\n  experiments: ['kernelement', 'implantat', 'keramik']\n}, {\n  symbol: 'Nb',\n  name: 'Niob',\n  atomicNumber: 41,\n  mass: 92.906,\n  group: 'transition',\n  period: 5,\n  block: 'd',\n  groupNumber: 5,\n  color: GROUP_COLORS.transition,\n  description: 'Supraleiter bei niedrigen Temperaturen. Für Beschleunigermagnete und Hochspannungstechnik.',\n  theme: 'technology',\n  experiments: ['supraleiter', 'magnet', 'hochspannung']\n}, {\n  symbol: 'Mo',\n  name: 'Molybdän',\n  atomicNumber: 42,\n  mass: 95.95,\n  group: 'transition',\n  period: 5,\n  block: 'd',\n  groupNumber: 6,\n  color: GROUP_COLORS.transition,\n  description: 'Extrem hartes Metall. Für Hochtemperaturanwendungen und Schmierstoffe.',\n  theme: 'industry',\n  experiments: ['hochtemperatur', 'schmiermittel', 'stahl']\n}, {\n  symbol: 'Tc',\n  name: 'Technetium',\n  atomicNumber: 43,\n  mass: 98,\n  group: 'transition',\n  period: 5,\n  block: 'd',\n  groupNumber: 7,\n  color: GROUP_COLORS.transition,\n  description: 'Erstes künstliche Element. Radioaktiv. In der medizinischen Bildgebung verwendet.',\n  theme: 'nuclear',\n  experiments: ['künstlich', 'medizin', 'radioaktiv']\n}, {\n  symbol: 'Ru',\n  name: 'Ruthenium',\n  atomicNumber: 44,\n  mass: 101.07,\n  group: 'transition',\n  period: 5,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.transition,\n  description: 'Seltenes, aber wichtiges Metall. Für Elektronikkontakte und Katalysatoren.',\n  theme: 'technology',\n  experiments: ['katalysator', 'kontakte', 'legierung']\n}, {\n  symbol: 'Rh',\n  name: 'Rhodium',\n  atomicNumber: 45,\n  mass: 102.91,\n  group: 'transition',\n  period: 5,\n  block: 'd',\n  groupNumber: 9,\n  color: GROUP_COLORS.transition,\n  description: 'Sehr wertvolles Übergangsmetall. Für Katalysatoren, Schmuck und Thermoelemente.',\n  theme: 'technology',\n  experiments: ['katalysator', 'schmuck', 'thermo']\n}, {\n  symbol: 'Pd',\n  name: 'Palladium',\n  atomicNumber: 46,\n  mass: 106.42,\n  group: 'transition',\n  period: 5,\n  block: 'd',\n  groupNumber: 10,\n  color: GROUP_COLORS.transition,\n  description: 'Wertvolles Platin-Metall. Für Katalysatoren, Schmuck und Wasserstofffilter.',\n  theme: 'technology',\n  experiments: ['katalysator', 'schmuck', 'wasserstoff']\n}, {\n  symbol: 'Ag',\n  name: 'Silber',\n  atomicNumber: 47,\n  mass: 107.87,\n  group: 'transition',\n  period: 5,\n  block: 'd',\n  groupNumber: 11,\n  color: GROUP_COLORS.transition,\n  description: 'Bester elektrischer Leiter aller Metalle. Für Schmuck, Elektronik und Fotografie.',\n  theme: 'precious',\n  experiments: ['elektrisch', 'schmuck', 'fotografie']\n}, {\n  symbol: 'Cd',\n  name: 'Cadmium',\n  atomicNumber: 48,\n  mass: 112.41,\n  group: 'transition',\n  period: 5,\n  block: 'd',\n  groupNumber: 12,\n  color: GROUP_COLORS.transition,\n  description: 'Giftiges Metall. Für NiCd-Batterien, Pigmente und galvanische Elemente.',\n  theme: 'toxic',\n  experiments: ['batterie', 'pigment', 'toxisch']\n}, {\n  symbol: 'In',\n  name: 'Indium',\n  atomicNumber: 49,\n  mass: 114.82,\n  group: 'metal',\n  period: 5,\n  block: 'p',\n  groupNumber: 13,\n  color: GROUP_COLORS.metal,\n  description: 'Weiches Metall. Für ITO-Schichten (Touchscreens), Transistoren und Lötzinn.',\n  theme: 'semiconductor',\n  experiments: ['touchscreen', 'lötinn', 'halbleiter']\n}, {\n  symbol: 'Sn',\n  name: 'Zinn',\n  atomicNumber: 50,\n  mass: 118.71,\n  group: 'metal',\n  period: 5,\n  block: 'p',\n  groupNumber: 14,\n  color: GROUP_COLORS.metal,\n  description: 'Historisch wichtiges Metall. Für Lötlegierungen, Bronze und Konservendosen.',\n  theme: 'history',\n  experiments: ['löten', 'bronze', 'konserven']\n}, {\n  symbol: 'Sb',\n  name: 'Antimon',\n  atomicNumber: 51,\n  mass: 121.76,\n  group: 'metalloid',\n  period: 5,\n  block: 'p',\n  groupNumber: 15,\n  color: GROUP_COLORS.metalloid,\n  description: 'Halbmetall mit ungewöhnlichen Eigenschaften. Für Flammhemmer und Legierungen.',\n  theme: 'industry',\n  experiments: ['flammhemmer', 'legierung', 'halbleiter']\n}, {\n  symbol: 'Te',\n  name: 'Tellur',\n  atomicNumber: 52,\n  mass: 127.60,\n  group: 'metalloid',\n  period: 5,\n  block: 'p',\n  groupNumber: 16,\n  color: GROUP_COLORS.metalloid,\n  description: 'Seltenes, seltenes Halbmetall. Für Solarzellen und Legierungen.',\n  theme: 'semiconductor',\n  experiments: ['solarzelle', 'legierung', 'cdte']\n}, {\n  symbol: 'I',\n  name: 'Jod',\n  atomicNumber: 53,\n  mass: 126.90,\n  group: 'halogen',\n  period: 5,\n  block: 'p',\n  groupNumber: 17,\n  color: GROUP_COLORS.halogen,\n  description: 'Wichtigstes Spurenelement für Schilddrüse. Dunkle Substanz mit charakteristischem Geruch.',\n  theme: 'biological',\n  experiments: ['schilddrüse', 'antiseptik', 'sublimation']\n}, {\n  symbol: 'Xe',\n  name: 'Xenon',\n  atomicNumber: 54,\n  mass: 131.29,\n  group: 'nobleGas',\n  period: 5,\n  block: 'p',\n  groupNumber: 18,\n  color: NOBLE_GAS_COLORS.Xe,\n  description: 'Schweres Edelgas. Für Ionentriebwerke, Narkose und Blitzlichtlampen.',\n  theme: 'space',\n  experiments: ['ionentrieb', 'narkose', 'laser']\n}, {\n  symbol: 'Cs',\n  name: 'Cäsium',\n  atomicNumber: 55,\n  mass: 132.91,\n  group: 'alkali',\n  period: 6,\n  block: 's',\n  groupNumber: 1,\n  color: GROUP_COLORS.alkali,\n  description: 'Weiches, hochreaktives Metall. Schmilzt in der Hand. Präzisesste Zeitnormal.',\n  theme: 'precision',\n  experiments: ['schmelzen', 'atomuhr', 'explosion']\n}, {\n  symbol: 'Ba',\n  name: 'Barium',\n  atomicNumber: 56,\n  mass: 137.33,\n  group: 'alkalineEarth',\n  period: 6,\n  block: 's',\n  groupNumber: 2,\n  color: GROUP_COLORS.alkalineEarth,\n  description: 'Für medizinische Kontrastmittel und grüne Feuerwerke. Schwerkresistent.',\n  theme: 'medical',\n  experiments: ['kontrastmittel', 'feuerwerk', 'magnet']\n}, {\n  symbol: 'La',\n  name: 'Lanthan',\n  atomicNumber: 57,\n  mass: 138.91,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Weiches, duktils Metall. Für Hybridauto-Batterien und Zündsteine.',\n  theme: 'technology',\n  experiments: ['batterie', 'zündsteine', 'optik']\n}, {\n  symbol: 'Ce',\n  name: 'Cer',\n  atomicNumber: 58,\n  mass: 140.12,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Häufigstes Lanthanoid. Für Ferrocer-Feuerzeuge und Autokatalysatoren.',\n  theme: 'technology',\n  experiments: ['feuerzeuge', 'katalysator', 'selbstreinigend']\n}, {\n  symbol: 'Pr',\n  name: 'Praseodym',\n  atomicNumber: 59,\n  mass: 140.91,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Für Magnetlegierungen und Grüne Farbe. Wichtig für Hightech-Legierungen.',\n  theme: 'technology',\n  experiments: ['magnet', 'grün', 'legierung']\n}, {\n  symbol: 'Nd',\n  name: 'Neodym',\n  atomicNumber: 60,\n  mass: 144.24,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Stärkste Permanentmagnete. Für Kopfhörer, Windturbinen und Festplatten.',\n  theme: 'technology',\n  experiments: ['magnet', 'kopfhörer', 'windturbine']\n}, {\n  symbol: 'Pm',\n  name: 'Promethium',\n  atomicNumber: 61,\n  mass: 145,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Künstliches, radioaktives Element. Für Kernbatterien in Raumfahrzeugen.',\n  theme: 'space',\n  experiments: ['künstlich', 'kernbatterie', 'radioaktiv']\n}, {\n  symbol: 'Sm',\n  name: 'Samarium',\n  atomicNumber: 62,\n  mass: 150.36,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Für Permanentmagnete und Kernreaktor-Steuerstäbe.',\n  theme: 'nuclear',\n  experiments: ['magnet', 'reaktor', 'absorber']\n}, {\n  symbol: 'Eu',\n  name: 'Europium',\n  atomicNumber: 63,\n  mass: 151.96,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Rot phosphoreszierend in Euro-Scheinen. Für Sicherheit und Lasermaterialien.',\n  theme: 'security',\n  experiments: ['phosphoreszenz', 'euro', 'laser']\n}, {\n  symbol: 'Gd',\n  name: 'Gadolinium',\n  atomicNumber: 64,\n  mass: 157.25,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Höchste Neutronenabsorption. Für MRT-Kontrastmittel und Kernreaktorsteuerung.',\n  theme: 'medical',\n  experiments: ['mrt', 'reaktor', 'absorber']\n}, {\n  symbol: 'Tb',\n  name: 'Terbium',\n  atomicNumber: 65,\n  mass: 158.93,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Weiches Lanthanoid. Für Phosphorleuchtstoffe und Elektromotore.',\n  theme: 'technology',\n  experiments: ['phosphor', 'magnet', 'motor']\n}, {\n  symbol: 'Dy',\n  name: 'Dysprosium',\n  atomicNumber: 66,\n  mass: 162.50,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Hochwertiges Lanthanoid. Für Kernreaktorsteuerstäbe und Magnetlegierungen.',\n  theme: 'nuclear',\n  experiments: ['reaktor', 'magnet', 'legierung']\n}, {\n  symbol: 'Ho',\n  name: 'Holmium',\n  atomicNumber: 67,\n  mass: 164.93,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Besitzt höchstes magnetisches Moment aller Elemente. Für Laser und Hochleistungsmagnete.',\n  theme: 'technology',\n  experiments: ['laser', 'magnet', 'hochleistung']\n}, {\n  symbol: 'Er',\n  name: 'Erbium',\n  atomicNumber: 68,\n  mass: 167.26,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Für Glasfaser-Verstärker und optische Verstärker. Rosarotes Leuchten.',\n  theme: 'technology',\n  experiments: ['glasfaser', 'optik', 'laser']\n}, {\n  symbol: 'Tm',\n  name: 'Thulium',\n  atomicNumber: 69,\n  mass: 168.93,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Für medizinische Röntgenanlagen. Röntgen-Kontrastmittel.',\n  theme: 'medical',\n  experiments: ['röntgen', 'medizin', 'laser']\n}, {\n  symbol: 'Yb',\n  name: 'Ytterbium',\n  atomicNumber: 70,\n  mass: 173.05,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Für Stahllegierungen und Röntgenanlagen. Rote Lumineszenz.',\n  theme: 'industry',\n  experiments: ['legierung', 'röntgen', 'luminiszenz']\n}, {\n  symbol: 'Lu',\n  name: 'Lutetium',\n  atomicNumber: 71,\n  mass: 174.97,\n  group: 'lanthanide',\n  period: 6,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.lanthanide,\n  description: 'Letztes natürliches Lanthanoid. Für PET-Scanner und Katalysatoren.',\n  theme: 'technology',\n  experiments: ['scanner', 'katalysator', 'spektrometer']\n}, {\n  symbol: 'Hf',\n  name: 'Hafnium',\n  atomicNumber: 72,\n  mass: 178.49,\n  group: 'transition',\n  period: 6,\n  block: 'd',\n  groupNumber: 4,\n  color: GROUP_COLORS.transition,\n  description: 'Korrosionsbeständiges Metall. Für Reaktordruckbehälter und Kernenergieanwendungen.',\n  theme: 'nuclear',\n  experiments: ['reaktor', 'kernenergie', 'legierung']\n}, {\n  symbol: 'Ta',\n  name: 'Tantal',\n  atomicNumber: 73,\n  mass: 180.95,\n  group: 'transition',\n  period: 6,\n  block: 'd',\n  groupNumber: 5,\n  color: GROUP_COLORS.transition,\n  description: 'Extrem korrosionsbeständig. Für Kondensatoren und elektronische Bauteile.',\n  theme: 'electronics',\n  experiments: ['kondensator', 'elektronik', 'korrosion']\n}, {\n  symbol: 'W',\n  name: 'Wolfram',\n  atomicNumber: 74,\n  mass: 183.84,\n  group: 'transition',\n  period: 6,\n  block: 'd',\n  groupNumber: 6,\n  color: GROUP_COLORS.transition,\n  description: 'Höchster Schmelzpunkt aller Elemente. Für Glühbirnen und Wolframbearbeitung.',\n  theme: 'technology',\n  experiments: ['glühbirne', 'bearbeitung', 'legierung']\n}, {\n  symbol: 'Re',\n  name: 'Rhenium',\n  atomicNumber: 75,\n  mass: 186.21,\n  group: 'transition',\n  period: 6,\n  block: 'd',\n  groupNumber: 7,\n  color: GROUP_COLORS.transition,\n  description: 'Selteneres, hochschmelzendes Metall. Für Düsenläufer und Hochtemperaturlegierungen.',\n  theme: 'aerospace',\n  experiments: ['düsenläufer', 'hochtemperatur', 'legierung']\n}, {\n  symbol: 'Os',\n  name: 'Osmium',\n  atomicNumber: 76,\n  mass: 190.23,\n  group: 'transition',\n  period: 6,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.transition,\n  description: 'Dichtestes natürliches Element. Für Schreibspitzen und Implantate.',\n  theme: 'technology',\n  experiments: ['schreibspitzen', 'implantat', 'legierung']\n}, {\n  symbol: 'Ir',\n  name: 'Iridium',\n  atomicNumber: 77,\n  mass: 192.22,\n  group: 'transition',\n  period: 6,\n  block: 'd',\n  groupNumber: 9,\n  color: GROUP_COLORS.transition,\n  description: 'Extrem korrosionsbeständiges Metall. Für Zündkerzen und Elektroden.',\n  theme: 'technology',\n  experiments: ['zündkerzen', 'elektroden', 'legierung']\n}, {\n  symbol: 'Pt',\n  name: 'Platin',\n  atomicNumber: 78,\n  mass: 195.08,\n  group: 'transition',\n  period: 6,\n  block: 'd',\n  groupNumber: 10,\n  color: GROUP_COLORS.transition,\n  description: 'Edelmetall für Katalysatoren, Schmuck und Katalysatoren. Beständiger als Gold.',\n  theme: 'precious',\n  experiments: ['katalysator', 'schmuck', 'legierung']\n}, {\n  symbol: 'Au',\n  name: 'Gold',\n  atomicNumber: 79,\n  mass: 196.97,\n  group: 'transition',\n  period: 6,\n  block: 'd',\n  groupNumber: 11,\n  color: GROUP_COLORS.transition,\n  description: 'Edelstes Metall, einziges gelbes Metall (relativistische Effekte). Für Elektronik und Schmuck.',\n  theme: 'treasure',\n  experiments: ['ductilität', 'legierungen', 'elektroplattierung']\n}, {\n  symbol: 'Hg',\n  name: 'Quecksilber',\n  atomicNumber: 80,\n  mass: 200.59,\n  group: 'transition',\n  period: 6,\n  block: 'd',\n  groupNumber: 12,\n  color: GROUP_COLORS.transition,\n  description: 'Einziges flüssiges Metall bei Raumtemperatur. Für Thermometer und Alchemiehistorie.',\n  theme: 'historical',\n  experiments: ['flüssig', 'thermometer', 'alchemie']\n}, {\n  symbol: 'Tl',\n  name: 'Thallium',\n  atomicNumber: 81,\n  mass: 204.38,\n  group: 'metal',\n  period: 6,\n  block: 'p',\n  groupNumber: 13,\n  color: GROUP_COLORS.metal,\n  description: 'Giftiges, weiches Metall. Historisch in Mordfällen verwendet. Für Glasherstellung.',\n  theme: 'toxic',\n  experiments: ['gift', 'glasherstellung', 'temperatur']\n}, {\n  symbol: 'Pb',\n  name: 'Blei',\n  atomicNumber: 82,\n  mass: 207.2,\n  group: 'metal',\n  period: 6,\n  block: 'p',\n  groupNumber: 14,\n  color: GROUP_COLORS.metal,\n  description: 'Schwerstes stabiles Element. Für Akkus und Röntgenschutz. Römisches Erbe.',\n  theme: 'history',\n  experiments: ['akkus', 'röntgen', 'blei']\n}, {\n  symbol: 'Bi',\n  name: 'Wismut',\n  atomicNumber: 83,\n  mass: 208.98,\n  group: 'metalloid',\n  period: 6,\n  block: 'p',\n  groupNumber: 15,\n  color: GROUP_COLORS.metalloid,\n  description: 'Dichtes, schmelzendes Metall. Für Kosmetika, Schmiermittel und Röntgenkontrast.',\n  theme: 'medical',\n  experiments: ['kosmetika', 'schmiermittel', 'röntgen']\n}, {\n  symbol: 'Po',\n  name: 'Polonium',\n  atomicNumber: 84,\n  mass: 209,\n  group: 'metalloid',\n  period: 6,\n  block: 'p',\n  groupNumber: 16,\n  color: GROUP_COLORS.metalloid,\n  description: 'Hochradioaktiv, starkes Metall. Historisch berühmt (Curie). Für Alphastrahler.',\n  theme: 'nuclear',\n  experiments: ['alphastrahler', 'radioaktiv', 'wärmequelle']\n}, {\n  symbol: 'At',\n  name: 'Astatin',\n  atomicNumber: 85,\n  mass: 210,\n  group: 'halogen',\n  period: 6,\n  block: 'p',\n  groupNumber: 17,\n  color: GROUP_COLORS.halogen,\n  description: 'Seltenstes natürliches Element. Halbwertszeit ~8 Stunden. Für Forschung.',\n  theme: 'research',\n  experiments: ['forschung', 'halbwertszeit', 'instabil']\n}, {\n  symbol: 'Rn',\n  name: 'Radon',\n  atomicNumber: 86,\n  mass: 222,\n  group: 'nobleGas',\n  period: 6,\n  block: 'p',\n  groupNumber: 18,\n  color: NOBLE_GAS_COLORS.Rn,\n  description: 'Radionuklid, zweithäufigste Lungenkrebsursache. Für Radonmessung und Schutz.',\n  theme: 'radiation',\n  experiments: ['radonmessung', 'schutz', 'zerfall']\n}, {\n  symbol: 'Fr',\n  name: 'Francium',\n  atomicNumber: 87,\n  mass: 223,\n  group: 'alkali',\n  period: 7,\n  block: 's',\n  groupNumber: 1,\n  color: GROUP_COLORS.alkali,\n  description: 'Instabil, radioaktiv. Nie makroskopisch beobachtet. Hypothetische Wasserreaktion.',\n  theme: 'theoretical',\n  experiments: ['instabil', 'halbwertszeit', 'theoretisch']\n}, {\n  symbol: 'Ra',\n  name: 'Radium',\n  atomicNumber: 88,\n  mass: 226,\n  group: 'alkalineEarth',\n  period: 7,\n  block: 's',\n  groupNumber: 2,\n  color: GROUP_COLORS.alkalineEarth,\n  description: 'Hochradioaktiv, luminiszierendes Metall. Leuchtet im Dunkeln. Für historische Lampen.',\n  theme: 'historical',\n  experiments: ['leuchten', 'historisch', 'radioaktiv']\n}, {\n  symbol: 'Ac',\n  name: 'Actinium',\n  atomicNumber: 89,\n  mass: 227,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Namensgeber der Actinoide. Radioaktiv. Ausgangsstoff für Urananreicherung.',\n  theme: 'nuclear',\n  experiments: ['urananreicherung', 'strahlung', 'zerfall']\n}, {\n  symbol: 'Th',\n  name: 'Thorium',\n  atomicNumber: 90,\n  mass: 232.04,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Für Flüssigsalzreaktoren. Sicherer und abundanter als Uran. Mythologisch benannt.',\n  theme: 'nuclear',\n  experiments: ['flüssigsalzreaktor', 'sicherheit', 'kernenergie']\n}, {\n  symbol: 'Pa',\n  name: 'Protactinium',\n  atomicNumber: 91,\n  mass: 231.04,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Selteneres, radioaktives Element. Für Kernreaktor-Forschung.',\n  theme: 'research',\n  experiments: ['forschung', 'kernreaktor', 'urananreicherung']\n}, {\n  symbol: 'Np',\n  name: 'Neptunium',\n  atomicNumber: 93,\n  mass: 237,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Erste in Atomversuchen produziert. Für Plutonium-Herstellung.',\n  theme: 'nuclear',\n  experiments: ['künstlich', 'plutonium', 'reaktor']\n}, {\n  symbol: 'Pu',\n  name: 'Plutonium',\n  atomicNumber: 94,\n  mass: 244,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Tödlichste Substanz. Mikrogramm können töten. Für Kernwaffen und Raumfahrt-RTGs.',\n  theme: 'nuclear',\n  experiments: ['kernwaffen', 'raumfahrt', 'gefahr']\n}, {\n  symbol: 'Am',\n  name: 'Americium',\n  atomicNumber: 95,\n  mass: 243,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Entdeckt in H-Bomben-Fallout (Ivy Mike 1952). Für Rauchdetektoren.',\n  theme: 'space',\n  experiments: ['rauchdetektor', 'h-bombe', 'spuren']\n}, {\n  symbol: 'Cm',\n  name: 'Curium',\n  atomicNumber: 96,\n  mass: 247,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Pierre und Marie Curie. Für Raumschiff-RTGs.',\n  theme: 'space',\n  experiments: ['raumfahrt', 'curie', 'kernenergie']\n}, {\n  symbol: 'Bk',\n  name: 'Berkelium',\n  atomicNumber: 97,\n  mass: 247,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Sehr kurzlebig. Für wissenschaftliche Forschung.',\n  theme: 'research',\n  experiments: ['forschung', 'kernchemie', 'instabil']\n}, {\n  symbol: 'Cf',\n  name: 'Californium',\n  atomicNumber: 98,\n  mass: 251,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Für Neutronenquellen und Elementsynthese.',\n  theme: 'nuclear',\n  experiments: ['neutronenquelle', 'synthese', 'zerfall']\n}, {\n  symbol: 'Es',\n  name: 'Einsteinium',\n  atomicNumber: 99,\n  mass: 252,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Entdeckt 1952 im Fallout der H-Bombe Ivy Mike. In Gedenken an Einstein.',\n  theme: 'history',\n  experiments: ['historisch', 'h-bombe', 'memorial']\n}, {\n  symbol: 'Fm',\n  name: 'Fermium',\n  atomicNumber: 100,\n  mass: 257,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Enrico Fermi. Für theoretische Kernreaktoren.',\n  theme: 'research',\n  experiments: ['reaktor', 'theoretisch', 'nuklearphysik']\n}, {\n  symbol: 'Md',\n  name: 'Mendelevium',\n  atomicNumber: 101,\n  mass: 258,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. In Gedenken an Mendelejew. Ehemaliges Element 101.',\n  theme: 'history',\n  experiments: ['historisch', 'periodensystem', 'tradition']\n}, {\n  symbol: 'No',\n  name: 'Nobelium',\n  atomicNumber: 102,\n  mass: 259,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Benannt nach Alfred Nobel. Für wissenschaftliche Anerkennung.',\n  theme: 'history',\n  experiments: ['auszeichnung', 'nobelpreis', 'forschung']\n}, {\n  symbol: 'Lr',\n  name: 'Lawrencium',\n  atomicNumber: 103,\n  mass: 262,\n  group: 'actinide',\n  period: 7,\n  block: 'f',\n  groupNumber: 3,\n  color: GROUP_COLORS.actinide,\n  description: 'Letztes natürliches Element. Namensgeber: Ernest Lawrence. Entdeckung der Lanthanoide.',\n  theme: 'discovery',\n  experiments: ['entdeckung', 'synchrotron', 'teilchenbeschleuniger']\n}, {\n  symbol: 'Rf',\n  name: 'Rutherfordium',\n  atomicNumber: 104,\n  mass: 267,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 4,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Ernest Rutherford. Entdeckung des Atomkerns.',\n  theme: 'research',\n  experiments: ['kernphysik', 'teilchen', 'reaktor']\n}, {\n  symbol: 'Db',\n  name: 'Dubnium',\n  atomicNumber: 105,\n  mass: 268,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 5,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Stadt Dubna. Forschungszentrum Russlands.',\n  theme: 'research',\n  experiments: ['forschung', 'kernchemie', 'instabil']\n}, {\n  symbol: 'Sg',\n  name: 'Seaborgium',\n  atomicNumber: 106,\n  mass: 269,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 6,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Glenn Seaborg. Forschungszentrum USA.',\n  theme: 'research',\n  experiments: ['forschung', 'chemie', 'synthese']\n}, {\n  symbol: 'Bh',\n  name: 'Bohrium',\n  atomicNumber: 107,\n  mass: 270,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 7,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Niels Bohr. Quantenmechanik-Revolution.',\n  theme: 'science',\n  experiments: ['quantenmechanik', 'theoretisch', 'modell']\n}, {\n  symbol: 'Hs',\n  name: 'Hassium',\n  atomicNumber: 108,\n  mass: 277,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Hessen (Bundesland). Erste deutsche Entdeckung.',\n  theme: 'discovery',\n  experiments: ['entdeckung', 'deutsch', 'teilchen']\n}, {\n  symbol: 'Mt',\n  name: 'Meitnerium',\n  atomicNumber: 109,\n  mass: 278,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Lise Meitner. Entdeckung der Kernspaltung.',\n  theme: 'history',\n  experiments: ['kernspaltung', 'uran', 'geschichte']\n}, {\n  symbol: 'Ds',\n  name: 'Darmstadtium',\n  atomicNumber: 110,\n  mass: 281,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Darmstadt. GSI Teilchenbeschleuniger.',\n  theme: 'research',\n  experiments: ['teilchenbeschleuniger', 'schwerionen', 'synthese']\n}, {\n  symbol: 'Rg',\n  name: 'Roentgenium',\n  atomicNumber: 111,\n  mass: 282,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Wilhelm Röntgen. Für medizinische Bildgebung.',\n  theme: 'medical',\n  experiments: ['röntgen', 'medizin', 'synthese']\n}, {\n  symbol: 'Cn',\n  name: 'Copernicium',\n  atomicNumber: 112,\n  mass: 285,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Nikolaus Kopernikus. Revolution des Weltbilds.',\n  theme: 'history',\n  experiments: ['astronomie', 'revolution', 'universum']\n}, {\n  symbol: 'Nh',\n  name: 'Nihonium',\n  atomicNumber: 113,\n  mass: 286,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Japan. Für Elementsynthese-Forschung.',\n  theme: 'research',\n  experiments: ['synthese', 'element', 'forschung']\n}, {\n  symbol: 'Fl',\n  name: 'Flerovium',\n  atomicNumber: 114,\n  mass: 289,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Georgij Flerow. Für theoretische Physik.',\n  theme: 'science',\n  experiments: ['theoretisch', 'modell', 'stabilität']\n}, {\n  symbol: 'Mc',\n  name: 'Moscovium',\n  atomicNumber: 115,\n  mass: 290,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Moskau. Dubiose Entdeckungsgeschichte.',\n  theme: 'history',\n  experiments: ['dubios', 'synthese', 'wissenschaft']\n}, {\n  symbol: 'Lv',\n  name: 'Livermorium',\n  atomicNumber: 116,\n  mass: 293,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Lawrence Livermore National Laboratory. Element 116.',\n  theme: 'research',\n  experiments: ['element116', 'kernreaktor', 'synthese']\n}, {\n  symbol: 'Ts',\n  name: 'Tennessin',\n  atomicNumber: 117,\n  mass: 294,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Künstliches Element. Namensgeber: Tennessee (USA). Superheavy-Elemente-Forschung.',\n  theme: 'research',\n  experiments: ['superheavy', 'inselfstabilität', 'synthese']\n}, {\n  symbol: 'Og',\n  name: 'Oganesson',\n  atomicNumber: 118,\n  mass: 294,\n  group: 'actinide',\n  period: 7,\n  block: 'd',\n  groupNumber: 8,\n  color: GROUP_COLORS.actinide,\n  description: 'Schwerstes natürliches Element. Namensgeber: Yuri Oganessian. Insel der Stabilität gesucht.',\n  theme: 'discovery',\n  experiments: ['inselfstabilität', 'insel', 'theoretisch']\n}];\n\n// Get element by atomic number\nfunction getElementByNumber(atomicNumber) {\n  return ELEMENTS.find(e => e.atomicNumber === atomicNumber);\n}\n\n// Get element by symbol\nfunction getElementBySymbol(symbol) {\n  return ELEMENTS.find(e => e.symbol === symbol);\n}\n\n// Get elements by group\nfunction getElementsByGroup(group) {\n  return ELEMENTS.filter(e => e.group === group);\n}\n\n// Get elements by period\nfunction getElementsByPeriod(period) {\n  return ELEMENTS.filter(e => e.period === period);\n}\n\n// Experimental Rooms\nconst EXPERIMENTAL_ROOMS = [{\n  id: 'reaction_lab',\n  name: 'Reaktionslabor',\n  description: 'Die Alchemistenwerkstatt',\n  icon: '🧪',\n  color: 0xFF6B6B,\n  experiments: ['alkali_water', 'thermit', 'elefantenzahnpasta']\n}, {\n  id: 'nuclear_chamber',\n  name: 'Nuklearphysik',\n  description: 'Kernkraftwerk-Kontrollraum',\n  icon: '☢️',\n  color: 0x4A69BD,\n  experiments: ['fission', 'fusion', 'decay']\n}, {\n  id: 'electrochem_lab',\n  name: 'Elektrochemie',\n  description: 'Batterien und Elektrolyse',\n  ion: '🔋',\n  color: 0x74B9FF,\n  experiments: ['lion_battery', 'galvanic', 'electrolysis']\n}, {\n  id: 'organic_chem',\n  name: 'Organische Chemie',\n  description: 'Das Kohlenstoff-Universum',\n  icon: '🧬',\n  color: 0x20C997,\n  experiments: ['dna', 'proteins', 'polymers']\n}, {\n  id: 'extreme_conditions',\n  name: 'Extreme Bedingungen',\n  description: 'Grenzen der Materie',\n  icon: '🌡️',\n  color: 0xFFA94D,\n  experiments: ['superfluid', 'plasma', 'highpressure']\n}, {\n  id: 'industrial_apps',\n  name: 'Industrielle Anwendungen',\n  description: 'Großindustrie der Chemie',\n  icon: '🏭',\n  color: 0x74B9FF,\n  experiments: ['haberbosch', 'blastfurnace', 'petrochemical']\n}, {\n  id: 'historical_lab',\n  name: 'Historisches Labor',\n  description: 'Meilensteine der Entdeckung',\n  icon: '🏛️',\n  color: 0xD63384,\n  experiments: ['marie_curie', 'lavoisier', 'mendeleev']\n}, {\n  id: 'space_chem',\n  name: 'Weltraumchemie',\n  description: 'Chemie im Kosmos',\n  icon: '🚀',\n  color: 0x0A0A1A,\n  experiments: ['nucleosynthesis', 'meteorites', 'interstellar']\n}, {\n  id: 'nano_world',\n  name: 'Nano-Welt',\n  description: 'Die atomare Perspektive',\n  icon: '🔬',\n  color: 0x17A2B8,\n  experiments: ['crystals', 'orbitals', 'nanotubes']\n}, {\n  id: 'challenge_arena',\n  name: 'Challenge-Arena',\n  description: 'Quiz und Wettkampf',\n  icon: '🏆',\n  color: 0xFFC107,\n  experiments: ['quiz', 'puzzle', 'escape_room']\n}];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9lbGVtZW50cy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kYXRhL2VsZW1lbnRzLmpzPzk2ZjciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gUGVyaW9kaWMgVGFibGUgRWxlbWVudCBEYXRhXHJcbi8vIFBTRSBpbiBWUiAtIFZpcnR1ZWxsZXMgUGVyaW9kZW5zeXN0ZW1cclxuXHJcbi8vIEVsZW1lbnQgR3JvdXAgQ29sb3JzXHJcbmV4cG9ydCBjb25zdCBHUk9VUF9DT0xPUlMgPSB7XHJcbiAgYWxrYWxpOiAweEZGNkI2QiwgICAgICAgICAgIC8vIEFsa2FsaW1ldGFsbGVcclxuICBhbGthbGluZUVhcnRoOiAweEZGQTk0RCwgICAgLy8gRXJkYWxrYWxpbWV0YWxsZVxyXG4gIHRyYW5zaXRpb246IDB4NzRCOUZGLCAgICAgICAvLyDDnGJlcmdhbmdzbWV0YWxsZVxyXG4gIGxhbnRoYW5pZGU6IDB4RDYzMzg0LCAgICAgICAvLyBMYW50aGFub2lkZVxyXG4gIGFjdGluaWRlOiAweDRBNjlCRCwgICAgICAgICAvLyBBY3Rpbm9pZGVcclxuICBtZXRhbDogMHgyMEM5OTcsICAgICAgICAgICAgIC8vIE1ldGFsbGUgKDEzLTE2KVxyXG4gIG1ldGFsbG9pZDogMHgxN0EyQjgsICAgICAgICAgIC8vIE1ldGFsbG9pZGVcclxuICBub25tZXRhbDogMHhGRkMxMDcsICAgICAgICAgICAvLyBOaWNodG1ldGFsbGVcclxuICBoYWxvZ2VuOiAweDAwRDlGRiwgICAgICAgICAgIC8vIEhhbG9nZW5lXHJcbiAgbm9ibGVHYXM6IDB4RkZGRkZGICAgICAgICAgICAgLy8gRWRlbGdhc2UgKHVzZSBzcGVjaWZpYyBnYXMgY29sb3JzKVxyXG59O1xyXG5cclxuLy8gTm9ibGUgZ2FzIGRpc2NoYXJnZSBjb2xvcnNcclxuZXhwb3J0IGNvbnN0IE5PQkxFX0dBU19DT0xPUlMgPSB7XHJcbiAgSGU6IDB4RkZFNEUxLCAgLy8gSGVsaXVtIC0gcGFsZSBwaW5rL3doaXRlXHJcbiAgTmU6IDB4RkY2QjAwLCAgLy8gTmVvbiAtIG9yYW5nZS1yZWRcclxuICBBcjogMHg3QjY4RUUsICAvLyBBcmdvbiAtIHB1cnBsZVxyXG4gIEtyOiAweDAwQ0VEMSwgIC8vIEtyeXB0b24gLSBjeWFuXHJcbiAgWGU6IDB4NDE2OUUxLCAgLy8gWGVub24gLSBibHVlXHJcbiAgUm46IDB4RTBGRkZGICAgLy8gUmFkb24gLSBsaWdodCBibHVlXHJcbn07XHJcblxyXG4vLyBFbGVtZW50IGRlZmluaXRpb25zIChwYXJ0aWFsIGZvciBNVlAgLSBQaGFzZSAxKVxyXG5leHBvcnQgY29uc3QgRUxFTUVOVFMgPSBbXHJcbiAgLy8gSHlkcm9nZW5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdIJyxcclxuICAgIG5hbWU6ICdXYXNzZXJzdG9mZicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDEsXHJcbiAgICBtYXNzOiAxLjAwOCxcclxuICAgIGdyb3VwOiAnbm9ubWV0YWwnLFxyXG4gICAgcGVyaW9kOiAxLFxyXG4gICAgYmxvY2s6ICdzJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxLFxyXG4gICAgY29sb3I6IDB4RkZDMTA3LFxyXG4gICAgZGVzY3JpcHRpb246ICdEYXMgaMOkdWZpZ3N0ZSBFbGVtZW50IGltIFVuaXZlcnN1bS4gQmlsZGV0IDc1JSBkZXIgTWFzc2UgZGVyIFNvbm5lLicsXHJcbiAgICB0aGVtZTogJ2Nvc21pYycsXHJcbiAgICBleHBlcmltZW50czogWydrbmFsbGdhcycsICdmdXNpb24nLCAnZnVlbGNlbGwnXVxyXG4gIH0sXHJcblxyXG4gIC8vIEhlbGl1bVxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0hlJyxcclxuICAgIG5hbWU6ICdIZWxpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAyLFxyXG4gICAgbWFzczogNC4wMDMsXHJcbiAgICBncm91cDogJ25vYmxlR2FzJyxcclxuICAgIHBlcmlvZDogMSxcclxuICAgIGJsb2NrOiAncycsXHJcbiAgICBncm91cE51bWJlcjogMTgsXHJcbiAgICBjb2xvcjogTk9CTEVfR0FTX0NPTE9SUy5IZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnRGFzIHp3ZWl0aMOkdWZpZ3N0ZSBFbGVtZW50IGltIFVuaXZlcnN1bS4gV3VyZGUgenVlcnN0IGltIFNvbm5lbnNwZWt0cnVtIGVudGRlY2t0LicsXHJcbiAgICB0aGVtZTogJ3NvbGFyJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ3N1cGVyZmx1aWQnLCAndm9pY2VzaGlmdCddXHJcbiAgfSxcclxuXHJcbiAgLy8gTGl0aGl1bVxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0xpJyxcclxuICAgIG5hbWU6ICdMaXRoaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogMyxcclxuICAgIG1hc3M6IDYuOTQxLFxyXG4gICAgZ3JvdXA6ICdhbGthbGknLFxyXG4gICAgcGVyaW9kOiAyLFxyXG4gICAgYmxvY2s6ICdzJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hbGthbGksXHJcbiAgICBkZXNjcmlwdGlvbjogJ0RhcyBsZWljaHRlc3RlIE1ldGFsbC4gV2ljaHRpZ2VyIEJlc3RhbmR0ZWlsIHZvbiBMaXRoaXVtLUlvbmVuLUJhdHRlcmllbi4nLFxyXG4gICAgdGhlbWU6ICdlbmVyZ3knLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnd2F0ZXJSZWFjdGlvbicsICdiYXR0ZXJ5J11cclxuICB9LFxyXG5cclxuICAvLyBCZXJ5bGxpdW1cclxuICB7XHJcbiAgICBzeW1ib2w6ICdCZScsXHJcbiAgICBuYW1lOiAnQmVyeWxsaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogNCxcclxuICAgIG1hc3M6IDkuMDEyLFxyXG4gICAgZ3JvdXA6ICdhbGthbGluZUVhcnRoJyxcclxuICAgIHBlcmlvZDogMixcclxuICAgIGJsb2NrOiAncycsXHJcbiAgICBncm91cE51bWJlcjogMixcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWxrYWxpbmVFYXJ0aCxcclxuICAgIGRlc2NyaXB0aW9uOiAnSG9jaGdpZnRpZ2VzIE1ldGFsbCBtaXQgbmllZHJpZ2VyIERpY2h0ZS4gVmVyd2VuZGV0IGluIGRlciBXZWx0cmF1bXRlY2huaWsuJyxcclxuICAgIHRoZW1lOiAnZ2VtJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2NyeXN0YWwnLCAndG94aWNpdHknXVxyXG4gIH0sXHJcblxyXG4gIC8vIEJvclxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0InLFxyXG4gICAgbmFtZTogJ0JvcicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDUsXHJcbiAgICBtYXNzOiAxMC44MSxcclxuICAgIGdyb3VwOiAnbWV0YWxsb2lkJyxcclxuICAgIHBlcmlvZDogMixcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLm1ldGFsbG9pZCxcclxuICAgIGRlc2NyaXB0aW9uOiAnSGFydGVzIE1hdGVyaWFsIGbDvHIgR2xhc2Zhc2Vybi4gS29tbXQgaW4gV8O8c3RlbnNhbHplbiB2b3IuJyxcclxuICAgIHRoZW1lOiAnZGVzZXJ0JyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2JvcmF4JywgJ2ZpYmVyZ2xhc3MnXVxyXG4gIH0sXHJcblxyXG4gIC8vIENhcmJvblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0MnLFxyXG4gICAgbmFtZTogJ0tvaGxlbnN0b2ZmJyxcclxuICAgIGF0b21pY051bWJlcjogNixcclxuICAgIG1hc3M6IDEyLjAxMSxcclxuICAgIGdyb3VwOiAnbm9ubWV0YWwnLFxyXG4gICAgcGVyaW9kOiAyLFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxNCxcclxuICAgIGNvbG9yOiAweEZGQzEwNyxcclxuICAgIGRlc2NyaXB0aW9uOiAnRGFzIEVsZW1lbnQgZGVzIExlYmVucy4gR3J1bmRiYXVzdGVpbiBhbGxlciBvcmdhbmlzY2hlbiBWZXJiaW5kdW5nZW4uJyxcclxuICAgIHRoZW1lOiAnbGlmZScsXHJcbiAgICBleHBlcmltZW50czogWydkaWFtb25kJywgJ2dyYXBoaXRlJywgJ2RuYSddXHJcbiAgfSxcclxuXHJcbiAgLy8gTml0cm9nZW5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdOJyxcclxuICAgIG5hbWU6ICdTdGlja3N0b2ZmJyxcclxuICAgIGF0b21pY051bWJlcjogNyxcclxuICAgIG1hc3M6IDE0LjAwNyxcclxuICAgIGdyb3VwOiAnbm9ubWV0YWwnLFxyXG4gICAgcGVyaW9kOiAyLFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxNSxcclxuICAgIGNvbG9yOiAweEZGQzEwNyxcclxuICAgIGRlc2NyaXB0aW9uOiAnTWFjaHQgNzglIGRlciBBdG1vc3Bow6RyZSBhdXMuIEVzc2VudGllbGwgZsO8ciBQcm90ZWluZSB1bmQgRE5BLicsXHJcbiAgICB0aGVtZTogJ2F0bW9zcGhlcmUnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnbGlxdWlkJywgJ2hhYmVyYm9zY2gnLCAnZmVydGlsaXplciddXHJcbiAgfSxcclxuXHJcbiAgLy8gT3h5Z2VuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnTycsXHJcbiAgICBuYW1lOiAnU2F1ZXJzdG9mZicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDgsXHJcbiAgICBtYXNzOiAxNS45OTksXHJcbiAgICBncm91cDogJ25vbm1ldGFsJyxcclxuICAgIHBlcmlvZDogMixcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTYsXHJcbiAgICBjb2xvcjogMHhGRkMxMDcsXHJcbiAgICBkZXNjcmlwdGlvbjogJ1p3ZWl0aMOkdWZpZ3N0ZXMgRWxlbWVudCBpbSBVbml2ZXJzdW0uIE5vdHdlbmRpZyBmw7xyIEF0bXVuZyB1bmQgVmVyYnJlbm51bmcuJyxcclxuICAgIHRoZW1lOiAnYnJlYXRoJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2NvbWJ1c3Rpb24nLCAnb3pvbmUnLCAncGhvdG9zeW50aGVzaXMnXVxyXG4gIH0sXHJcblxyXG4gIC8vIEZsdW9yaW5lXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnRicsXHJcbiAgICBuYW1lOiAnRmx1b3InLFxyXG4gICAgYXRvbWljTnVtYmVyOiA5LFxyXG4gICAgbWFzczogMTguOTk4LFxyXG4gICAgZ3JvdXA6ICdoYWxvZ2VuJyxcclxuICAgIHBlcmlvZDogMixcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTcsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmhhbG9nZW4sXHJcbiAgICBkZXNjcmlwdGlvbjogJ1JlYWt0aXZzdGVzIGFsbGVyIEVsZW1lbnRlLiBXaXJkIGluIFRlZmxvbiB1bmQgWmFobmNyZW1lIHZlcndlbmRldC4nLFxyXG4gICAgdGhlbWU6ICdwcm90ZWN0aW9uJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ3JlYWN0aW9uJywgJ3RlZmxvbiddXHJcbiAgfSxcclxuXHJcbiAgLy8gTmVvblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ05lJyxcclxuICAgIG5hbWU6ICdOZW9uJyxcclxuICAgIGF0b21pY051bWJlcjogMTAsXHJcbiAgICBtYXNzOiAyMC4xODAsXHJcbiAgICBncm91cDogJ25vYmxlR2FzJyxcclxuICAgIHBlcmlvZDogMixcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTgsXHJcbiAgICBjb2xvcjogTk9CTEVfR0FTX0NPTE9SUy5OZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnTGV1Y2h0ZXQgYmVpIGVsZWt0cmlzY2hlciBFbnRsYWR1bmcgb3JhbmdlLXJvdC4gU3ltYm9sIGRlciBTdGFkdGJlbGV1Y2h0dW5nLicsXHJcbiAgICB0aGVtZTogJ2xpZ2h0cycsXHJcbiAgICBleHBlcmltZW50czogWyduZW9uJywgJ2xhc2VyJ11cclxuICB9LFxyXG5cclxuICAvLyBTb2RpdW1cclxuICB7XHJcbiAgICBzeW1ib2w6ICdOYScsXHJcbiAgICBuYW1lOiAnTmF0cml1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDExLFxyXG4gICAgbWFzczogMjIuOTkwLFxyXG4gICAgZ3JvdXA6ICdhbGthbGknLFxyXG4gICAgcGVyaW9kOiAzLFxyXG4gICAgYmxvY2s6ICdzJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hbGthbGksXHJcbiAgICBkZXNjcmlwdGlvbjogJ1NpbGJlcmdsw6RuemVuZGVzIE1ldGFsbCwgYnV0dGVyd2VpY2guIEJhc2lzIGbDvHIgU3BlaXNlc2FseiAoTmFDbCkuJyxcclxuICAgIHRoZW1lOiAna2l0Y2hlbicsXHJcbiAgICBleHBlcmltZW50czogWyd3YXRlcicsICdmbGFtZScsICdzYWx0Y3J5c3RhbCddXHJcbiAgfSxcclxuXHJcbiAgLy8gTWFnbmVzaXVtXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnTWcnLFxyXG4gICAgbmFtZTogJ01hZ25lc2l1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDEyLFxyXG4gICAgbWFzczogMjQuMzA1LFxyXG4gICAgZ3JvdXA6ICdhbGthbGluZUVhcnRoJyxcclxuICAgIHBlcmlvZDogMyxcclxuICAgIGJsb2NrOiAncycsXHJcbiAgICBncm91cE51bWJlcjogMixcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWxrYWxpbmVFYXJ0aCxcclxuICAgIGRlc2NyaXB0aW9uOiAnQmxlbmRlbmQgd2Vpw59lcyBMaWNodCBiZWltIFZlcmJyZW5uZW4uIEtvbW10IGluIENobG9yb3BoeWxsIHZvci4nLFxyXG4gICAgdGhlbWU6ICdsaWdodCcsXHJcbiAgICBleHBlcmltZW50czogWydmbGFzaCcsICdjaGxvcm9waHlsbCcsICdhbGxveSddXHJcbiAgfSxcclxuXHJcbiAgLy8gQWx1bWludW1cclxuICB7XHJcbiAgICBzeW1ib2w6ICdBbCcsXHJcbiAgICBuYW1lOiAnQWx1bWluaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogMTMsXHJcbiAgICBtYXNzOiAyNi45ODIsXHJcbiAgICBncm91cDogJ21ldGFsJyxcclxuICAgIHBlcmlvZDogMyxcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLm1ldGFsLFxyXG4gICAgZGVzY3JpcHRpb246ICdEYXMgaMOkdWZpZ3N0ZSBNZXRhbGwgZGVyIEVyZGtydXN0ZS4gTGVpY2h0IHVuZCBrb3Jyb3Npb25zYmVzdMOkbmRpZy4nLFxyXG4gICAgdGhlbWU6ICdpbmR1c3RyeScsXHJcbiAgICBleHBlcmltZW50czogWydoYWxsaGVyb3VsdCcsICd0aGVybWl0JywgJ2ZvaWwnXVxyXG4gIH0sXHJcblxyXG4gIC8vIFNpbGljb25cclxuICB7XHJcbiAgICBzeW1ib2w6ICdTaScsXHJcbiAgICBuYW1lOiAnU2lsaXppdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAxNCxcclxuICAgIG1hc3M6IDI4LjA4NixcclxuICAgIGdyb3VwOiAnbWV0YWxsb2lkJyxcclxuICAgIHBlcmlvZDogMyxcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTQsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLm1ldGFsbG9pZCxcclxuICAgIGRlc2NyaXB0aW9uOiAnWndlaXRow6R1Zmlnc3RlcyBFbGVtZW50IGRlciBFcmRrcnVzdGUuIEJhc2lzIGFsbGVyIG1vZGVybmVuIEVsZWt0cm9uaWsuJyxcclxuICAgIHRoZW1lOiAnc2lsaWNvbicsXHJcbiAgICBleHBlcmltZW50czogWyd0cmFuc2lzdG9yJywgJ3NvbGFyJywgJ3NhbmQnXVxyXG4gIH0sXHJcblxyXG4gIC8vIFBob3NwaG9ydXNcclxuICB7XHJcbiAgICBzeW1ib2w6ICdQJyxcclxuICAgIG5hbWU6ICdQaG9zcGhvcicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDE1LFxyXG4gICAgbWFzczogMzAuOTc0LFxyXG4gICAgZ3JvdXA6ICdub25tZXRhbCcsXHJcbiAgICBwZXJpb2Q6IDMsXHJcbiAgICBibG9jazogJ3AnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDE1LFxyXG4gICAgY29sb3I6IDB4RkZDMTA3LFxyXG4gICAgZGVzY3JpcHRpb246ICdHbMO8aHQgd2Vpw58gaW0gRHVua2Vsbi4gV2ljaHRpZ2VyIEJlc3RhbmR0ZWlsIHZvbiBETkEgdW5kIEFUUC4nLFxyXG4gICAgdGhlbWU6ICdmaXJlJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ3doaXRlJywgJ3JlZCcsICdtYXRjaCddXHJcbiAgfSxcclxuXHJcbiAgLy8gU3VsZnVyXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnUycsXHJcbiAgICBuYW1lOiAnU2Nod2VmZWwnLFxyXG4gICAgYXRvbWljTnVtYmVyOiAxNixcclxuICAgIG1hc3M6IDMyLjA2NSxcclxuICAgIGdyb3VwOiAnbm9ubWV0YWwnLFxyXG4gICAgcGVyaW9kOiAzLFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxNixcclxuICAgIGNvbG9yOiAweEZGQzEwNyxcclxuICAgIGRlc2NyaXB0aW9uOiAnR2VsYmVzIEVsZW1lbnQgbWl0IGNoYXJha3RlcmlzdGlzY2hlbSBHZXJ1Y2guIEtvbW10IGluIFZ1bGthbmVuIHZvci4nLFxyXG4gICAgdGhlbWU6ICd2b2xjYW5vJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2J1cm5pbmcnLCAnZ3VucG93ZGVyJywgJ2Jyb21vJ11cclxuICB9LFxyXG5cclxuICAvLyBDaGxvcmluZVxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0NsJyxcclxuICAgIG5hbWU6ICdDaGxvcicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDE3LFxyXG4gICAgbWFzczogMzUuNDUzLFxyXG4gICAgZ3JvdXA6ICdoYWxvZ2VuJyxcclxuICAgIHBlcmlvZDogMyxcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTcsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmhhbG9nZW4sXHJcbiAgICBkZXNjcmlwdGlvbjogJ0dyw7xuLWdlbGJlcyBHaWZ0Z2FzLiBXaXJkIHp1ciBXYXNzZXJkZXNpbmZla3Rpb24gdmVyd2VuZGV0LicsXHJcbiAgICB0aGVtZTogJ3N3aW1taW5nJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2Rpc2luZmVjdGlvbicsICdzYWx0JywgJ2dhcyddXHJcbiAgfSxcclxuXHJcbiAgLy8gQXJnb25cclxuICB7XHJcbiAgICBzeW1ib2w6ICdBcicsXHJcbiAgICBuYW1lOiAnQXJnb24nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAxOCxcclxuICAgIG1hc3M6IDM5Ljk0OCxcclxuICAgIGdyb3VwOiAnbm9ibGVHYXMnLFxyXG4gICAgcGVyaW9kOiAzLFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxOCxcclxuICAgIGNvbG9yOiBOT0JMRV9HQVNfQ09MT1JTLkFyLFxyXG4gICAgZGVzY3JpcHRpb246ICdIw6R1Zmlnc3RlcyBFZGVsZ2FzICgxJSBBdG1vc3Bow6RyZSkuIFdpcmQgZsO8ciBXSUctU2Nod2Vpw59lbiB2ZXJ3ZW5kZXQuJyxcclxuICAgIHRoZW1lOiAnd2VsZGluZycsXHJcbiAgICBleHBlcmltZW50czogWydwbGFzbWEnLCAnaW5lcnQnXVxyXG4gIH0sXHJcblxyXG4gIC8vIENhbGNpdW1cclxuICB7XHJcbiAgICBzeW1ib2w6ICdDYScsXHJcbiAgICBuYW1lOiAnQ2FsY2l1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDIwLFxyXG4gICAgbWFzczogNDAuMDc4LFxyXG4gICAgZ3JvdXA6ICdhbGthbGluZUVhcnRoJyxcclxuICAgIHBlcmlvZDogNCxcclxuICAgIGJsb2NrOiAncycsXHJcbiAgICBncm91cE51bWJlcjogMixcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWxrYWxpbmVFYXJ0aCxcclxuICAgIGRlc2NyaXB0aW9uOiAnQmF1a25vY2hlbiBkZXMgTGViZW5zLiBGw7xuZnQtaMOkdWZpZ3N0ZXMgRWxlbWVudCBkZXIgRXJka3J1c3RlLicsXHJcbiAgICB0aGVtZTogJ3NrZWxldG9uJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2J1cm5pbmcnLCAnYm9uZXMnLCAnbGltZXN0b25lJ11cclxuICB9LFxyXG5cclxuICAvLyBJcm9uXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnRmUnLFxyXG4gICAgbmFtZTogJ0Vpc2VuJyxcclxuICAgIGF0b21pY051bWJlcjogMjYsXHJcbiAgICBtYXNzOiA1NS44NDUsXHJcbiAgICBncm91cDogJ3RyYW5zaXRpb24nLFxyXG4gICAgcGVyaW9kOiA0LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA4LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy50cmFuc2l0aW9uLFxyXG4gICAgZGVzY3JpcHRpb246ICdXaWNodGlnc3RlcyBNZXRhbGwgZGVyIE1lbnNjaGhlaXQuIEdydW5kYmF1c3RlaW4gdm9uIFN0YWhsIHVuZCBIw6Rtb2dsb2Jpbi4nLFxyXG4gICAgdGhlbWU6ICdmb3JnZScsXHJcbiAgICBleHBlcmltZW50czogWydtYWduZXQnLCAncnVzdCcsICdzdGVlbCddXHJcbiAgfSxcclxuXHJcbiAgLy8gQ29wcGVyXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnQ3UnLFxyXG4gICAgbmFtZTogJ0t1cGZlcicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDI5LFxyXG4gICAgbWFzczogNjMuNTQ2LFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNCxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogMTEsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Vyc3RlcyBNZXRhbGwgZGVyIE1lbnNjaGhlaXQuIEV4emVsbGVudGVyIGVsZWt0cmlzY2hlciBMZWl0ZXIuJyxcclxuICAgIHRoZW1lOiAnZWxlY3RyaWMnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnY29uZHVjdGl2aXR5JywgJ3BhdGluYScsICdicm9uemUnXVxyXG4gIH0sXHJcblxyXG4gIC8vIEdvbGRcclxuICB7XHJcbiAgICBzeW1ib2w6ICdBdScsXHJcbiAgICBuYW1lOiAnR29sZCcsXHJcbiAgICBhdG9taWNOdW1iZXI6IDc5LFxyXG4gICAgbWFzczogMTk2Ljk2NyxcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDExLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy50cmFuc2l0aW9uLFxyXG4gICAgZGVzY3JpcHRpb246ICdFZGVsc3RlcyBNZXRhbGwuIEVpbnppZ2VzIGdlbGJlcyBNZXRhbGwgKHJlbGF0aXZpc3Rpc2NoZSBFZmZla3RlKS4nLFxyXG4gICAgdGhlbWU6ICd0cmVhc3VyZScsXHJcbiAgICBleHBlcmltZW50czogWydkdWN0aWxpdHknLCAnYWxsb3lzJywgJ2VsZWN0cm9wbGF0aW5nJ11cclxuICB9LFxyXG5cclxuICAvLyBVcmFuaXVtXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnVScsXHJcbiAgICBuYW1lOiAnVXJhbicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDkyLFxyXG4gICAgbWFzczogMjM4LjAyOSxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnU2Nod2Vyc3RlcyBow6R1ZmlnZXMgbmF0w7xybGljaGVzIEVsZW1lbnQuIEJhc2lzIGbDvHIgS2VybmVuZXJnaWUuJyxcclxuICAgIHRoZW1lOiAnbnVjbGVhcicsXHJcbiAgICBleHBlcmltZW50czogWydmaXNzaW9uJywgJ2RlY2F5JywgJ2ZsdW9yZXNjZW5jZSddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnSycsXHJcbiAgICBuYW1lOiAnS2FsaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogMTksXHJcbiAgICBtYXNzOiAzOS4wOTgsXHJcbiAgICBncm91cDogJ2Fsa2FsaScsXHJcbiAgICBwZXJpb2Q6IDQsXHJcbiAgICBibG9jazogJ3MnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDEsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFsa2FsaSxcclxuICAgIGRlc2NyaXB0aW9uOiAnUmVha3RpdiBNZXRhbGwsIGluIGRlciBOYXR1ciBvZnQgYWxzIElvbi4gV2VzZW50bGljaCBmw7xyIGJpb2xvZ2lzY2hlIFByb3plc3NlLicsXHJcbiAgICB0aGVtZTogJ2Jpb2xvZ2ljYWwnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnd2F0ZXInLCAnZmxhbWUnLCAnYmFuYW5lJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdDYScsXHJcbiAgICBuYW1lOiAnQ2FsY2l1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDIwLFxyXG4gICAgbWFzczogNDAuMDc4LFxyXG4gICAgZ3JvdXA6ICdhbGthbGluZUVhcnRoJyxcclxuICAgIHBlcmlvZDogNCxcclxuICAgIGJsb2NrOiAncycsXHJcbiAgICBncm91cE51bWJlcjogMixcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWxrYWxpbmVFYXJ0aCxcclxuICAgIGRlc2NyaXB0aW9uOiAnRsO8bmZ0LWjDpHVmaWdzdGVzIEVsZW1lbnQgZGVyIEVyZGtydXN0ZS4gRsO8bmZ0LWjDpHVmaWdzdGVzIEVsZW1lbnQgaW0gbWVuc2NobGljaGVuIEvDtnJwZXIuJyxcclxuICAgIHRoZW1lOiAnYmlvbG9naWNhbCcsXHJcbiAgICBleHBlcmltZW50czogWydidXJuaW5nJywgJ2tub2NoZW4nLCAna2Fsa3N0ZWluJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdTYycsXHJcbiAgICBuYW1lOiAnU2NhbmRpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAyMSxcclxuICAgIG1hc3M6IDQ0Ljk1NixcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDQsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ1NlbHRlbmVzIMOcYmVyZ2FuZ3NtZXRhbGwuIFdpcmQgaW4gU3BvcnRnZXLDpHRlbiB1bmQgSG9jaGxlaXN0dW5nc2xlZ2llcnVuZ2VuIHZlcndlbmRldC4nLFxyXG4gICAgdGhlbWU6ICdhZXJvc3BhY2UnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnYWxsb3knLCAnbWFnbmV0aWMnLCAnc3BvcnQnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1RpJyxcclxuICAgIG5hbWU6ICdUaXRhbicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDIyLFxyXG4gICAgbWFzczogNDcuODY3LFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNCxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogNCxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMudHJhbnNpdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiAnS29ycm9zaW9uc2Jlc3TDpG5kaWdlcyBNZXRhbGwgbWl0IGhvaGVtIFNjaG1lbHpwdW5rdC4gRsO8ciBMdWZ0LSB1bmQgUmF1bWZhaHJ0aW5kdXN0cmllLicsXHJcbiAgICB0aGVtZTogJ2Flcm9zcGFjZScsXHJcbiAgICBleHBlcmltZW50czogWydiaW9rb21wYXRpYmlsaXTDpHQnLCAnbGVnaWVydW5nJywgJ294aWQnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1YnLFxyXG4gICAgbmFtZTogJ1ZhbmFkaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogMjMsXHJcbiAgICBtYXNzOiA1MC45NDIsXHJcbiAgICBncm91cDogJ3RyYW5zaXRpb24nLFxyXG4gICAgcGVyaW9kOiA0LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA1LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy50cmFuc2l0aW9uLFxyXG4gICAgZGVzY3JpcHRpb246ICdIYXJ0ZXMsIGdyYXUtd2Vpw59lcyBNZXRhbGwuIEbDvHIgV2Vya3pldWdzdGFobCB1bmQgVGl0YW5sZWdpZXJ1bmdlbi4nLFxyXG4gICAgdGhlbWU6ICdpbmR1c3RyeScsXHJcbiAgICBleHBlcmltZW50czogWydzdGFobCcsICdsZWdpZXJ1bmcnLCAna2F0YWx5c2F0b3InXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0NyJyxcclxuICAgIG5hbWU6ICdDaHJvbScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDI0LFxyXG4gICAgbWFzczogNTEuOTk2LFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNCxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogNixcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMudHJhbnNpdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiAnR2zDpG56ZW5kZXMsIGtvcnJvc2lvbnNiZXN0w6RuZGlnZXMgTWV0YWxsLiBCYXNpcyB2b24gRWRlbHN0YWhsIHVuZCBWZXJjaHJvbXVuZy4nLFxyXG4gICAgdGhlbWU6ICdpbmR1c3RyeScsXHJcbiAgICBleHBlcmltZW50czogWydlZGVsc3RhaGwnLCAndmVyY2hyb211bmcnLCAncGlnbWVudCddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnTW4nLFxyXG4gICAgbmFtZTogJ01hbmdhbicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDI1LFxyXG4gICAgbWFzczogNTQuOTM4LFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNCxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogNyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMudHJhbnNpdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiAnV2ljaHRpZyBmw7xyIFN0YWhsaGVyc3RlbGx1bmcuIEJpb2VsZW1lbnQgZsO8ciBQaG90b3N5bnRoZXNlLicsXHJcbiAgICB0aGVtZTogJ2luZHVzdHJ5JyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ3N0YWhsJywgJ3Bob3Rvc3ludGhlc2UnLCAnYmF0dGVyaWUnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0NvJyxcclxuICAgIG5hbWU6ICdLb2JhbHQnLFxyXG4gICAgYXRvbWljTnVtYmVyOiAyNyxcclxuICAgIG1hc3M6IDU4LjkzMyxcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDQsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDksXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ0JsYXUtZ3JhdWVzLCBmZXJyb21hZ25ldGlzY2hlcyBNZXRhbGwuIEbDvHIgU3VwcmFsZWdlciwgTWFnbmV0ZSB1bmQgTGl0aGl1bS1Jb25lbi1CYXR0ZXJpZW4uJyxcclxuICAgIHRoZW1lOiAndGVjaG5vbG9neScsXHJcbiAgICBleHBlcmltZW50czogWydtYWduZXQnLCAnYmF0dGVyaWUnLCAnbGVnaWVydW5nJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdOaScsXHJcbiAgICBuYW1lOiAnTmlja2VsJyxcclxuICAgIGF0b21pY051bWJlcjogMjgsXHJcbiAgICBtYXNzOiA1OC42OTMsXHJcbiAgICBncm91cDogJ3RyYW5zaXRpb24nLFxyXG4gICAgcGVyaW9kOiA0LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxMCxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMudHJhbnNpdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiAnU2lsYnJpZy13ZWnDn2VzLCBrb3Jyb3Npb25zYmVzdMOkbmRpZ2VzIE1ldGFsbC4gTcO8bnptZXRhbGwgdW5kIGbDvHIgTGVnaWVydW5nZW4uJyxcclxuICAgIHRoZW1lOiAndGVjaG5vbG9neScsXHJcbiAgICBleHBlcmltZW50czogWydtw7xuemVuJywgJ2xlZ2llcnVuZycsICdrYXRhbHlzYXRvciddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnWm4nLFxyXG4gICAgbmFtZTogJ1ppbmsnLFxyXG4gICAgYXRvbWljTnVtYmVyOiAzMCxcclxuICAgIG1hc3M6IDY1LjM4LFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNCxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogMTIsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ1JlYWt0aW9uc2ZyZWllcyBNZXRhbGwuIEbDvHIgZ2FsdmFuaXNjaGUgWmVsbGVuLCBWZXJ6aW5rdW5nIHVuZCBaaW5rLUxlZ2llcnVuZ2VuLicsXHJcbiAgICB0aGVtZTogJ3RlY2hub2xvZ3knLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZ2FsdmFuaWsnLCAndmVyemlua3VuZycsICdiYXR0ZXJpZSddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnR2EnLFxyXG4gICAgbmFtZTogJ0dhbGxpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAzMSxcclxuICAgIG1hc3M6IDY5LjcyMyxcclxuICAgIGdyb3VwOiAnbWV0YWwnLFxyXG4gICAgcGVyaW9kOiA0LFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxMyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMubWV0YWwsXHJcbiAgICBkZXNjcmlwdGlvbjogJ1NjaG1pbHp0IGluIGRlciBIYW5kIGJlaSBSYXVtdGVtcGVyYXR1ci4gRsO8ciBIYWxibGVpdGVyIHVuZCBIb2NodGVtcGVyYXR1cnRoZXJtb21ldGVyLicsXHJcbiAgICB0aGVtZTogJ3NlbWljb25kdWN0b3InLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnc2NobWVsemVuJywgJ2hhbGJsZWl0ZXInLCAndGhlcm1vbWV0ZXInXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0dlJyxcclxuICAgIG5hbWU6ICdHZXJtYW5pdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAzMixcclxuICAgIG1hc3M6IDcyLjYzMCxcclxuICAgIGdyb3VwOiAnbWV0YWxsb2lkJyxcclxuICAgIHBlcmlvZDogNCxcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTQsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLm1ldGFsbG9pZCxcclxuICAgIGRlc2NyaXB0aW9uOiAnSGFsYmxlaXRlciBmw7xyIFRyYW5zaXN0b3JlbiB1bmQgT3B0b2VsZWt0cm9uaWsuIFNpbGl6aXVtLUFsdGVybmF0aXZlLicsXHJcbiAgICB0aGVtZTogJ3NlbWljb25kdWN0b3InLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnaGFsYmxlaXRlcicsICd0cmFuc2lzdG9yJywgJ2Zhc2VyJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdBcycsXHJcbiAgICBuYW1lOiAnQXJzZW4nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAzMyxcclxuICAgIG1hc3M6IDc0LjkyMixcclxuICAgIGdyb3VwOiAnbWV0YWxsb2lkJyxcclxuICAgIHBlcmlvZDogNCxcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTUsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLm1ldGFsbG9pZCxcclxuICAgIGRlc2NyaXB0aW9uOiAnU2VociBnaWZ0aWdlcyBIYWxibWV0YWxsLiBIaXN0b3Jpc2NoIGluIFRhcGV0ZW4gdW5kIEZhcmJlbiB2ZXJ3ZW5kZXQuJyxcclxuICAgIHRoZW1lOiAndG94aWMnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZ2lmdCcsICdoaXN0b3Jpc2NoJywgJ3NlbWljb25kdWN0b3InXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1NlJyxcclxuICAgIG5hbWU6ICdTZWxlbicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDM0LFxyXG4gICAgbWFzczogNzguOTYsXHJcbiAgICBncm91cDogJ25vbm1ldGFsJyxcclxuICAgIHBlcmlvZDogNCxcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTYsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLm5vbm1ldGFsLFxyXG4gICAgZGVzY3JpcHRpb246ICdXaWNodGlnZXMgU3B1cmVuZWxlbWVudC4gSGFsYmxlaXRlciB1bmQgZsO8ciBHbMO8aGJpcnJlbi4nLFxyXG4gICAgdGhlbWU6ICdzZW1pY29uZHVjdG9yJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2dsw7xoYmlybmUnLCAncGhvdG92b2x0YWlrJywgJ3RveGlzY2gnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0JyJyxcclxuICAgIG5hbWU6ICdCcm9tJyxcclxuICAgIGF0b21pY051bWJlcjogMzUsXHJcbiAgICBtYXNzOiA3OS45MDQsXHJcbiAgICBncm91cDogJ2hhbG9nZW4nLFxyXG4gICAgcGVyaW9kOiA0LFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxNyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuaGFsb2dlbixcclxuICAgIGRlc2NyaXB0aW9uOiAnRWluemlnZXMgZmzDvHNzaWdlIE5pY2h0bWV0YWxsIGJlaSBSYXVtdGVtcGVyYXR1ci4gUm90ZSBGYXJiZSwgc3RlY2hlbmRlciBHZXJ1Y2guJyxcclxuICAgIHRoZW1lOiAnbGlxdWlkJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2Zsw7xzc2lnJywgJ2ZsYW1tbWl0dGVsJywgJ2dpZnRpZyddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnS3InLFxyXG4gICAgbmFtZTogJ0tyeXB0b24nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAzNixcclxuICAgIG1hc3M6IDgzLjc5OCxcclxuICAgIGdyb3VwOiAnbm9ibGVHYXMnLFxyXG4gICAgcGVyaW9kOiA0LFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxOCxcclxuICAgIGNvbG9yOiBOT0JMRV9HQVNfQ09MT1JTLktyLFxyXG4gICAgZGVzY3JpcHRpb246ICdFZGVsZ2FzIG1pdCBob2hlciBEaWNodGUuIEbDvHIgQmxpdHpsaWNodGxhbXBlbiB1bmQgTGFzZXIuJyxcclxuICAgIHRoZW1lOiAnbGlnaHRpbmcnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnbGFzZXInLCAnbmVvbicsICdpc29saWVydCddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnUmInLFxyXG4gICAgbmFtZTogJ1J1YmlkaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogMzcsXHJcbiAgICBtYXNzOiA4NS40NjgsXHJcbiAgICBncm91cDogJ2Fsa2FsaScsXHJcbiAgICBwZXJpb2Q6IDUsXHJcbiAgICBibG9jazogJ3MnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDEsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFsa2FsaSxcclxuICAgIGRlc2NyaXB0aW9uOiAnV2VpY2hlcywgaG9jaHJlYWt0aXZlcyBNZXRhbGwuIEbDvHIgQXRvbXVocmVuIHVuZCBGZXVlcndlcmsuJyxcclxuICAgIHRoZW1lOiAncHlyb3RlY2huaWNzJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2F0b211aHInLCAnZmV1ZXJ3ZXJrJywgJ3JlYWt0aW9uJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdTcicsXHJcbiAgICBuYW1lOiAnU3Ryb250aXVtJyxcclxuICAgIGF0b21pY051bWJlcjogMzgsXHJcbiAgICBtYXNzOiA4Ny42MixcclxuICAgIGdyb3VwOiAnYWxrYWxpbmVFYXJ0aCcsXHJcbiAgICBwZXJpb2Q6IDUsXHJcbiAgICBibG9jazogJ3MnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDIsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFsa2FsaW5lRWFydGgsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0bDvHIgcm90ZSBGZXVlcndlcmtlIHVuZCBNYWduZXRlLiBSYWRpb2FrdGl2IChTdHJvbnRpdW0tOTApLicsXHJcbiAgICB0aGVtZTogJ3B5cm90ZWNobmljcycsXHJcbiAgICBleHBlcmltZW50czogWydmZXVlcndlcmsnLCAnbWFnbmV0JywgJ3JhZGlvYWt0aXYnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1knLFxyXG4gICAgbmFtZTogJ1l0dHJpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAzOSxcclxuICAgIG1hc3M6IDg4LjkwNixcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDUsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ1NlbHRlbmVzIEVyZGVsZW1lbnQuIEbDvHIgTEVEcywgU3VwcmFsZWl0ZXIgdW5kIExhc2VyLicsXHJcbiAgICB0aGVtZTogJ3RlY2hub2xvZ3knLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnbGVkJywgJ2xhc2VyJywgJ3N1cHJhbGVpdGVyJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdacicsXHJcbiAgICBuYW1lOiAnWmlya29uaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogNDAsXHJcbiAgICBtYXNzOiA5MS4yMjQsXHJcbiAgICBncm91cDogJ3RyYW5zaXRpb24nLFxyXG4gICAgcGVyaW9kOiA1LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA0LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy50cmFuc2l0aW9uLFxyXG4gICAgZGVzY3JpcHRpb246ICdLb3Jyb3Npb25zYmVzdMOkbmRpZ2VzIE1ldGFsbC4gRsO8ciBLZXJuZWxlbWVudGUgdW5kIG1lZGl6aW5pc2NoZSBJbXBsYW50YXRlLicsXHJcbiAgICB0aGVtZTogJ251Y2xlYXInLFxyXG4gICAgZXhwZXJpbWVudHM6IFsna2VybmVsZW1lbnQnLCAnaW1wbGFudGF0JywgJ2tlcmFtaWsnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ05iJyxcclxuICAgIG5hbWU6ICdOaW9iJyxcclxuICAgIGF0b21pY051bWJlcjogNDEsXHJcbiAgICBtYXNzOiA5Mi45MDYsXHJcbiAgICBncm91cDogJ3RyYW5zaXRpb24nLFxyXG4gICAgcGVyaW9kOiA1LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA1LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy50cmFuc2l0aW9uLFxyXG4gICAgZGVzY3JpcHRpb246ICdTdXByYWxlaXRlciBiZWkgbmllZHJpZ2VuIFRlbXBlcmF0dXJlbi4gRsO8ciBCZXNjaGxldW5pZ2VybWFnbmV0ZSB1bmQgSG9jaHNwYW5udW5nc3RlY2huaWsuJyxcclxuICAgIHRoZW1lOiAndGVjaG5vbG9neScsXHJcbiAgICBleHBlcmltZW50czogWydzdXByYWxlaXRlcicsICdtYWduZXQnLCAnaG9jaHNwYW5udW5nJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdNbycsXHJcbiAgICBuYW1lOiAnTW9seWJkw6RuJyxcclxuICAgIGF0b21pY051bWJlcjogNDIsXHJcbiAgICBtYXNzOiA5NS45NSxcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDUsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDYsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ0V4dHJlbSBoYXJ0ZXMgTWV0YWxsLiBGw7xyIEhvY2h0ZW1wZXJhdHVyYW53ZW5kdW5nZW4gdW5kIFNjaG1pZXJzdG9mZmUuJyxcclxuICAgIHRoZW1lOiAnaW5kdXN0cnknLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnaG9jaHRlbXBlcmF0dXInLCAnc2NobWllcm1pdHRlbCcsICdzdGFobCddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnVGMnLFxyXG4gICAgbmFtZTogJ1RlY2huZXRpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA0MyxcclxuICAgIG1hc3M6IDk4LFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNSxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogNyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMudHJhbnNpdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiAnRXJzdGVzIGvDvG5zdGxpY2hlIEVsZW1lbnQuIFJhZGlvYWt0aXYuIEluIGRlciBtZWRpemluaXNjaGVuIEJpbGRnZWJ1bmcgdmVyd2VuZGV0LicsXHJcbiAgICB0aGVtZTogJ251Y2xlYXInLFxyXG4gICAgZXhwZXJpbWVudHM6IFsna8O8bnN0bGljaCcsICdtZWRpemluJywgJ3JhZGlvYWt0aXYnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1J1JyxcclxuICAgIG5hbWU6ICdSdXRoZW5pdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA0NCxcclxuICAgIG1hc3M6IDEwMS4wNyxcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDUsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDgsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ1NlbHRlbmVzLCBhYmVyIHdpY2h0aWdlcyBNZXRhbGwuIEbDvHIgRWxla3Ryb25pa2tvbnRha3RlIHVuZCBLYXRhbHlzYXRvcmVuLicsXHJcbiAgICB0aGVtZTogJ3RlY2hub2xvZ3knLFxyXG4gICAgZXhwZXJpbWVudHM6IFsna2F0YWx5c2F0b3InLCAna29udGFrdGUnLCAnbGVnaWVydW5nJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdSaCcsXHJcbiAgICBuYW1lOiAnUmhvZGl1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDQ1LFxyXG4gICAgbWFzczogMTAyLjkxLFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNSxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogOSxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMudHJhbnNpdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiAnU2VociB3ZXJ0dm9sbGVzIMOcYmVyZ2FuZ3NtZXRhbGwuIEbDvHIgS2F0YWx5c2F0b3JlbiwgU2NobXVjayB1bmQgVGhlcm1vZWxlbWVudGUuJyxcclxuICAgIHRoZW1lOiAndGVjaG5vbG9neScsXHJcbiAgICBleHBlcmltZW50czogWydrYXRhbHlzYXRvcicsICdzY2htdWNrJywgJ3RoZXJtbyddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnUGQnLFxyXG4gICAgbmFtZTogJ1BhbGxhZGl1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDQ2LFxyXG4gICAgbWFzczogMTA2LjQyLFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNSxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogMTAsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ1dlcnR2b2xsZXMgUGxhdGluLU1ldGFsbC4gRsO8ciBLYXRhbHlzYXRvcmVuLCBTY2htdWNrIHVuZCBXYXNzZXJzdG9mZmZpbHRlci4nLFxyXG4gICAgdGhlbWU6ICd0ZWNobm9sb2d5JyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2thdGFseXNhdG9yJywgJ3NjaG11Y2snLCAnd2Fzc2Vyc3RvZmYnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0FnJyxcclxuICAgIG5hbWU6ICdTaWxiZXInLFxyXG4gICAgYXRvbWljTnVtYmVyOiA0NyxcclxuICAgIG1hc3M6IDEwNy44NyxcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDUsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDExLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy50cmFuc2l0aW9uLFxyXG4gICAgZGVzY3JpcHRpb246ICdCZXN0ZXIgZWxla3RyaXNjaGVyIExlaXRlciBhbGxlciBNZXRhbGxlLiBGw7xyIFNjaG11Y2ssIEVsZWt0cm9uaWsgdW5kIEZvdG9ncmFmaWUuJyxcclxuICAgIHRoZW1lOiAncHJlY2lvdXMnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZWxla3RyaXNjaCcsICdzY2htdWNrJywgJ2ZvdG9ncmFmaWUnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0NkJyxcclxuICAgIG5hbWU6ICdDYWRtaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogNDgsXHJcbiAgICBtYXNzOiAxMTIuNDEsXHJcbiAgICBncm91cDogJ3RyYW5zaXRpb24nLFxyXG4gICAgcGVyaW9kOiA1LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxMixcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMudHJhbnNpdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiAnR2lmdGlnZXMgTWV0YWxsLiBGw7xyIE5pQ2QtQmF0dGVyaWVuLCBQaWdtZW50ZSB1bmQgZ2FsdmFuaXNjaGUgRWxlbWVudGUuJyxcclxuICAgIHRoZW1lOiAndG94aWMnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnYmF0dGVyaWUnLCAncGlnbWVudCcsICd0b3hpc2NoJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdJbicsXHJcbiAgICBuYW1lOiAnSW5kaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogNDksXHJcbiAgICBtYXNzOiAxMTQuODIsXHJcbiAgICBncm91cDogJ21ldGFsJyxcclxuICAgIHBlcmlvZDogNSxcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLm1ldGFsLFxyXG4gICAgZGVzY3JpcHRpb246ICdXZWljaGVzIE1ldGFsbC4gRsO8ciBJVE8tU2NoaWNodGVuIChUb3VjaHNjcmVlbnMpLCBUcmFuc2lzdG9yZW4gdW5kIEzDtnR6aW5uLicsXHJcbiAgICB0aGVtZTogJ3NlbWljb25kdWN0b3InLFxyXG4gICAgZXhwZXJpbWVudHM6IFsndG91Y2hzY3JlZW4nLCAnbMO2dGlubicsICdoYWxibGVpdGVyJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdTbicsXHJcbiAgICBuYW1lOiAnWmlubicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDUwLFxyXG4gICAgbWFzczogMTE4LjcxLFxyXG4gICAgZ3JvdXA6ICdtZXRhbCcsXHJcbiAgICBwZXJpb2Q6IDUsXHJcbiAgICBibG9jazogJ3AnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDE0LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5tZXRhbCxcclxuICAgIGRlc2NyaXB0aW9uOiAnSGlzdG9yaXNjaCB3aWNodGlnZXMgTWV0YWxsLiBGw7xyIEzDtnRsZWdpZXJ1bmdlbiwgQnJvbnplIHVuZCBLb25zZXJ2ZW5kb3Nlbi4nLFxyXG4gICAgdGhlbWU6ICdoaXN0b3J5JyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2zDtnRlbicsICdicm9uemUnLCAna29uc2VydmVuJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdTYicsXHJcbiAgICBuYW1lOiAnQW50aW1vbicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDUxLFxyXG4gICAgbWFzczogMTIxLjc2LFxyXG4gICAgZ3JvdXA6ICdtZXRhbGxvaWQnLFxyXG4gICAgcGVyaW9kOiA1LFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxNSxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMubWV0YWxsb2lkLFxyXG4gICAgZGVzY3JpcHRpb246ICdIYWxibWV0YWxsIG1pdCB1bmdld8O2aG5saWNoZW4gRWlnZW5zY2hhZnRlbi4gRsO8ciBGbGFtbWhlbW1lciB1bmQgTGVnaWVydW5nZW4uJyxcclxuICAgIHRoZW1lOiAnaW5kdXN0cnknLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZmxhbW1oZW1tZXInLCAnbGVnaWVydW5nJywgJ2hhbGJsZWl0ZXInXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1RlJyxcclxuICAgIG5hbWU6ICdUZWxsdXInLFxyXG4gICAgYXRvbWljTnVtYmVyOiA1MixcclxuICAgIG1hc3M6IDEyNy42MCxcclxuICAgIGdyb3VwOiAnbWV0YWxsb2lkJyxcclxuICAgIHBlcmlvZDogNSxcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTYsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLm1ldGFsbG9pZCxcclxuICAgIGRlc2NyaXB0aW9uOiAnU2VsdGVuZXMsIHNlbHRlbmVzIEhhbGJtZXRhbGwuIEbDvHIgU29sYXJ6ZWxsZW4gdW5kIExlZ2llcnVuZ2VuLicsXHJcbiAgICB0aGVtZTogJ3NlbWljb25kdWN0b3InLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnc29sYXJ6ZWxsZScsICdsZWdpZXJ1bmcnLCAnY2R0ZSddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnSScsXHJcbiAgICBuYW1lOiAnSm9kJyxcclxuICAgIGF0b21pY051bWJlcjogNTMsXHJcbiAgICBtYXNzOiAxMjYuOTAsXHJcbiAgICBncm91cDogJ2hhbG9nZW4nLFxyXG4gICAgcGVyaW9kOiA1LFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxNyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuaGFsb2dlbixcclxuICAgIGRlc2NyaXB0aW9uOiAnV2ljaHRpZ3N0ZXMgU3B1cmVuZWxlbWVudCBmw7xyIFNjaGlsZGRyw7xzZS4gRHVua2xlIFN1YnN0YW56IG1pdCBjaGFyYWt0ZXJpc3Rpc2NoZW0gR2VydWNoLicsXHJcbiAgICB0aGVtZTogJ2Jpb2xvZ2ljYWwnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnc2NoaWxkZHLDvHNlJywgJ2FudGlzZXB0aWsnLCAnc3VibGltYXRpb24nXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1hlJyxcclxuICAgIG5hbWU6ICdYZW5vbicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDU0LFxyXG4gICAgbWFzczogMTMxLjI5LFxyXG4gICAgZ3JvdXA6ICdub2JsZUdhcycsXHJcbiAgICBwZXJpb2Q6IDUsXHJcbiAgICBibG9jazogJ3AnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDE4LFxyXG4gICAgY29sb3I6IE5PQkxFX0dBU19DT0xPUlMuWGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ1NjaHdlcmVzIEVkZWxnYXMuIEbDvHIgSW9uZW50cmllYndlcmtlLCBOYXJrb3NlIHVuZCBCbGl0emxpY2h0bGFtcGVuLicsXHJcbiAgICB0aGVtZTogJ3NwYWNlJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2lvbmVudHJpZWInLCAnbmFya29zZScsICdsYXNlciddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnQ3MnLFxyXG4gICAgbmFtZTogJ0PDpHNpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA1NSxcclxuICAgIG1hc3M6IDEzMi45MSxcclxuICAgIGdyb3VwOiAnYWxrYWxpJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAncycsXHJcbiAgICBncm91cE51bWJlcjogMSxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWxrYWxpLFxyXG4gICAgZGVzY3JpcHRpb246ICdXZWljaGVzLCBob2NocmVha3RpdmVzIE1ldGFsbC4gU2NobWlsenQgaW4gZGVyIEhhbmQuIFByw6R6aXNlc3N0ZSBaZWl0bm9ybWFsLicsXHJcbiAgICB0aGVtZTogJ3ByZWNpc2lvbicsXHJcbiAgICBleHBlcmltZW50czogWydzY2htZWx6ZW4nLCAnYXRvbXVocicsICdleHBsb3Npb24nXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0JhJyxcclxuICAgIG5hbWU6ICdCYXJpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA1NixcclxuICAgIG1hc3M6IDEzNy4zMyxcclxuICAgIGdyb3VwOiAnYWxrYWxpbmVFYXJ0aCcsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ3MnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDIsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFsa2FsaW5lRWFydGgsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0bDvHIgbWVkaXppbmlzY2hlIEtvbnRyYXN0bWl0dGVsIHVuZCBncsO8bmUgRmV1ZXJ3ZXJrZS4gU2Nod2Vya3Jlc2lzdGVudC4nLFxyXG4gICAgdGhlbWU6ICdtZWRpY2FsJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2tvbnRyYXN0bWl0dGVsJywgJ2ZldWVyd2VyaycsICdtYWduZXQnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0xhJyxcclxuICAgIG5hbWU6ICdMYW50aGFuJyxcclxuICAgIGF0b21pY051bWJlcjogNTcsXHJcbiAgICBtYXNzOiAxMzguOTEsXHJcbiAgICBncm91cDogJ2xhbnRoYW5pZGUnLFxyXG4gICAgcGVyaW9kOiA2LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5sYW50aGFuaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdXZWljaGVzLCBkdWt0aWxzIE1ldGFsbC4gRsO8ciBIeWJyaWRhdXRvLUJhdHRlcmllbiB1bmQgWsO8bmRzdGVpbmUuJyxcclxuICAgIHRoZW1lOiAndGVjaG5vbG9neScsXHJcbiAgICBleHBlcmltZW50czogWydiYXR0ZXJpZScsICd6w7xuZHN0ZWluZScsICdvcHRpayddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnQ2UnLFxyXG4gICAgbmFtZTogJ0NlcicsXHJcbiAgICBhdG9taWNOdW1iZXI6IDU4LFxyXG4gICAgbWFzczogMTQwLjEyLFxyXG4gICAgZ3JvdXA6ICdsYW50aGFuaWRlJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAnZicsXHJcbiAgICBncm91cE51bWJlcjogMyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMubGFudGhhbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnSMOkdWZpZ3N0ZXMgTGFudGhhbm9pZC4gRsO8ciBGZXJyb2Nlci1GZXVlcnpldWdlIHVuZCBBdXRva2F0YWx5c2F0b3Jlbi4nLFxyXG4gICAgdGhlbWU6ICd0ZWNobm9sb2d5JyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2ZldWVyemV1Z2UnLCAna2F0YWx5c2F0b3InLCAnc2VsYnN0cmVpbmlnZW5kJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdQcicsXHJcbiAgICBuYW1lOiAnUHJhc2VvZHltJyxcclxuICAgIGF0b21pY051bWJlcjogNTksXHJcbiAgICBtYXNzOiAxNDAuOTEsXHJcbiAgICBncm91cDogJ2xhbnRoYW5pZGUnLFxyXG4gICAgcGVyaW9kOiA2LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5sYW50aGFuaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdGw7xyIE1hZ25ldGxlZ2llcnVuZ2VuIHVuZCBHcsO8bmUgRmFyYmUuIFdpY2h0aWcgZsO8ciBIaWdodGVjaC1MZWdpZXJ1bmdlbi4nLFxyXG4gICAgdGhlbWU6ICd0ZWNobm9sb2d5JyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ21hZ25ldCcsICdncsO8bicsICdsZWdpZXJ1bmcnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ05kJyxcclxuICAgIG5hbWU6ICdOZW9keW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA2MCxcclxuICAgIG1hc3M6IDE0NC4yNCxcclxuICAgIGdyb3VwOiAnbGFudGhhbmlkZScsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ2YnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmxhbnRoYW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ1N0w6Rya3N0ZSBQZXJtYW5lbnRtYWduZXRlLiBGw7xyIEtvcGZow7ZyZXIsIFdpbmR0dXJiaW5lbiB1bmQgRmVzdHBsYXR0ZW4uJyxcclxuICAgIHRoZW1lOiAndGVjaG5vbG9neScsXHJcbiAgICBleHBlcmltZW50czogWydtYWduZXQnLCAna29wZmjDtnJlcicsICd3aW5kdHVyYmluZSddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnUG0nLFxyXG4gICAgbmFtZTogJ1Byb21ldGhpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA2MSxcclxuICAgIG1hc3M6IDE0NSxcclxuICAgIGdyb3VwOiAnbGFudGhhbmlkZScsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ2YnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmxhbnRoYW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0vDvG5zdGxpY2hlcywgcmFkaW9ha3RpdmVzIEVsZW1lbnQuIEbDvHIgS2VybmJhdHRlcmllbiBpbiBSYXVtZmFocnpldWdlbi4nLFxyXG4gICAgdGhlbWU6ICdzcGFjZScsXHJcbiAgICBleHBlcmltZW50czogWydrw7xuc3RsaWNoJywgJ2tlcm5iYXR0ZXJpZScsICdyYWRpb2FrdGl2J11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdTbScsXHJcbiAgICBuYW1lOiAnU2FtYXJpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA2MixcclxuICAgIG1hc3M6IDE1MC4zNixcclxuICAgIGdyb3VwOiAnbGFudGhhbmlkZScsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ2YnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmxhbnRoYW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0bDvHIgUGVybWFuZW50bWFnbmV0ZSB1bmQgS2VybnJlYWt0b3ItU3RldWVyc3TDpGJlLicsXHJcbiAgICB0aGVtZTogJ251Y2xlYXInLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnbWFnbmV0JywgJ3JlYWt0b3InLCAnYWJzb3JiZXInXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0V1JyxcclxuICAgIG5hbWU6ICdFdXJvcGl1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDYzLFxyXG4gICAgbWFzczogMTUxLjk2LFxyXG4gICAgZ3JvdXA6ICdsYW50aGFuaWRlJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAnZicsXHJcbiAgICBncm91cE51bWJlcjogMyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMubGFudGhhbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnUm90IHBob3NwaG9yZXN6aWVyZW5kIGluIEV1cm8tU2NoZWluZW4uIEbDvHIgU2ljaGVyaGVpdCB1bmQgTGFzZXJtYXRlcmlhbGllbi4nLFxyXG4gICAgdGhlbWU6ICdzZWN1cml0eScsXHJcbiAgICBleHBlcmltZW50czogWydwaG9zcGhvcmVzemVueicsICdldXJvJywgJ2xhc2VyJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdHZCcsXHJcbiAgICBuYW1lOiAnR2Fkb2xpbml1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDY0LFxyXG4gICAgbWFzczogMTU3LjI1LFxyXG4gICAgZ3JvdXA6ICdsYW50aGFuaWRlJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAnZicsXHJcbiAgICBncm91cE51bWJlcjogMyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMubGFudGhhbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnSMO2Y2hzdGUgTmV1dHJvbmVuYWJzb3JwdGlvbi4gRsO8ciBNUlQtS29udHJhc3RtaXR0ZWwgdW5kIEtlcm5yZWFrdG9yc3RldWVydW5nLicsXHJcbiAgICB0aGVtZTogJ21lZGljYWwnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnbXJ0JywgJ3JlYWt0b3InLCAnYWJzb3JiZXInXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1RiJyxcclxuICAgIG5hbWU6ICdUZXJiaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogNjUsXHJcbiAgICBtYXNzOiAxNTguOTMsXHJcbiAgICBncm91cDogJ2xhbnRoYW5pZGUnLFxyXG4gICAgcGVyaW9kOiA2LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5sYW50aGFuaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdXZWljaGVzIExhbnRoYW5vaWQuIEbDvHIgUGhvc3Bob3JsZXVjaHRzdG9mZmUgdW5kIEVsZWt0cm9tb3RvcmUuJyxcclxuICAgIHRoZW1lOiAndGVjaG5vbG9neScsXHJcbiAgICBleHBlcmltZW50czogWydwaG9zcGhvcicsICdtYWduZXQnLCAnbW90b3InXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0R5JyxcclxuICAgIG5hbWU6ICdEeXNwcm9zaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogNjYsXHJcbiAgICBtYXNzOiAxNjIuNTAsXHJcbiAgICBncm91cDogJ2xhbnRoYW5pZGUnLFxyXG4gICAgcGVyaW9kOiA2LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5sYW50aGFuaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdIb2Nod2VydGlnZXMgTGFudGhhbm9pZC4gRsO8ciBLZXJucmVha3RvcnN0ZXVlcnN0w6RiZSB1bmQgTWFnbmV0bGVnaWVydW5nZW4uJyxcclxuICAgIHRoZW1lOiAnbnVjbGVhcicsXHJcbiAgICBleHBlcmltZW50czogWydyZWFrdG9yJywgJ21hZ25ldCcsICdsZWdpZXJ1bmcnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0hvJyxcclxuICAgIG5hbWU6ICdIb2xtaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogNjcsXHJcbiAgICBtYXNzOiAxNjQuOTMsXHJcbiAgICBncm91cDogJ2xhbnRoYW5pZGUnLFxyXG4gICAgcGVyaW9kOiA2LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5sYW50aGFuaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdCZXNpdHp0IGjDtmNoc3RlcyBtYWduZXRpc2NoZXMgTW9tZW50IGFsbGVyIEVsZW1lbnRlLiBGw7xyIExhc2VyIHVuZCBIb2NobGVpc3R1bmdzbWFnbmV0ZS4nLFxyXG4gICAgdGhlbWU6ICd0ZWNobm9sb2d5JyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2xhc2VyJywgJ21hZ25ldCcsICdob2NobGVpc3R1bmcnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0VyJyxcclxuICAgIG5hbWU6ICdFcmJpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA2OCxcclxuICAgIG1hc3M6IDE2Ny4yNixcclxuICAgIGdyb3VwOiAnbGFudGhhbmlkZScsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ2YnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmxhbnRoYW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0bDvHIgR2xhc2Zhc2VyLVZlcnN0w6Rya2VyIHVuZCBvcHRpc2NoZSBWZXJzdMOkcmtlci4gUm9zYXJvdGVzIExldWNodGVuLicsXHJcbiAgICB0aGVtZTogJ3RlY2hub2xvZ3knLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZ2xhc2Zhc2VyJywgJ29wdGlrJywgJ2xhc2VyJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdUbScsXHJcbiAgICBuYW1lOiAnVGh1bGl1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDY5LFxyXG4gICAgbWFzczogMTY4LjkzLFxyXG4gICAgZ3JvdXA6ICdsYW50aGFuaWRlJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAnZicsXHJcbiAgICBncm91cE51bWJlcjogMyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMubGFudGhhbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnRsO8ciBtZWRpemluaXNjaGUgUsO2bnRnZW5hbmxhZ2VuLiBSw7ZudGdlbi1Lb250cmFzdG1pdHRlbC4nLFxyXG4gICAgdGhlbWU6ICdtZWRpY2FsJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ3LDtm50Z2VuJywgJ21lZGl6aW4nLCAnbGFzZXInXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1liJyxcclxuICAgIG5hbWU6ICdZdHRlcmJpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA3MCxcclxuICAgIG1hc3M6IDE3My4wNSxcclxuICAgIGdyb3VwOiAnbGFudGhhbmlkZScsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ2YnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmxhbnRoYW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0bDvHIgU3RhaGxsZWdpZXJ1bmdlbiB1bmQgUsO2bnRnZW5hbmxhZ2VuLiBSb3RlIEx1bWluZXN6ZW56LicsXHJcbiAgICB0aGVtZTogJ2luZHVzdHJ5JyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2xlZ2llcnVuZycsICdyw7ZudGdlbicsICdsdW1pbmlzemVueiddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnTHUnLFxyXG4gICAgbmFtZTogJ0x1dGV0aXVtJyxcclxuICAgIGF0b21pY051bWJlcjogNzEsXHJcbiAgICBtYXNzOiAxNzQuOTcsXHJcbiAgICBncm91cDogJ2xhbnRoYW5pZGUnLFxyXG4gICAgcGVyaW9kOiA2LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5sYW50aGFuaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdMZXR6dGVzIG5hdMO8cmxpY2hlcyBMYW50aGFub2lkLiBGw7xyIFBFVC1TY2FubmVyIHVuZCBLYXRhbHlzYXRvcmVuLicsXHJcbiAgICB0aGVtZTogJ3RlY2hub2xvZ3knLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnc2Nhbm5lcicsICdrYXRhbHlzYXRvcicsICdzcGVrdHJvbWV0ZXInXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0hmJyxcclxuICAgIG5hbWU6ICdIYWZuaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogNzIsXHJcbiAgICBtYXNzOiAxNzguNDksXHJcbiAgICBncm91cDogJ3RyYW5zaXRpb24nLFxyXG4gICAgcGVyaW9kOiA2LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA0LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy50cmFuc2l0aW9uLFxyXG4gICAgZGVzY3JpcHRpb246ICdLb3Jyb3Npb25zYmVzdMOkbmRpZ2VzIE1ldGFsbC4gRsO8ciBSZWFrdG9yZHJ1Y2tiZWjDpGx0ZXIgdW5kIEtlcm5lbmVyZ2llYW53ZW5kdW5nZW4uJyxcclxuICAgIHRoZW1lOiAnbnVjbGVhcicsXHJcbiAgICBleHBlcmltZW50czogWydyZWFrdG9yJywgJ2tlcm5lbmVyZ2llJywgJ2xlZ2llcnVuZyddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnVGEnLFxyXG4gICAgbmFtZTogJ1RhbnRhbCcsXHJcbiAgICBhdG9taWNOdW1iZXI6IDczLFxyXG4gICAgbWFzczogMTgwLjk1LFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogNSxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMudHJhbnNpdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiAnRXh0cmVtIGtvcnJvc2lvbnNiZXN0w6RuZGlnLiBGw7xyIEtvbmRlbnNhdG9yZW4gdW5kIGVsZWt0cm9uaXNjaGUgQmF1dGVpbGUuJyxcclxuICAgIHRoZW1lOiAnZWxlY3Ryb25pY3MnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsna29uZGVuc2F0b3InLCAnZWxla3Ryb25paycsICdrb3Jyb3Npb24nXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1cnLFxyXG4gICAgbmFtZTogJ1dvbGZyYW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA3NCxcclxuICAgIG1hc3M6IDE4My44NCxcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDYsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ0jDtmNoc3RlciBTY2htZWx6cHVua3QgYWxsZXIgRWxlbWVudGUuIEbDvHIgR2zDvGhiaXJuZW4gdW5kIFdvbGZyYW1iZWFyYmVpdHVuZy4nLFxyXG4gICAgdGhlbWU6ICd0ZWNobm9sb2d5JyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2dsw7xoYmlybmUnLCAnYmVhcmJlaXR1bmcnLCAnbGVnaWVydW5nJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdSZScsXHJcbiAgICBuYW1lOiAnUmhlbml1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDc1LFxyXG4gICAgbWFzczogMTg2LjIxLFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogNyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMudHJhbnNpdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiAnU2VsdGVuZXJlcywgaG9jaHNjaG1lbHplbmRlcyBNZXRhbGwuIEbDvHIgRMO8c2VubMOkdWZlciB1bmQgSG9jaHRlbXBlcmF0dXJsZWdpZXJ1bmdlbi4nLFxyXG4gICAgdGhlbWU6ICdhZXJvc3BhY2UnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZMO8c2VubMOkdWZlcicsICdob2NodGVtcGVyYXR1cicsICdsZWdpZXJ1bmcnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ09zJyxcclxuICAgIG5hbWU6ICdPc21pdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA3NixcclxuICAgIG1hc3M6IDE5MC4yMyxcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDgsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ0RpY2h0ZXN0ZXMgbmF0w7xybGljaGVzIEVsZW1lbnQuIEbDvHIgU2NocmVpYnNwaXR6ZW4gdW5kIEltcGxhbnRhdGUuJyxcclxuICAgIHRoZW1lOiAndGVjaG5vbG9neScsXHJcbiAgICBleHBlcmltZW50czogWydzY2hyZWlic3BpdHplbicsICdpbXBsYW50YXQnLCAnbGVnaWVydW5nJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdJcicsXHJcbiAgICBuYW1lOiAnSXJpZGl1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDc3LFxyXG4gICAgbWFzczogMTkyLjIyLFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogOSxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMudHJhbnNpdGlvbixcclxuICAgIGRlc2NyaXB0aW9uOiAnRXh0cmVtIGtvcnJvc2lvbnNiZXN0w6RuZGlnZXMgTWV0YWxsLiBGw7xyIFrDvG5ka2VyemVuIHVuZCBFbGVrdHJvZGVuLicsXHJcbiAgICB0aGVtZTogJ3RlY2hub2xvZ3knLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnesO8bmRrZXJ6ZW4nLCAnZWxla3Ryb2RlbicsICdsZWdpZXJ1bmcnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1B0JyxcclxuICAgIG5hbWU6ICdQbGF0aW4nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA3OCxcclxuICAgIG1hc3M6IDE5NS4wOCxcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDEwLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy50cmFuc2l0aW9uLFxyXG4gICAgZGVzY3JpcHRpb246ICdFZGVsbWV0YWxsIGbDvHIgS2F0YWx5c2F0b3JlbiwgU2NobXVjayB1bmQgS2F0YWx5c2F0b3Jlbi4gQmVzdMOkbmRpZ2VyIGFscyBHb2xkLicsXHJcbiAgICB0aGVtZTogJ3ByZWNpb3VzJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2thdGFseXNhdG9yJywgJ3NjaG11Y2snLCAnbGVnaWVydW5nJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdBdScsXHJcbiAgICBuYW1lOiAnR29sZCcsXHJcbiAgICBhdG9taWNOdW1iZXI6IDc5LFxyXG4gICAgbWFzczogMTk2Ljk3LFxyXG4gICAgZ3JvdXA6ICd0cmFuc2l0aW9uJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogMTEsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLnRyYW5zaXRpb24sXHJcbiAgICBkZXNjcmlwdGlvbjogJ0VkZWxzdGVzIE1ldGFsbCwgZWluemlnZXMgZ2VsYmVzIE1ldGFsbCAocmVsYXRpdmlzdGlzY2hlIEVmZmVrdGUpLiBGw7xyIEVsZWt0cm9uaWsgdW5kIFNjaG11Y2suJyxcclxuICAgIHRoZW1lOiAndHJlYXN1cmUnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZHVjdGlsaXTDpHQnLCAnbGVnaWVydW5nZW4nLCAnZWxla3Ryb3BsYXR0aWVydW5nJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdIZycsXHJcbiAgICBuYW1lOiAnUXVlY2tzaWxiZXInLFxyXG4gICAgYXRvbWljTnVtYmVyOiA4MCxcclxuICAgIG1hc3M6IDIwMC41OSxcclxuICAgIGdyb3VwOiAndHJhbnNpdGlvbicsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDEyLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy50cmFuc2l0aW9uLFxyXG4gICAgZGVzY3JpcHRpb246ICdFaW56aWdlcyBmbMO8c3NpZ2VzIE1ldGFsbCBiZWkgUmF1bXRlbXBlcmF0dXIuIEbDvHIgVGhlcm1vbWV0ZXIgdW5kIEFsY2hlbWllaGlzdG9yaWUuJyxcclxuICAgIHRoZW1lOiAnaGlzdG9yaWNhbCcsXHJcbiAgICBleHBlcmltZW50czogWydmbMO8c3NpZycsICd0aGVybW9tZXRlcicsICdhbGNoZW1pZSddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnVGwnLFxyXG4gICAgbmFtZTogJ1RoYWxsaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogODEsXHJcbiAgICBtYXNzOiAyMDQuMzgsXHJcbiAgICBncm91cDogJ21ldGFsJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLm1ldGFsLFxyXG4gICAgZGVzY3JpcHRpb246ICdHaWZ0aWdlcywgd2VpY2hlcyBNZXRhbGwuIEhpc3RvcmlzY2ggaW4gTW9yZGbDpGxsZW4gdmVyd2VuZGV0LiBGw7xyIEdsYXNoZXJzdGVsbHVuZy4nLFxyXG4gICAgdGhlbWU6ICd0b3hpYycsXHJcbiAgICBleHBlcmltZW50czogWydnaWZ0JywgJ2dsYXNoZXJzdGVsbHVuZycsICd0ZW1wZXJhdHVyJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdQYicsXHJcbiAgICBuYW1lOiAnQmxlaScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDgyLFxyXG4gICAgbWFzczogMjA3LjIsXHJcbiAgICBncm91cDogJ21ldGFsJyxcclxuICAgIHBlcmlvZDogNixcclxuICAgIGJsb2NrOiAncCcsXHJcbiAgICBncm91cE51bWJlcjogMTQsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLm1ldGFsLFxyXG4gICAgZGVzY3JpcHRpb246ICdTY2h3ZXJzdGVzIHN0YWJpbGVzIEVsZW1lbnQuIEbDvHIgQWtrdXMgdW5kIFLDtm50Z2Vuc2NodXR6LiBSw7ZtaXNjaGVzIEVyYmUuJyxcclxuICAgIHRoZW1lOiAnaGlzdG9yeScsXHJcbiAgICBleHBlcmltZW50czogWydha2t1cycsICdyw7ZudGdlbicsICdibGVpJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdCaScsXHJcbiAgICBuYW1lOiAnV2lzbXV0JyxcclxuICAgIGF0b21pY051bWJlcjogODMsXHJcbiAgICBtYXNzOiAyMDguOTgsXHJcbiAgICBncm91cDogJ21ldGFsbG9pZCcsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ3AnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDE1LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5tZXRhbGxvaWQsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0RpY2h0ZXMsIHNjaG1lbHplbmRlcyBNZXRhbGwuIEbDvHIgS29zbWV0aWthLCBTY2htaWVybWl0dGVsIHVuZCBSw7ZudGdlbmtvbnRyYXN0LicsXHJcbiAgICB0aGVtZTogJ21lZGljYWwnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsna29zbWV0aWthJywgJ3NjaG1pZXJtaXR0ZWwnLCAncsO2bnRnZW4nXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1BvJyxcclxuICAgIG5hbWU6ICdQb2xvbml1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDg0LFxyXG4gICAgbWFzczogMjA5LFxyXG4gICAgZ3JvdXA6ICdtZXRhbGxvaWQnLFxyXG4gICAgcGVyaW9kOiA2LFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxNixcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMubWV0YWxsb2lkLFxyXG4gICAgZGVzY3JpcHRpb246ICdIb2NocmFkaW9ha3Rpdiwgc3RhcmtlcyBNZXRhbGwuIEhpc3RvcmlzY2ggYmVyw7xobXQgKEN1cmllKS4gRsO8ciBBbHBoYXN0cmFobGVyLicsXHJcbiAgICB0aGVtZTogJ251Y2xlYXInLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnYWxwaGFzdHJhaGxlcicsICdyYWRpb2FrdGl2JywgJ3fDpHJtZXF1ZWxsZSddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnQXQnLFxyXG4gICAgbmFtZTogJ0FzdGF0aW4nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA4NSxcclxuICAgIG1hc3M6IDIxMCxcclxuICAgIGdyb3VwOiAnaGFsb2dlbicsXHJcbiAgICBwZXJpb2Q6IDYsXHJcbiAgICBibG9jazogJ3AnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDE3LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5oYWxvZ2VuLFxyXG4gICAgZGVzY3JpcHRpb246ICdTZWx0ZW5zdGVzIG5hdMO8cmxpY2hlcyBFbGVtZW50LiBIYWxid2VydHN6ZWl0IH44IFN0dW5kZW4uIEbDvHIgRm9yc2NodW5nLicsXHJcbiAgICB0aGVtZTogJ3Jlc2VhcmNoJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2ZvcnNjaHVuZycsICdoYWxid2VydHN6ZWl0JywgJ2luc3RhYmlsJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdSbicsXHJcbiAgICBuYW1lOiAnUmFkb24nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA4NixcclxuICAgIG1hc3M6IDIyMixcclxuICAgIGdyb3VwOiAnbm9ibGVHYXMnLFxyXG4gICAgcGVyaW9kOiA2LFxyXG4gICAgYmxvY2s6ICdwJyxcclxuICAgIGdyb3VwTnVtYmVyOiAxOCxcclxuICAgIGNvbG9yOiBOT0JMRV9HQVNfQ09MT1JTLlJuLFxyXG4gICAgZGVzY3JpcHRpb246ICdSYWRpb251a2xpZCwgendlaXRow6R1Zmlnc3RlIEx1bmdlbmtyZWJzdXJzYWNoZS4gRsO8ciBSYWRvbm1lc3N1bmcgdW5kIFNjaHV0ei4nLFxyXG4gICAgdGhlbWU6ICdyYWRpYXRpb24nLFxyXG4gICAgZXhwZXJpbWVudHM6IFsncmFkb25tZXNzdW5nJywgJ3NjaHV0eicsICd6ZXJmYWxsJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdGcicsXHJcbiAgICBuYW1lOiAnRnJhbmNpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA4NyxcclxuICAgIG1hc3M6IDIyMyxcclxuICAgIGdyb3VwOiAnYWxrYWxpJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAncycsXHJcbiAgICBncm91cE51bWJlcjogMSxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWxrYWxpLFxyXG4gICAgZGVzY3JpcHRpb246ICdJbnN0YWJpbCwgcmFkaW9ha3Rpdi4gTmllIG1ha3Jvc2tvcGlzY2ggYmVvYmFjaHRldC4gSHlwb3RoZXRpc2NoZSBXYXNzZXJyZWFrdGlvbi4nLFxyXG4gICAgdGhlbWU6ICd0aGVvcmV0aWNhbCcsXHJcbiAgICBleHBlcmltZW50czogWydpbnN0YWJpbCcsICdoYWxid2VydHN6ZWl0JywgJ3RoZW9yZXRpc2NoJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdSYScsXHJcbiAgICBuYW1lOiAnUmFkaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogODgsXHJcbiAgICBtYXNzOiAyMjYsXHJcbiAgICBncm91cDogJ2Fsa2FsaW5lRWFydGgnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdzJyxcclxuICAgIGdyb3VwTnVtYmVyOiAyLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hbGthbGluZUVhcnRoLFxyXG4gICAgZGVzY3JpcHRpb246ICdIb2NocmFkaW9ha3RpdiwgbHVtaW5pc3ppZXJlbmRlcyBNZXRhbGwuIExldWNodGV0IGltIER1bmtlbG4uIEbDvHIgaGlzdG9yaXNjaGUgTGFtcGVuLicsXHJcbiAgICB0aGVtZTogJ2hpc3RvcmljYWwnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnbGV1Y2h0ZW4nLCAnaGlzdG9yaXNjaCcsICdyYWRpb2FrdGl2J11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdBYycsXHJcbiAgICBuYW1lOiAnQWN0aW5pdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA4OSxcclxuICAgIG1hc3M6IDIyNyxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnTmFtZW5zZ2ViZXIgZGVyIEFjdGlub2lkZS4gUmFkaW9ha3Rpdi4gQXVzZ2FuZ3NzdG9mZiBmw7xyIFVyYW5hbnJlaWNoZXJ1bmcuJyxcclxuICAgIHRoZW1lOiAnbnVjbGVhcicsXHJcbiAgICBleHBlcmltZW50czogWyd1cmFuYW5yZWljaGVydW5nJywgJ3N0cmFobHVuZycsICd6ZXJmYWxsJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdUaCcsXHJcbiAgICBuYW1lOiAnVGhvcml1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDkwLFxyXG4gICAgbWFzczogMjMyLjA0LFxyXG4gICAgZ3JvdXA6ICdhY3RpbmlkZScsXHJcbiAgICBwZXJpb2Q6IDcsXHJcbiAgICBibG9jazogJ2YnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFjdGluaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdGw7xyIEZsw7xzc2lnc2FsenJlYWt0b3Jlbi4gU2ljaGVyZXIgdW5kIGFidW5kYW50ZXIgYWxzIFVyYW4uIE15dGhvbG9naXNjaCBiZW5hbm50LicsXHJcbiAgICB0aGVtZTogJ251Y2xlYXInLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZmzDvHNzaWdzYWx6cmVha3RvcicsICdzaWNoZXJoZWl0JywgJ2tlcm5lbmVyZ2llJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdQYScsXHJcbiAgICBuYW1lOiAnUHJvdGFjdGluaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogOTEsXHJcbiAgICBtYXNzOiAyMzEuMDQsXHJcbiAgICBncm91cDogJ2FjdGluaWRlJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAnZicsXHJcbiAgICBncm91cE51bWJlcjogMyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWN0aW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ1NlbHRlbmVyZXMsIHJhZGlvYWt0aXZlcyBFbGVtZW50LiBGw7xyIEtlcm5yZWFrdG9yLUZvcnNjaHVuZy4nLFxyXG4gICAgdGhlbWU6ICdyZXNlYXJjaCcsXHJcbiAgICBleHBlcmltZW50czogWydmb3JzY2h1bmcnLCAna2VybnJlYWt0b3InLCAndXJhbmFucmVpY2hlcnVuZyddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnTnAnLFxyXG4gICAgbmFtZTogJ05lcHR1bml1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDkzLFxyXG4gICAgbWFzczogMjM3LFxyXG4gICAgZ3JvdXA6ICdhY3RpbmlkZScsXHJcbiAgICBwZXJpb2Q6IDcsXHJcbiAgICBibG9jazogJ2YnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFjdGluaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdLw7xuc3RsaWNoZXMgRWxlbWVudC4gRXJzdGUgaW4gQXRvbXZlcnN1Y2hlbiBwcm9kdXppZXJ0LiBGw7xyIFBsdXRvbml1bS1IZXJzdGVsbHVuZy4nLFxyXG4gICAgdGhlbWU6ICdudWNsZWFyJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2vDvG5zdGxpY2gnLCAncGx1dG9uaXVtJywgJ3JlYWt0b3InXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1B1JyxcclxuICAgIG5hbWU6ICdQbHV0b25pdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA5NCxcclxuICAgIG1hc3M6IDI0NCxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnVMO2ZGxpY2hzdGUgU3Vic3RhbnouIE1pa3JvZ3JhbW0ga8O2bm5lbiB0w7Z0ZW4uIEbDvHIgS2VybndhZmZlbiB1bmQgUmF1bWZhaHJ0LVJUR3MuJyxcclxuICAgIHRoZW1lOiAnbnVjbGVhcicsXHJcbiAgICBleHBlcmltZW50czogWydrZXJud2FmZmVuJywgJ3JhdW1mYWhydCcsICdnZWZhaHInXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0FtJyxcclxuICAgIG5hbWU6ICdBbWVyaWNpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiA5NSxcclxuICAgIG1hc3M6IDI0MyxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnS8O8bnN0bGljaGVzIEVsZW1lbnQuIEVudGRlY2t0IGluIEgtQm9tYmVuLUZhbGxvdXQgKEl2eSBNaWtlIDE5NTIpLiBGw7xyIFJhdWNoZGV0ZWt0b3Jlbi4nLFxyXG4gICAgdGhlbWU6ICdzcGFjZScsXHJcbiAgICBleHBlcmltZW50czogWydyYXVjaGRldGVrdG9yJywgJ2gtYm9tYmUnLCAnc3B1cmVuJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdDbScsXHJcbiAgICBuYW1lOiAnQ3VyaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogOTYsXHJcbiAgICBtYXNzOiAyNDcsXHJcbiAgICBncm91cDogJ2FjdGluaWRlJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAnZicsXHJcbiAgICBncm91cE51bWJlcjogMyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWN0aW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0vDvG5zdGxpY2hlcyBFbGVtZW50LiBOYW1lbnNnZWJlcjogUGllcnJlIHVuZCBNYXJpZSBDdXJpZS4gRsO8ciBSYXVtc2NoaWZmLVJUR3MuJyxcclxuICAgIHRoZW1lOiAnc3BhY2UnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsncmF1bWZhaHJ0JywgJ2N1cmllJywgJ2tlcm5lbmVyZ2llJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdCaycsXHJcbiAgICBuYW1lOiAnQmVya2VsaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogOTcsXHJcbiAgICBtYXNzOiAyNDcsXHJcbiAgICBncm91cDogJ2FjdGluaWRlJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAnZicsXHJcbiAgICBncm91cE51bWJlcjogMyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWN0aW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0vDvG5zdGxpY2hlcyBFbGVtZW50LiBTZWhyIGt1cnpsZWJpZy4gRsO8ciB3aXNzZW5zY2hhZnRsaWNoZSBGb3JzY2h1bmcuJyxcclxuICAgIHRoZW1lOiAncmVzZWFyY2gnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZm9yc2NodW5nJywgJ2tlcm5jaGVtaWUnLCAnaW5zdGFiaWwnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0NmJyxcclxuICAgIG5hbWU6ICdDYWxpZm9ybml1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDk4LFxyXG4gICAgbWFzczogMjUxLFxyXG4gICAgZ3JvdXA6ICdhY3RpbmlkZScsXHJcbiAgICBwZXJpb2Q6IDcsXHJcbiAgICBibG9jazogJ2YnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFjdGluaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdLw7xuc3RsaWNoZXMgRWxlbWVudC4gRsO8ciBOZXV0cm9uZW5xdWVsbGVuIHVuZCBFbGVtZW50c3ludGhlc2UuJyxcclxuICAgIHRoZW1lOiAnbnVjbGVhcicsXHJcbiAgICBleHBlcmltZW50czogWyduZXV0cm9uZW5xdWVsbGUnLCAnc3ludGhlc2UnLCAnemVyZmFsbCddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnRXMnLFxyXG4gICAgbmFtZTogJ0VpbnN0ZWluaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogOTksXHJcbiAgICBtYXNzOiAyNTIsXHJcbiAgICBncm91cDogJ2FjdGluaWRlJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAnZicsXHJcbiAgICBncm91cE51bWJlcjogMyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWN0aW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0vDvG5zdGxpY2hlcyBFbGVtZW50LiBFbnRkZWNrdCAxOTUyIGltIEZhbGxvdXQgZGVyIEgtQm9tYmUgSXZ5IE1pa2UuIEluIEdlZGVua2VuIGFuIEVpbnN0ZWluLicsXHJcbiAgICB0aGVtZTogJ2hpc3RvcnknLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnaGlzdG9yaXNjaCcsICdoLWJvbWJlJywgJ21lbW9yaWFsJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdGbScsXHJcbiAgICBuYW1lOiAnRmVybWl1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDEwMCxcclxuICAgIG1hc3M6IDI1NyxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnS8O8bnN0bGljaGVzIEVsZW1lbnQuIE5hbWVuc2dlYmVyOiBFbnJpY28gRmVybWkuIEbDvHIgdGhlb3JldGlzY2hlIEtlcm5yZWFrdG9yZW4uJyxcclxuICAgIHRoZW1lOiAncmVzZWFyY2gnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsncmVha3RvcicsICd0aGVvcmV0aXNjaCcsICdudWtsZWFycGh5c2lrJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdNZCcsXHJcbiAgICBuYW1lOiAnTWVuZGVsZXZpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAxMDEsXHJcbiAgICBtYXNzOiAyNTgsXHJcbiAgICBncm91cDogJ2FjdGluaWRlJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAnZicsXHJcbiAgICBncm91cE51bWJlcjogMyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWN0aW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0vDvG5zdGxpY2hlcyBFbGVtZW50LiBJbiBHZWRlbmtlbiBhbiBNZW5kZWxlamV3LiBFaGVtYWxpZ2VzIEVsZW1lbnQgMTAxLicsXHJcbiAgICB0aGVtZTogJ2hpc3RvcnknLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnaGlzdG9yaXNjaCcsICdwZXJpb2RlbnN5c3RlbScsICd0cmFkaXRpb24nXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ05vJyxcclxuICAgIG5hbWU6ICdOb2JlbGl1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDEwMixcclxuICAgIG1hc3M6IDI1OSxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdmJyxcclxuICAgIGdyb3VwTnVtYmVyOiAzLFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnS8O8bnN0bGljaGVzIEVsZW1lbnQuIEJlbmFubnQgbmFjaCBBbGZyZWQgTm9iZWwuIEbDvHIgd2lzc2Vuc2NoYWZ0bGljaGUgQW5lcmtlbm51bmcuJyxcclxuICAgIHRoZW1lOiAnaGlzdG9yeScsXHJcbiAgICBleHBlcmltZW50czogWydhdXN6ZWljaG51bmcnLCAnbm9iZWxwcmVpcycsICdmb3JzY2h1bmcnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0xyJyxcclxuICAgIG5hbWU6ICdMYXdyZW5jaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogMTAzLFxyXG4gICAgbWFzczogMjYyLFxyXG4gICAgZ3JvdXA6ICdhY3RpbmlkZScsXHJcbiAgICBwZXJpb2Q6IDcsXHJcbiAgICBibG9jazogJ2YnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDMsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFjdGluaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdMZXR6dGVzIG5hdMO8cmxpY2hlcyBFbGVtZW50LiBOYW1lbnNnZWJlcjogRXJuZXN0IExhd3JlbmNlLiBFbnRkZWNrdW5nIGRlciBMYW50aGFub2lkZS4nLFxyXG4gICAgdGhlbWU6ICdkaXNjb3ZlcnknLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZW50ZGVja3VuZycsICdzeW5jaHJvdHJvbicsICd0ZWlsY2hlbmJlc2NobGV1bmlnZXInXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1JmJyxcclxuICAgIG5hbWU6ICdSdXRoZXJmb3JkaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogMTA0LFxyXG4gICAgbWFzczogMjY3LFxyXG4gICAgZ3JvdXA6ICdhY3RpbmlkZScsXHJcbiAgICBwZXJpb2Q6IDcsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDQsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFjdGluaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdLw7xuc3RsaWNoZXMgRWxlbWVudC4gTmFtZW5zZ2ViZXI6IEVybmVzdCBSdXRoZXJmb3JkLiBFbnRkZWNrdW5nIGRlcyBBdG9ta2VybnMuJyxcclxuICAgIHRoZW1lOiAncmVzZWFyY2gnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsna2VybnBoeXNpaycsICd0ZWlsY2hlbicsICdyZWFrdG9yJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdEYicsXHJcbiAgICBuYW1lOiAnRHVibml1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDEwNSxcclxuICAgIG1hc3M6IDI2OCxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA1LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnS8O8bnN0bGljaGVzIEVsZW1lbnQuIE5hbWVuc2dlYmVyOiBTdGFkdCBEdWJuYS4gRm9yc2NodW5nc3plbnRydW0gUnVzc2xhbmRzLicsXHJcbiAgICB0aGVtZTogJ3Jlc2VhcmNoJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2ZvcnNjaHVuZycsICdrZXJuY2hlbWllJywgJ2luc3RhYmlsJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdTZycsXHJcbiAgICBuYW1lOiAnU2VhYm9yZ2l1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDEwNixcclxuICAgIG1hc3M6IDI2OSxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA2LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnS8O8bnN0bGljaGVzIEVsZW1lbnQuIE5hbWVuc2dlYmVyOiBHbGVubiBTZWFib3JnLiBGb3JzY2h1bmdzemVudHJ1bSBVU0EuJyxcclxuICAgIHRoZW1lOiAncmVzZWFyY2gnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZm9yc2NodW5nJywgJ2NoZW1pZScsICdzeW50aGVzZSddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnQmgnLFxyXG4gICAgbmFtZTogJ0JvaHJpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAxMDcsXHJcbiAgICBtYXNzOiAyNzAsXHJcbiAgICBncm91cDogJ2FjdGluaWRlJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogNyxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWN0aW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0vDvG5zdGxpY2hlcyBFbGVtZW50LiBOYW1lbnNnZWJlcjogTmllbHMgQm9oci4gUXVhbnRlbm1lY2hhbmlrLVJldm9sdXRpb24uJyxcclxuICAgIHRoZW1lOiAnc2NpZW5jZScsXHJcbiAgICBleHBlcmltZW50czogWydxdWFudGVubWVjaGFuaWsnLCAndGhlb3JldGlzY2gnLCAnbW9kZWxsJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdIcycsXHJcbiAgICBuYW1lOiAnSGFzc2l1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDEwOCxcclxuICAgIG1hc3M6IDI3NyxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA4LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnS8O8bnN0bGljaGVzIEVsZW1lbnQuIE5hbWVuc2dlYmVyOiBIZXNzZW4gKEJ1bmRlc2xhbmQpLiBFcnN0ZSBkZXV0c2NoZSBFbnRkZWNrdW5nLicsXHJcbiAgICB0aGVtZTogJ2Rpc2NvdmVyeScsXHJcbiAgICBleHBlcmltZW50czogWydlbnRkZWNrdW5nJywgJ2RldXRzY2gnLCAndGVpbGNoZW4nXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ010JyxcclxuICAgIG5hbWU6ICdNZWl0bmVyaXVtJyxcclxuICAgIGF0b21pY051bWJlcjogMTA5LFxyXG4gICAgbWFzczogMjc4LFxyXG4gICAgZ3JvdXA6ICdhY3RpbmlkZScsXHJcbiAgICBwZXJpb2Q6IDcsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDgsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFjdGluaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdLw7xuc3RsaWNoZXMgRWxlbWVudC4gTmFtZW5zZ2ViZXI6IExpc2UgTWVpdG5lci4gRW50ZGVja3VuZyBkZXIgS2VybnNwYWx0dW5nLicsXHJcbiAgICB0aGVtZTogJ2hpc3RvcnknLFxyXG4gICAgZXhwZXJpbWVudHM6IFsna2VybnNwYWx0dW5nJywgJ3VyYW4nLCAnZ2VzY2hpY2h0ZSddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnRHMnLFxyXG4gICAgbmFtZTogJ0Rhcm1zdGFkdGl1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDExMCxcclxuICAgIG1hc3M6IDI4MSxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA4LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnS8O8bnN0bGljaGVzIEVsZW1lbnQuIE5hbWVuc2dlYmVyOiBEYXJtc3RhZHQuIEdTSSBUZWlsY2hlbmJlc2NobGV1bmlnZXIuJyxcclxuICAgIHRoZW1lOiAncmVzZWFyY2gnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsndGVpbGNoZW5iZXNjaGxldW5pZ2VyJywgJ3NjaHdlcmlvbmVuJywgJ3N5bnRoZXNlJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdSZycsXHJcbiAgICBuYW1lOiAnUm9lbnRnZW5pdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAxMTEsXHJcbiAgICBtYXNzOiAyODIsXHJcbiAgICBncm91cDogJ2FjdGluaWRlJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogOCxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWN0aW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0vDvG5zdGxpY2hlcyBFbGVtZW50LiBOYW1lbnNnZWJlcjogV2lsaGVsbSBSw7ZudGdlbi4gRsO8ciBtZWRpemluaXNjaGUgQmlsZGdlYnVuZy4nLFxyXG4gICAgdGhlbWU6ICdtZWRpY2FsJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ3LDtm50Z2VuJywgJ21lZGl6aW4nLCAnc3ludGhlc2UnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ0NuJyxcclxuICAgIG5hbWU6ICdDb3Blcm5pY2l1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDExMixcclxuICAgIG1hc3M6IDI4NSxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA4LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnS8O8bnN0bGljaGVzIEVsZW1lbnQuIE5hbWVuc2dlYmVyOiBOaWtvbGF1cyBLb3Blcm5pa3VzLiBSZXZvbHV0aW9uIGRlcyBXZWx0YmlsZHMuJyxcclxuICAgIHRoZW1lOiAnaGlzdG9yeScsXHJcbiAgICBleHBlcmltZW50czogWydhc3Ryb25vbWllJywgJ3Jldm9sdXRpb24nLCAndW5pdmVyc3VtJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdOaCcsXHJcbiAgICBuYW1lOiAnTmlob25pdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAxMTMsXHJcbiAgICBtYXNzOiAyODYsXHJcbiAgICBncm91cDogJ2FjdGluaWRlJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogOCxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWN0aW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0vDvG5zdGxpY2hlcyBFbGVtZW50LiBOYW1lbnNnZWJlcjogSmFwYW4uIEbDvHIgRWxlbWVudHN5bnRoZXNlLUZvcnNjaHVuZy4nLFxyXG4gICAgdGhlbWU6ICdyZXNlYXJjaCcsXHJcbiAgICBleHBlcmltZW50czogWydzeW50aGVzZScsICdlbGVtZW50JywgJ2ZvcnNjaHVuZyddXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc3ltYm9sOiAnRmwnLFxyXG4gICAgbmFtZTogJ0ZsZXJvdml1bScsXHJcbiAgICBhdG9taWNOdW1iZXI6IDExNCxcclxuICAgIG1hc3M6IDI4OSxcclxuICAgIGdyb3VwOiAnYWN0aW5pZGUnLFxyXG4gICAgcGVyaW9kOiA3LFxyXG4gICAgYmxvY2s6ICdkJyxcclxuICAgIGdyb3VwTnVtYmVyOiA4LFxyXG4gICAgY29sb3I6IEdST1VQX0NPTE9SUy5hY3RpbmlkZSxcclxuICAgIGRlc2NyaXB0aW9uOiAnS8O8bnN0bGljaGVzIEVsZW1lbnQuIE5hbWVuc2dlYmVyOiBHZW9yZ2lqIEZsZXJvdy4gRsO8ciB0aGVvcmV0aXNjaGUgUGh5c2lrLicsXHJcbiAgICB0aGVtZTogJ3NjaWVuY2UnLFxyXG4gICAgZXhwZXJpbWVudHM6IFsndGhlb3JldGlzY2gnLCAnbW9kZWxsJywgJ3N0YWJpbGl0w6R0J11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdNYycsXHJcbiAgICBuYW1lOiAnTW9zY292aXVtJyxcclxuICAgIGF0b21pY051bWJlcjogMTE1LFxyXG4gICAgbWFzczogMjkwLFxyXG4gICAgZ3JvdXA6ICdhY3RpbmlkZScsXHJcbiAgICBwZXJpb2Q6IDcsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDgsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFjdGluaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdLw7xuc3RsaWNoZXMgRWxlbWVudC4gTmFtZW5zZ2ViZXI6IE1vc2thdS4gRHViaW9zZSBFbnRkZWNrdW5nc2dlc2NoaWNodGUuJyxcclxuICAgIHRoZW1lOiAnaGlzdG9yeScsXHJcbiAgICBleHBlcmltZW50czogWydkdWJpb3MnLCAnc3ludGhlc2UnLCAnd2lzc2Vuc2NoYWZ0J11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdMdicsXHJcbiAgICBuYW1lOiAnTGl2ZXJtb3JpdW0nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAxMTYsXHJcbiAgICBtYXNzOiAyOTMsXHJcbiAgICBncm91cDogJ2FjdGluaWRlJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogOCxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWN0aW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0vDvG5zdGxpY2hlcyBFbGVtZW50LiBOYW1lbnNnZWJlcjogTGF3cmVuY2UgTGl2ZXJtb3JlIE5hdGlvbmFsIExhYm9yYXRvcnkuIEVsZW1lbnQgMTE2LicsXHJcbiAgICB0aGVtZTogJ3Jlc2VhcmNoJyxcclxuICAgIGV4cGVyaW1lbnRzOiBbJ2VsZW1lbnQxMTYnLCAna2VybnJlYWt0b3InLCAnc3ludGhlc2UnXVxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHN5bWJvbDogJ1RzJyxcclxuICAgIG5hbWU6ICdUZW5uZXNzaW4nLFxyXG4gICAgYXRvbWljTnVtYmVyOiAxMTcsXHJcbiAgICBtYXNzOiAyOTQsXHJcbiAgICBncm91cDogJ2FjdGluaWRlJyxcclxuICAgIHBlcmlvZDogNyxcclxuICAgIGJsb2NrOiAnZCcsXHJcbiAgICBncm91cE51bWJlcjogOCxcclxuICAgIGNvbG9yOiBHUk9VUF9DT0xPUlMuYWN0aW5pZGUsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0vDvG5zdGxpY2hlcyBFbGVtZW50LiBOYW1lbnNnZWJlcjogVGVubmVzc2VlIChVU0EpLiBTdXBlcmhlYXZ5LUVsZW1lbnRlLUZvcnNjaHVuZy4nLFxyXG4gICAgdGhlbWU6ICdyZXNlYXJjaCcsXHJcbiAgICBleHBlcmltZW50czogWydzdXBlcmhlYXZ5JywgJ2luc2VsZnN0YWJpbGl0w6R0JywgJ3N5bnRoZXNlJ11cclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBzeW1ib2w6ICdPZycsXHJcbiAgICBuYW1lOiAnT2dhbmVzc29uJyxcclxuICAgIGF0b21pY051bWJlcjogMTE4LFxyXG4gICAgbWFzczogMjk0LFxyXG4gICAgZ3JvdXA6ICdhY3RpbmlkZScsXHJcbiAgICBwZXJpb2Q6IDcsXHJcbiAgICBibG9jazogJ2QnLFxyXG4gICAgZ3JvdXBOdW1iZXI6IDgsXHJcbiAgICBjb2xvcjogR1JPVVBfQ09MT1JTLmFjdGluaWRlLFxyXG4gICAgZGVzY3JpcHRpb246ICdTY2h3ZXJzdGVzIG5hdMO8cmxpY2hlcyBFbGVtZW50LiBOYW1lbnNnZWJlcjogWXVyaSBPZ2FuZXNzaWFuLiBJbnNlbCBkZXIgU3RhYmlsaXTDpHQgZ2VzdWNodC4nLFxyXG4gICAgdGhlbWU6ICdkaXNjb3ZlcnknLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnaW5zZWxmc3RhYmlsaXTDpHQnLCAnaW5zZWwnLCAndGhlb3JldGlzY2gnXVxyXG4gIH1cclxuXTtcclxuXHJcbi8vIEdldCBlbGVtZW50IGJ5IGF0b21pYyBudW1iZXJcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRCeU51bWJlcihhdG9taWNOdW1iZXIpIHtcclxuICByZXR1cm4gRUxFTUVOVFMuZmluZChlID0+IGUuYXRvbWljTnVtYmVyID09PSBhdG9taWNOdW1iZXIpO1xyXG59XHJcblxyXG4vLyBHZXQgZWxlbWVudCBieSBzeW1ib2xcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRCeVN5bWJvbChzeW1ib2wpIHtcclxuICByZXR1cm4gRUxFTUVOVFMuZmluZChlID0+IGUuc3ltYm9sID09PSBzeW1ib2wpO1xyXG59XHJcblxyXG4vLyBHZXQgZWxlbWVudHMgYnkgZ3JvdXBcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlHcm91cChncm91cCkge1xyXG4gIHJldHVybiBFTEVNRU5UUy5maWx0ZXIoZSA9PiBlLmdyb3VwID09PSBncm91cCk7XHJcbn1cclxuXHJcbi8vIEdldCBlbGVtZW50cyBieSBwZXJpb2RcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlQZXJpb2QocGVyaW9kKSB7XHJcbiAgcmV0dXJuIEVMRU1FTlRTLmZpbHRlcihlID0+IGUucGVyaW9kID09PSBwZXJpb2QpO1xyXG59XHJcblxyXG4vLyBFeHBlcmltZW50YWwgUm9vbXNcclxuZXhwb3J0IGNvbnN0IEVYUEVSSU1FTlRBTF9ST09NUyA9IFtcclxuICB7XHJcbiAgICBpZDogJ3JlYWN0aW9uX2xhYicsXHJcbiAgICBuYW1lOiAnUmVha3Rpb25zbGFib3InLFxyXG4gICAgZGVzY3JpcHRpb246ICdEaWUgQWxjaGVtaXN0ZW53ZXJrc3RhdHQnLFxyXG4gICAgaWNvbjogJ/Cfp6onLFxyXG4gICAgY29sb3I6IDB4RkY2QjZCLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnYWxrYWxpX3dhdGVyJywgJ3RoZXJtaXQnLCAnZWxlZmFudGVuemFobnBhc3RhJ11cclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnbnVjbGVhcl9jaGFtYmVyJyxcclxuICAgIG5hbWU6ICdOdWtsZWFycGh5c2lrJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnS2VybmtyYWZ0d2Vyay1Lb250cm9sbHJhdW0nLFxyXG4gICAgaWNvbjogJ+KYou+4jycsXHJcbiAgICBjb2xvcjogMHg0QTY5QkQsXHJcbiAgICBleHBlcmltZW50czogWydmaXNzaW9uJywgJ2Z1c2lvbicsICdkZWNheSddXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2VsZWN0cm9jaGVtX2xhYicsXHJcbiAgICBuYW1lOiAnRWxla3Ryb2NoZW1pZScsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0JhdHRlcmllbiB1bmQgRWxla3Ryb2x5c2UnLFxyXG4gICAgaW9uOiAn8J+UiycsXHJcbiAgICBjb2xvcjogMHg3NEI5RkYsXHJcbiAgICBleHBlcmltZW50czogWydsaW9uX2JhdHRlcnknLCAnZ2FsdmFuaWMnLCAnZWxlY3Ryb2x5c2lzJ11cclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnb3JnYW5pY19jaGVtJyxcclxuICAgIG5hbWU6ICdPcmdhbmlzY2hlIENoZW1pZScsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0RhcyBLb2hsZW5zdG9mZi1Vbml2ZXJzdW0nLFxyXG4gICAgaWNvbjogJ/Cfp6wnLFxyXG4gICAgY29sb3I6IDB4MjBDOTk3LFxyXG4gICAgZXhwZXJpbWVudHM6IFsnZG5hJywgJ3Byb3RlaW5zJywgJ3BvbHltZXJzJ11cclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnZXh0cmVtZV9jb25kaXRpb25zJyxcclxuICAgIG5hbWU6ICdFeHRyZW1lIEJlZGluZ3VuZ2VuJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnR3JlbnplbiBkZXIgTWF0ZXJpZScsXHJcbiAgICBpY29uOiAn8J+Moe+4jycsXHJcbiAgICBjb2xvcjogMHhGRkE5NEQsXHJcbiAgICBleHBlcmltZW50czogWydzdXBlcmZsdWlkJywgJ3BsYXNtYScsICdoaWdocHJlc3N1cmUnXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdpbmR1c3RyaWFsX2FwcHMnLFxyXG4gICAgbmFtZTogJ0luZHVzdHJpZWxsZSBBbndlbmR1bmdlbicsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0dyb8OfaW5kdXN0cmllIGRlciBDaGVtaWUnLFxyXG4gICAgaWNvbjogJ/Cfj60nLFxyXG4gICAgY29sb3I6IDB4NzRCOUZGLFxyXG4gICAgZXhwZXJpbWVudHM6IFsnaGFiZXJib3NjaCcsICdibGFzdGZ1cm5hY2UnLCAncGV0cm9jaGVtaWNhbCddXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2hpc3RvcmljYWxfbGFiJyxcclxuICAgIG5hbWU6ICdIaXN0b3Jpc2NoZXMgTGFib3InLFxyXG4gICAgZGVzY3JpcHRpb246ICdNZWlsZW5zdGVpbmUgZGVyIEVudGRlY2t1bmcnLFxyXG4gICAgaWNvbjogJ/Cfj5vvuI8nLFxyXG4gICAgY29sb3I6IDB4RDYzMzg0LFxyXG4gICAgZXhwZXJpbWVudHM6IFsnbWFyaWVfY3VyaWUnLCAnbGF2b2lzaWVyJywgJ21lbmRlbGVldiddXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ3NwYWNlX2NoZW0nLFxyXG4gICAgbmFtZTogJ1dlbHRyYXVtY2hlbWllJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQ2hlbWllIGltIEtvc21vcycsXHJcbiAgICBpY29uOiAn8J+agCcsXHJcbiAgICBjb2xvcjogMHgwQTBBMUEsXHJcbiAgICBleHBlcmltZW50czogWydudWNsZW9zeW50aGVzaXMnLCAnbWV0ZW9yaXRlcycsICdpbnRlcnN0ZWxsYXInXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICduYW5vX3dvcmxkJyxcclxuICAgIG5hbWU6ICdOYW5vLVdlbHQnLFxyXG4gICAgZGVzY3JpcHRpb246ICdEaWUgYXRvbWFyZSBQZXJzcGVrdGl2ZScsXHJcbiAgICBpY29uOiAn8J+UrCcsXHJcbiAgICBjb2xvcjogMHgxN0EyQjgsXHJcbiAgICBleHBlcmltZW50czogWydjcnlzdGFscycsICdvcmJpdGFscycsICduYW5vdHViZXMnXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdjaGFsbGVuZ2VfYXJlbmEnLFxyXG4gICAgbmFtZTogJ0NoYWxsZW5nZS1BcmVuYScsXHJcbiAgICBkZXNjcmlwdGlvbjogJ1F1aXogdW5kIFdldHRrYW1wZicsXHJcbiAgICBpY29uOiAn8J+PhicsXHJcbiAgICBjb2xvcjogMHhGRkMxMDcsXHJcbiAgICBleHBlcmltZW50czogWydxdWl6JywgJ3B1enpsZScsICdlc2NhcGVfcm9vbSddXHJcbiAgfVxyXG5dO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/elements.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: init */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_PointerLockControls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/PointerLockControls.js */ \"./node_modules/three/examples/jsm/controls/PointerLockControls.js\");\n/* harmony import */ var _lib_VRButton_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/VRButton.js */ \"./src/lib/VRButton.js\");\n/* harmony import */ var _lib_slideshow_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/slideshow.js */ \"./src/lib/slideshow.js\");\n/* harmony import */ var _lib_assetManager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/assetManager.js */ \"./src/lib/assetManager.js\");\n/* harmony import */ var ecsy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ecsy */ \"./node_modules/ecsy/build/ecsy.module.js\");\n/* harmony import */ var _systems_SDFTextSystem_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./systems/SDFTextSystem.js */ \"./src/systems/SDFTextSystem.js\");\n/* harmony import */ var _systems_DebugHelperSystem_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./systems/DebugHelperSystem.js */ \"./src/systems/DebugHelperSystem.js\");\n/* harmony import */ var _systems_AreaCheckerSystem_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./systems/AreaCheckerSystem.js */ \"./src/systems/AreaCheckerSystem.js\");\n/* harmony import */ var _systems_ControllersSystem_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./systems/ControllersSystem.js */ \"./src/systems/ControllersSystem.js\");\n/* harmony import */ var _systems_HierarchySystem_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./systems/HierarchySystem.js */ \"./src/systems/HierarchySystem.js\");\n/* harmony import */ var _systems_TransformSystem_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./systems/TransformSystem.js */ \"./src/systems/TransformSystem.js\");\n/* harmony import */ var _systems_BillboardSystem_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./systems/BillboardSystem.js */ \"./src/systems/BillboardSystem.js\");\n/* harmony import */ var _systems_SystemsGroup_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./systems/SystemsGroup.js */ \"./src/systems/SystemsGroup.js\");\n/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./assets.js */ \"./src/assets.js\");\n/* harmony import */ var _lib_shaders_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./lib/shaders.js */ \"./src/lib/shaders.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/index.js */ \"./src/components/index.js\");\n/* harmony import */ var _lib_RayControl_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./lib/RayControl.js */ \"./src/lib/RayControl.js\");\n/* harmony import */ var _lib_Teleport_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./lib/Teleport.js */ \"./src/lib/Teleport.js\");\n/* harmony import */ var _rooms_Lobby_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./rooms/Lobby.js */ \"./src/rooms/Lobby.js\");\n/* harmony import */ var _rooms_ElementRoom_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./rooms/ElementRoom.js */ \"./src/rooms/ElementRoom.js\");\n/* harmony import */ var _rooms_ExperimentalRoom_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./rooms/ExperimentalRoom.js */ \"./src/rooms/ExperimentalRoom.js\");\n/* harmony import */ var _data_elements_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./data/elements.js */ \"./src/data/elements.js\");\n/* harmony import */ var _lib_ParticleSys_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./lib/ParticleSys.js */ \"./src/lib/ParticleSys.js\");\n\n\n\n\n\n\n// ECSY\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import VoiceCommander from './lib/VoiceCommander.js';\n\nvar clock = new three__WEBPACK_IMPORTED_MODULE_0__[\"Clock\"]();\nvar scene,\n  renderer,\n  camera,\n  controls,\n  context = {};\nvar raycontrol,\n  teleport,\n  controllers = [];\n// var voiceCommander;\n\nvar listener, ambientMusic;\nvar rooms = [];\nvar setupCalledRooms = new Set();\nvar currentElementRoom = null;\nvar currentExpRoom = null;\nconst ROOM_LOBBY = 0;\nconst ROOM_ELEMENTS_START = 1;\nconst ROOM_ELEMENTS_END = ROOM_ELEMENTS_START + _data_elements_js__WEBPACK_IMPORTED_MODULE_22__[\"ELEMENTS\"].length - 1;\nconst ROOM_EXP_START = ROOM_ELEMENTS_END + 1;\nvar elementRooms = [];\nvar expRooms = [];\nconst urlObject = new URL(window.location);\nconst roomName = urlObject.searchParams.get('room');\nconst debug = urlObject.searchParams.has('debug');\nconst handedness = urlObject.searchParams.has('handedness') ? urlObject.searchParams.get('handedness') : \"right\";\nconst targetPositions = {\n  lobby: {\n    fromElement: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 5)\n  },\n  elements: {\n    toLobby: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, -5)\n  },\n  expRooms: {\n    toLobby: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, -5)\n  }\n};\nfunction gotoRoom(roomIndex, elementSymbol = null, expRoomId = null) {\n  rooms[context.room].exit(context);\n  raycontrol.deactivateAll();\n  const prevRoom = context.room;\n  if (roomIndex === ROOM_LOBBY) {\n    currentElementRoom = null;\n    currentExpRoom = null;\n  } else if (roomIndex >= ROOM_ELEMENTS_START && roomIndex <= ROOM_ELEMENTS_END) {\n    currentElementRoom = elementSymbol;\n    currentExpRoom = null;\n    if (!setupCalledRooms.has(roomIndex)) {\n      rooms[roomIndex].setup(context, elementSymbol);\n      setupCalledRooms.add(roomIndex);\n    }\n  } else if (roomIndex >= ROOM_EXP_START) {\n    currentElementRoom = null;\n    currentExpRoom = expRoomId;\n    if (!setupCalledRooms.has(roomIndex)) {\n      rooms[roomIndex].setup(context, expRoomId);\n      setupCalledRooms.add(roomIndex);\n    }\n  }\n  context.room = roomIndex;\n  playMusic(roomIndex);\n  rooms[context.room].enter(context, elementSymbol || expRoomId);\n}\nfunction playMusic(roomIndex) {\n  if (ambientMusic && ambientMusic.source) ambientMusic.stop();\n  if (roomIndex !== ROOM_LOBBY) {}\n}\nvar ecsyWorld;\nvar systemsGroup = {};\nvar initialized = false;\nfunction detectWebXR() {\n  if ('xr' in navigator) {\n    navigator.xr.isSessionSupported('immersive-vr').then(supported => {\n      const noWebXRElement = document.getElementById('no-webxr');\n      if (!supported && noWebXRElement) {\n        noWebXRElement.classList.remove('hidden');\n      }\n    });\n  } else {\n    const noWebXRElement = document.getElementById('no-webxr');\n    if (noWebXRElement) {\n      noWebXRElement.classList.remove('hidden');\n    }\n  }\n}\nfunction init() {\n  if (initialized) {\n    console.log('init() already called, skipping');\n    return;\n  }\n  initialized = true;\n  console.log('init() called');\n  detectWebXR();\n  const handElement = document.getElementById(handedness + 'hand');\n  if (handElement) {\n    handElement.classList.add('activehand');\n  }\n  ecsyWorld = new ecsy__WEBPACK_IMPORTED_MODULE_5__[\"World\"]();\n  ecsyWorld.registerSystem(_systems_SDFTextSystem_js__WEBPACK_IMPORTED_MODULE_6__[\"SDFTextSystem\"]).registerSystem(_systems_AreaCheckerSystem_js__WEBPACK_IMPORTED_MODULE_8__[\"AreaCheckerSystem\"]).registerSystem(_systems_ControllersSystem_js__WEBPACK_IMPORTED_MODULE_9__[\"ControllersSystem\"]).registerSystem(_systems_DebugHelperSystem_js__WEBPACK_IMPORTED_MODULE_7__[\"DebugHelperSystem\"]).registerSystem(_systems_TransformSystem_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]).registerSystem(_systems_BillboardSystem_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]).registerSystem(_systems_HierarchySystem_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]);\n  systemsGroup['lobby'] = new _systems_SystemsGroup_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"](ecsyWorld, [_systems_AreaCheckerSystem_js__WEBPACK_IMPORTED_MODULE_8__[\"AreaCheckerSystem\"], _systems_ControllersSystem_js__WEBPACK_IMPORTED_MODULE_9__[\"ControllersSystem\"], _systems_DebugHelperSystem_js__WEBPACK_IMPORTED_MODULE_7__[\"DebugHelperSystem\"]]);\n  renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]({\n    antialias: true,\n    logarithmicDepthBuffer: false,\n    powerPreference: \"high-performance\",\n    preserveDrawingBuffer: false,\n    failIfMajorPerformanceCaveat: false\n  });\n  renderer.gammaFactor = 2.2;\n  renderer.outputEncoding = three__WEBPACK_IMPORTED_MODULE_0__[\"sRGBEncoding\"];\n  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.xr.enabled = true;\n  renderer.sortObjects = false;\n  renderer.autoClear = true;\n  renderer.autoClearDepth = true;\n  renderer.autoClearStencil = true;\n  scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n  camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](80, window.innerWidth / window.innerHeight, 0.005, 10000);\n  camera.position.set(0, 1.6, 0);\n  listener = new three__WEBPACK_IMPORTED_MODULE_0__[\"AudioListener\"]();\n  camera.add(listener);\n  ambientMusic = new three__WEBPACK_IMPORTED_MODULE_0__[\"Audio\"](listener);\n  controls = new three_examples_jsm_controls_PointerLockControls_js__WEBPACK_IMPORTED_MODULE_1__[\"PointerLockControls\"](camera, renderer.domElement);\n  document.body.addEventListener('click', () => {\n    if (!context.vrMode) {\n      controls.lock();\n    }\n  });\n  var moveForward = false;\n  var moveBackward = false;\n  var moveLeft = false;\n  var moveRight = false;\n  document.addEventListener('keydown', ev => {\n    switch (ev.keyCode) {\n      case 87:\n      case 38:\n        moveForward = true;\n        break;\n      case 65:\n      case 37:\n        moveLeft = true;\n        break;\n      case 83:\n      case 40:\n        moveBackward = true;\n        break;\n      case 68:\n      case 39:\n        moveRight = true;\n        break;\n    }\n  });\n  document.addEventListener('keyup', ev => {\n    switch (ev.keyCode) {\n      case 87:\n      case 38:\n        moveForward = false;\n        break;\n      case 65:\n      case 37:\n        moveLeft = false;\n        break;\n      case 83:\n      case 40:\n        moveBackward = false;\n        break;\n      case 68:\n      case 39:\n        moveRight = false;\n        break;\n    }\n  });\n  context.browserControls = {\n    controls: controls,\n    moveForward: () => moveForward,\n    moveBackward: () => moveBackward,\n    moveLeft: () => moveLeft,\n    moveRight: () => moveRight\n  };\n  for (let i = 0; i < 2; i++) {\n    controllers[i] = renderer.xr.getController(i);\n    controllers[i].raycaster = new three__WEBPACK_IMPORTED_MODULE_0__[\"Raycaster\"]();\n    controllers[i].raycaster.near = 0.1;\n    controllers[i].addEventListener('selectstart', onSelectStart);\n    controllers[i].addEventListener('selectend', onSelectEnd);\n  }\n  const lightSun = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0xeeffff);\n  lightSun.name = 'sun';\n  lightSun.position.set(0.2, 1, 0.1);\n  const lightFill = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0xfff0ee, 0.3);\n  lightFill.name = 'fillLight';\n  lightFill.position.set(-0.2, -1, -0.1);\n  scene.add(lightSun, lightFill);\n  var cameraRig = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  cameraRig.add(camera);\n  cameraRig.add(controllers[0]);\n  cameraRig.add(controllers[1]);\n  cameraRig.position.set(0, 0, 2);\n  scene.add(cameraRig);\n  context.vrMode = false;\n  context.assets = _assets_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\n  context.shaders = _lib_shaders_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\n  context.scene = scene;\n  context.renderer = renderer;\n  context.camera = camera;\n  context.audioListener = listener;\n  context.goto = null;\n  context.cameraRig = cameraRig;\n  context.controllers = controllers;\n  context.world = ecsyWorld;\n  context.systemsGroup = systemsGroup;\n  context.handedness = handedness;\n  context.GotoRoom = gotoRoom;\n  context.rooms = rooms;\n  window.context = context;\n  Object(_lib_assetManager_js__WEBPACK_IMPORTED_MODULE_4__[\"loadAssets\"])(renderer, 'assets/', _assets_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"], () => {\n    raycontrol = new _lib_RayControl_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"](context, handedness);\n    context.raycontrol = raycontrol;\n    teleport = new _lib_Teleport_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"](context);\n    context.teleport = teleport;\n\n    // voiceCommander = new VoiceCommander(context);\n\n    setupControllers();\n\n    // Register rooms\n    rooms[ROOM_LOBBY] = _rooms_Lobby_js__WEBPACK_IMPORTED_MODULE_19__;\n    rooms[ROOM_LOBBY].setup(context);\n    rooms[ROOM_LOBBY].setupCalled = true;\n    _data_elements_js__WEBPACK_IMPORTED_MODULE_22__[\"ELEMENTS\"].forEach((element, index) => {\n      const roomIndex = ROOM_ELEMENTS_START + index;\n      rooms[roomIndex] = _rooms_ElementRoom_js__WEBPACK_IMPORTED_MODULE_20__;\n    });\n    _data_elements_js__WEBPACK_IMPORTED_MODULE_22__[\"EXPERIMENTAL_ROOMS\"].forEach((room, index) => {\n      const roomIndex = ROOM_EXP_START + index;\n      rooms[roomIndex] = _rooms_ExperimentalRoom_js__WEBPACK_IMPORTED_MODULE_21__;\n    });\n    document.body.appendChild(renderer.domElement);\n    document.body.appendChild(_lib_VRButton_js__WEBPACK_IMPORTED_MODULE_2__[\"VRButton\"].createButton(renderer, status => {\n      const wasVrMode = context.vrMode;\n      context.vrMode = status === 'sessionStarted';\n      if (context.vrMode && !wasVrMode) {\n        rooms[context.room].exit(context);\n        context.cameraRig.position.set(0, 0, 2);\n      } else if (!context.vrMode && wasVrMode) {\n        rooms[context.room].enter(context);\n      }\n    }));\n    document.getElementById('loading').style.display = 'none';\n    var initialRoom = ROOM_LOBBY;\n    var currentElementRoom = null;\n    var currentExpRoom = null;\n    if (roomName) {\n      console.log('URL parameter roomName:', roomName);\n      const elementIndex = _data_elements_js__WEBPACK_IMPORTED_MODULE_22__[\"ELEMENTS\"].findIndex(e => e.symbol === roomName);\n      console.log('elementIndex:', elementIndex);\n      if (elementIndex !== -1) {\n        initialRoom = ROOM_ELEMENTS_START + elementIndex;\n        currentElementRoom = roomName;\n        currentExpRoom = null;\n        console.log('Setting initial room to:', initialRoom);\n        if (!setupCalledRooms.has(initialRoom)) {\n          rooms[initialRoom].setup(context, elementSymbol);\n          setupCalledRooms.add(initialRoom);\n        }\n      } else {\n        const expIndex = _data_elements_js__WEBPACK_IMPORTED_MODULE_22__[\"EXPERIMENTAL_ROOMS\"].findIndex(r => r.id === roomName);\n        console.log('expIndex:', expIndex);\n        if (expIndex !== -1) {\n          initialRoom = ROOM_EXP_START + expIndex;\n          currentElementRoom = null;\n          currentExpRoom = roomName;\n          console.log('Setting initial room to:', initialRoom);\n          if (!setupCalledRooms.has(initialRoom)) {\n            rooms[initialRoom].setup(context, expRoomId);\n            setupCalledRooms.add(initialRoom);\n          }\n        }\n      }\n      context.room = initialRoom;\n    }\n    console.log('Entering initial room:', initialRoom);\n    if (initialRoom !== ROOM_LOBBY) {\n      console.log('Setting up initial room:', initialRoom);\n      if (!setupCalledRooms.has(initialRoom)) {\n        rooms[initialRoom].setup(context, initialElementRoom || initialExpRoom);\n        setupCalledRooms.add(initialRoom);\n      }\n      console.log('Entering initial room:', initialRoom);\n      if (initialElementRoom) {\n        currentElementRoom = initialElementRoom;\n        currentExpRoom = null;\n      } else {\n        currentElementRoom = null;\n        currentExpRoom = initialExpRoom;\n      }\n      context.room = initialRoom;\n      rooms[initialRoom].enter(context, initialElementRoom || initialExpRoom);\n    } else {\n      rooms[ROOM_LOBBY].enter(context);\n    }\n    document.getElementById('loading').style.display = 'none';\n    var initialRoom = ROOM_LOBBY;\n    if (roomName) {\n      console.log('URL parameter roomName:', roomName);\n      const elementIndex = _data_elements_js__WEBPACK_IMPORTED_MODULE_22__[\"ELEMENTS\"].findIndex(e => e.symbol === roomName);\n      console.log('elementIndex:', elementIndex);\n      if (elementIndex !== -1) {\n        initialRoom = ROOM_ELEMENTS_START + elementIndex;\n        currentElementRoom = roomName;\n        currentExpRoom = null;\n        console.log('Setting initial room to:', initialRoom);\n        context.room = initialRoom;\n      } else {\n        const expIndex = _data_elements_js__WEBPACK_IMPORTED_MODULE_22__[\"EXPERIMENTAL_ROOMS\"].findIndex(r => r.id === roomName);\n        console.log('expIndex:', expIndex);\n        if (expIndex !== -1) {\n          initialRoom = ROOM_EXP_START + expIndex;\n          currentElementRoom = null;\n          currentExpRoom = roomName;\n          console.log('Setting initial room to:', initialRoom);\n          context.room = initialRoom;\n        }\n      }\n    }\n    console.log('Entering initial room:', initialRoom);\n    if (initialRoom !== ROOM_LOBBY) {\n      rooms[initialRoom].enter(context, currentElementRoom || currentExpRoom);\n    } else {\n      rooms[ROOM_LOBBY].enter(context);\n    }\n    renderer.setAnimationLoop(animate);\n  }, loadProgress => {\n    document.querySelector('#progressbar').setAttribute('stroke-dashoffset', -(282 - Math.floor(loadProgress / 27 * 282)));\n  }, debug);\n}\nfunction setupControllers() {\n  // voiceCommander.init();\n\n  var model = _assets_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]['generic_controller_model'].scene;\n  var material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshLambertMaterial\"]({\n    map: _assets_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]['controller_tex']\n  });\n  model.getObjectByName('body').material = material;\n  model.getObjectByName('trigger').material = material;\n  for (let i = 0; i < 2; i++) {\n    let controller = controllers[i];\n    controller.boundingBox = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]();\n    controller.userData.grabbing = null;\n    controller.addEventListener('connected', function (event) {\n      this.add(model.clone());\n      raycontrol.addController(this, event.data);\n    });\n    controller.addEventListener('disconnect', function () {\n      this.remove(this.children[0]);\n      raycontrol.removeController(this, event.data);\n    });\n  }\n}\nvar selectStartSkip = {};\nvar selectEndSkip = {};\nvar OculusBrowser = navigator.userAgent.indexOf(\"OculusBrowser\") !== -1 && parseInt(navigator.userAgent.match(/OculusBrowser\\/([0-9]+)./)[1]) < 8;\nfunction onSelectStart(ev) {\n  if (OculusBrowser) {\n    const controller = ev.target;\n    if (!selectStartSkip[controller]) {\n      selectStartSkip[controller] = true;\n      return;\n    }\n    selectStartSkip[controller] = false;\n  }\n  const trigger = ev.target.getObjectByName('trigger');\n  trigger.rotation.x = -0.3;\n  raycontrol.onSelectStart(ev);\n}\nfunction onSelectEnd(ev) {\n  if (OculusBrowser) {\n    const controller = ev.target;\n    if (!selectEndSkip[controller]) {\n      selectEndSkip[controller] = true;\n      return;\n    }\n    selectEndSkip[controller] = false;\n  }\n  const trigger = ev.target.getObjectByName('trigger');\n  trigger.rotation.x = 0;\n  raycontrol.onSelectEnd(ev);\n}\nfunction onWindowResize() {\n  if (!camera || !renderer) return;\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n}\nfunction animate() {\n  var delta = clock.getDelta();\n  var elapsedTime = clock.elapsedTime;\n  ecsyWorld.execute(delta, elapsedTime);\n  for (let i = 0; i < controllers.length; i++) {\n    const model = controllers[i].getObjectByName('Scene');\n    if (model) {\n      controllers[i].boundingBox.setFromObject(model);\n    }\n  }\n  if (!context.vrMode && context.browserControls) {\n    const velocity = 3.0;\n    const bc = context.browserControls;\n    if (bc.controls.isLocked) {\n      if (bc.moveForward()) context.camera.translateZ(-velocity * delta);\n      if (bc.moveBackward()) context.camera.translateZ(velocity * delta);\n      if (bc.moveLeft()) context.camera.translateX(-velocity * delta);\n      if (bc.moveRight()) context.camera.translateX(velocity * delta);\n    }\n  }\n  if (context.raycontrol) {\n    context.raycontrol.execute(context, delta, elapsedTime);\n  }\n  if (typeof context.room !== 'undefined' && rooms[context.room]) {\n    const currentRoom = rooms[context.room];\n    if (typeof currentRoom.execute === 'function') {\n      currentRoom.execute(context, delta, elapsedTime);\n    }\n  }\n  renderer.render(scene, camera);\n  if (typeof context.goto !== 'undefined' && context.goto !== null) {\n    gotoRoom(context.goto);\n    context.goto = null;\n  }\n}\nwindow.addEventListener('resize', onWindowResize, false);\nwindow.onload = () => {\n  init();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCB7IFBvaW50ZXJMb2NrQ29udHJvbHMgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvUG9pbnRlckxvY2tDb250cm9scy5qcyc7XHJcblxyXG5pbXBvcnQge1ZSQnV0dG9ufSBmcm9tICcuL2xpYi9WUkJ1dHRvbi5qcyc7XHJcbmltcG9ydCB7c2xpZGVzaG93fSBmcm9tICcuL2xpYi9zbGlkZXNob3cuanMnO1xyXG5pbXBvcnQge2xvYWRBc3NldHN9IGZyb20gJy4vbGliL2Fzc2V0TWFuYWdlci5qcyc7XHJcblxyXG4vLyBFQ1NZXHJcbmltcG9ydCB7IFdvcmxkIH0gZnJvbSAnZWNzeSc7XHJcbmltcG9ydCB7IFNERlRleHRTeXN0ZW0gfSBmcm9tICcuL3N5c3RlbXMvU0RGVGV4dFN5c3RlbS5qcyc7XHJcbmltcG9ydCB7IERlYnVnSGVscGVyU3lzdGVtIH0gZnJvbSAnLi9zeXN0ZW1zL0RlYnVnSGVscGVyU3lzdGVtLmpzJztcclxuaW1wb3J0IHsgQXJlYUNoZWNrZXJTeXN0ZW0gfSBmcm9tICcuL3N5c3RlbXMvQXJlYUNoZWNrZXJTeXN0ZW0uanMnO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyc1N5c3RlbSB9IGZyb20gJy4vc3lzdGVtcy9Db250cm9sbGVyc1N5c3RlbS5qcyc7XHJcbmltcG9ydCBIaWVyYXJjaHlTeXN0ZW0gZnJvbSAnLi9zeXN0ZW1zL0hpZXJhcmNoeVN5c3RlbS5qcyc7XHJcbmltcG9ydCBUcmFuc2Zvcm1TeXN0ZW0gZnJvbSAnLi9zeXN0ZW1zL1RyYW5zZm9ybVN5c3RlbS5qcyc7XHJcbmltcG9ydCBCaWxsYm9hcmRTeXN0ZW0gZnJvbSAnLi9zeXN0ZW1zL0JpbGxib2FyZFN5c3RlbS5qcyc7XHJcblxyXG5pbXBvcnQgU3lzdGVtc0dyb3VwIGZyb20gJy4vc3lzdGVtcy9TeXN0ZW1zR3JvdXAuanMnO1xyXG5cclxuaW1wb3J0IGFzc2V0cyBmcm9tICcuL2Fzc2V0cy5qcyc7XHJcbmltcG9ydCBzaGFkZXJzIGZyb20gJy4vbGliL3NoYWRlcnMuanMnO1xyXG5cclxuaW1wb3J0IHsgVGV4dCwgT2JqZWN0M0QsIEFyZWFDaGVja2VyIH0gZnJvbSAnLi9jb21wb25lbnRzL2luZGV4LmpzJztcclxuXHJcbmltcG9ydCBSYXlDb250cm9sIGZyb20gJy4vbGliL1JheUNvbnRyb2wuanMnO1xyXG5pbXBvcnQgVGVsZXBvcnQgZnJvbSAnLi9saWIvVGVsZXBvcnQuanMnO1xyXG5cclxuaW1wb3J0ICogYXMgcm9vbUxvYmJ5IGZyb20gJy4vcm9vbXMvTG9iYnkuanMnO1xuaW1wb3J0ICogYXMgRWxlbWVudFJvb20gZnJvbSAnLi9yb29tcy9FbGVtZW50Um9vbS5qcyc7XG5pbXBvcnQgKiBhcyBFeHBlcmltZW50YWxSb29tIGZyb20gJy4vcm9vbXMvRXhwZXJpbWVudGFsUm9vbS5qcyc7XG5cclxuaW1wb3J0IHtFTEVNRU5UUywgRVhQRVJJTUVOVEFMX1JPT01TfSBmcm9tICcuL2RhdGEvZWxlbWVudHMuanMnO1xyXG5pbXBvcnQgUGFydGljbGVTeXN0ZW0gZnJvbSAnLi9saWIvUGFydGljbGVTeXMuanMnO1xyXG4vLyBpbXBvcnQgVm9pY2VDb21tYW5kZXIgZnJvbSAnLi9saWIvVm9pY2VDb21tYW5kZXIuanMnO1xuXG52YXIgY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcblxudmFyIHNjZW5lLCByZW5kZXJlciwgY2FtZXJhLCBjb250cm9scywgY29udGV4dCA9IHt9O1xudmFyIHJheWNvbnRyb2wsIHRlbGVwb3J0LCBjb250cm9sbGVycyA9IFtdO1xuLy8gdmFyIHZvaWNlQ29tbWFuZGVyO1xuXHJcbnZhciBsaXN0ZW5lciwgYW1iaWVudE11c2ljO1xyXG5cclxudmFyIHJvb21zID0gW107XG52YXIgc2V0dXBDYWxsZWRSb29tcyA9IG5ldyBTZXQoKTtcbnZhciBjdXJyZW50RWxlbWVudFJvb20gPSBudWxsO1xudmFyIGN1cnJlbnRFeHBSb29tID0gbnVsbDtcblxuY29uc3QgUk9PTV9MT0JCWSA9IDA7XG5jb25zdCBST09NX0VMRU1FTlRTX1NUQVJUID0gMTtcbmNvbnN0IFJPT01fRUxFTUVOVFNfRU5EID0gUk9PTV9FTEVNRU5UU19TVEFSVCArIEVMRU1FTlRTLmxlbmd0aCAtIDE7XG5jb25zdCBST09NX0VYUF9TVEFSVCA9IFJPT01fRUxFTUVOVFNfRU5EICsgMTtcbnZhciBlbGVtZW50Um9vbXMgPSBbXTtcbnZhciBleHBSb29tcyA9IFtdO1xuXHJcbmNvbnN0IHVybE9iamVjdCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uKTtcclxuY29uc3Qgcm9vbU5hbWUgPSB1cmxPYmplY3Quc2VhcmNoUGFyYW1zLmdldCgncm9vbScpO1xyXG5jb25zdCBkZWJ1ZyA9IHVybE9iamVjdC5zZWFyY2hQYXJhbXMuaGFzKCdkZWJ1ZycpO1xyXG5jb25zdCBoYW5kZWRuZXNzID0gdXJsT2JqZWN0LnNlYXJjaFBhcmFtcy5oYXMoJ2hhbmRlZG5lc3MnKSA/IHVybE9iamVjdC5zZWFyY2hQYXJhbXMuZ2V0KCdoYW5kZWRuZXNzJykgOiBcInJpZ2h0XCI7XHJcblxyXG5jb25zdCB0YXJnZXRQb3NpdGlvbnMgPSB7XHJcbiAgbG9iYnk6IHtcclxuICAgIGZyb21FbGVtZW50OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCA1KVxyXG4gIH0sXHJcbiAgZWxlbWVudHM6IHtcclxuICAgIHRvTG9iYnk6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIC01KVxyXG4gIH0sXHJcbiAgZXhwUm9vbXM6IHtcclxuICAgIHRvTG9iYnk6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIC01KVxyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGdvdG9Sb29tKHJvb21JbmRleCwgZWxlbWVudFN5bWJvbCA9IG51bGwsIGV4cFJvb21JZCA9IG51bGwpIHtcbiAgcm9vbXNbY29udGV4dC5yb29tXS5leGl0KGNvbnRleHQpO1xuICByYXljb250cm9sLmRlYWN0aXZhdGVBbGwoKTtcblxuICBjb25zdCBwcmV2Um9vbSA9IGNvbnRleHQucm9vbTtcblxuICBpZiAocm9vbUluZGV4ID09PSBST09NX0xPQkJZKSB7XG4gICAgY3VycmVudEVsZW1lbnRSb29tID0gbnVsbDtcbiAgICBjdXJyZW50RXhwUm9vbSA9IG51bGw7XG4gIH0gZWxzZSBpZiAocm9vbUluZGV4ID49IFJPT01fRUxFTUVOVFNfU1RBUlQgJiYgcm9vbUluZGV4IDw9IFJPT01fRUxFTUVOVFNfRU5EKSB7XG4gICAgY3VycmVudEVsZW1lbnRSb29tID0gZWxlbWVudFN5bWJvbDtcbiAgICBjdXJyZW50RXhwUm9vbSA9IG51bGw7XG4gICAgaWYgKCFzZXR1cENhbGxlZFJvb21zLmhhcyhyb29tSW5kZXgpKSB7XG4gICAgICByb29tc1tyb29tSW5kZXhdLnNldHVwKGNvbnRleHQsIGVsZW1lbnRTeW1ib2wpO1xuICAgICAgc2V0dXBDYWxsZWRSb29tcy5hZGQocm9vbUluZGV4KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocm9vbUluZGV4ID49IFJPT01fRVhQX1NUQVJUKSB7XG4gICAgY3VycmVudEVsZW1lbnRSb29tID0gbnVsbDtcbiAgICBjdXJyZW50RXhwUm9vbSA9IGV4cFJvb21JZDtcbiAgICBpZiAoIXNldHVwQ2FsbGVkUm9vbXMuaGFzKHJvb21JbmRleCkpIHtcbiAgICAgIHJvb21zW3Jvb21JbmRleF0uc2V0dXAoY29udGV4dCwgZXhwUm9vbUlkKTtcbiAgICAgIHNldHVwQ2FsbGVkUm9vbXMuYWRkKHJvb21JbmRleCk7XG4gICAgfVxuICB9XG5cbiAgY29udGV4dC5yb29tID0gcm9vbUluZGV4O1xuICBwbGF5TXVzaWMocm9vbUluZGV4KTtcblxuICByb29tc1tjb250ZXh0LnJvb21dLmVudGVyKGNvbnRleHQsIGVsZW1lbnRTeW1ib2wgfHwgZXhwUm9vbUlkKTtcbn1cblxyXG5mdW5jdGlvbiBwbGF5TXVzaWMocm9vbUluZGV4KSB7XHJcbiAgaWYgKGFtYmllbnRNdXNpYyAmJiBhbWJpZW50TXVzaWMuc291cmNlKSBhbWJpZW50TXVzaWMuc3RvcCgpO1xyXG5cclxuICBpZiAocm9vbUluZGV4ICE9PSBST09NX0xPQkJZKSB7XHJcbiAgfVxyXG59XHJcblxyXG52YXIgZWNzeVdvcmxkO1xudmFyIHN5c3RlbXNHcm91cCA9IHt9O1xudmFyIGluaXRpYWxpemVkID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGRldGVjdFdlYlhSKCkge1xuICBpZiAoJ3hyJyBpbiBuYXZpZ2F0b3IpIHtcclxuICAgIG5hdmlnYXRvci54ci5pc1Nlc3Npb25TdXBwb3J0ZWQoJ2ltbWVyc2l2ZS12cicpLnRoZW4oIHN1cHBvcnRlZCA9PiB7XHJcbiAgICAgIGNvbnN0IG5vV2ViWFJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vLXdlYnhyJyk7XHJcbiAgICAgIGlmICghc3VwcG9ydGVkICYmIG5vV2ViWFJFbGVtZW50KSB7XHJcbiAgICAgICAgbm9XZWJYUkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IG5vV2ViWFJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vLXdlYnhyJyk7XHJcbiAgICBpZiAobm9XZWJYUkVsZW1lbnQpIHtcclxuICAgICAgbm9XZWJYUkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGlmIChpbml0aWFsaXplZCkge1xuICAgIGNvbnNvbGUubG9nKCdpbml0KCkgYWxyZWFkeSBjYWxsZWQsIHNraXBwaW5nJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGluaXRpYWxpemVkID0gdHJ1ZTtcblxuICBjb25zb2xlLmxvZygnaW5pdCgpIGNhbGxlZCcpO1xuICBkZXRlY3RXZWJYUigpO1xuXHJcbiAgY29uc3QgaGFuZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYW5kZWRuZXNzICsgJ2hhbmQnKTtcclxuICBpZiAoaGFuZEVsZW1lbnQpIHtcclxuICAgIGhhbmRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZWhhbmQnKTtcclxuICB9XHJcblxyXG4gIGVjc3lXb3JsZCA9IG5ldyBXb3JsZCgpO1xyXG4gIGVjc3lXb3JsZFxyXG4gICAgLnJlZ2lzdGVyU3lzdGVtKFNERlRleHRTeXN0ZW0pXHJcbiAgICAucmVnaXN0ZXJTeXN0ZW0oQXJlYUNoZWNrZXJTeXN0ZW0pXHJcbiAgICAucmVnaXN0ZXJTeXN0ZW0oQ29udHJvbGxlcnNTeXN0ZW0pXHJcbiAgICAucmVnaXN0ZXJTeXN0ZW0oRGVidWdIZWxwZXJTeXN0ZW0pXHJcbiAgICAucmVnaXN0ZXJTeXN0ZW0oVHJhbnNmb3JtU3lzdGVtKVxyXG4gICAgLnJlZ2lzdGVyU3lzdGVtKEJpbGxib2FyZFN5c3RlbSlcclxuICAgIC5yZWdpc3RlclN5c3RlbShIaWVyYXJjaHlTeXN0ZW0pO1xyXG5cclxuICBzeXN0ZW1zR3JvdXBbJ2xvYmJ5J10gPSBuZXcgU3lzdGVtc0dyb3VwKGVjc3lXb3JsZCwgW1xyXG4gICAgQXJlYUNoZWNrZXJTeXN0ZW0sIENvbnRyb2xsZXJzU3lzdGVtLCBEZWJ1Z0hlbHBlclN5c3RlbVxyXG4gIF0pO1xyXG5cclxuICByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcclxuICAgIGFudGlhbGlhczogdHJ1ZSxcclxuICAgIGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6IGZhbHNlLFxyXG4gICAgcG93ZXJQcmVmZXJlbmNlOiBcImhpZ2gtcGVyZm9ybWFuY2VcIixcclxuICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXHJcbiAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBmYWxzZVxyXG4gIH0pO1xyXG4gIHJlbmRlcmVyLmdhbW1hRmFjdG9yID0gMi4yO1xyXG4gIHJlbmRlcmVyLm91dHB1dEVuY29kaW5nID0gVEhSRUUuc1JHQkVuY29kaW5nO1xyXG4gIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8oTWF0aC5taW4od2luZG93LmRldmljZVBpeGVsUmF0aW8sIDIpKTtcclxuICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gIHJlbmRlcmVyLnhyLmVuYWJsZWQgPSB0cnVlO1xyXG5cclxuICByZW5kZXJlci5zb3J0T2JqZWN0cyA9IGZhbHNlO1xyXG4gIHJlbmRlcmVyLmF1dG9DbGVhciA9IHRydWU7XHJcbiAgcmVuZGVyZXIuYXV0b0NsZWFyRGVwdGggPSB0cnVlO1xyXG4gIHJlbmRlcmVyLmF1dG9DbGVhclN0ZW5jaWwgPSB0cnVlO1xyXG5cclxuICBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gIGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg4MCwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMDA1LCAxMDAwMCk7XHJcbiAgY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAxLjYsIDApO1xyXG4gIGxpc3RlbmVyID0gbmV3IFRIUkVFLkF1ZGlvTGlzdGVuZXIoKTtcclxuICBjYW1lcmEuYWRkKGxpc3RlbmVyKTtcclxuXHJcbiAgYW1iaWVudE11c2ljID0gbmV3IFRIUkVFLkF1ZGlvKGxpc3RlbmVyKTtcclxuXHJcbiAgY29udHJvbHMgPSBuZXcgUG9pbnRlckxvY2tDb250cm9scyhjYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG5cclxuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgaWYgKCFjb250ZXh0LnZyTW9kZSkge1xyXG4gICAgICBjb250cm9scy5sb2NrKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHZhciBtb3ZlRm9yd2FyZCA9IGZhbHNlO1xyXG4gIHZhciBtb3ZlQmFja3dhcmQgPSBmYWxzZTtcclxuICB2YXIgbW92ZUxlZnQgPSBmYWxzZTtcclxuICB2YXIgbW92ZVJpZ2h0ID0gZmFsc2U7XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXYpID0+IHtcclxuICAgIHN3aXRjaChldi5rZXlDb2RlKSB7XHJcbiAgICAgIGNhc2UgODc6IGNhc2UgMzg6IG1vdmVGb3J3YXJkID0gdHJ1ZTsgYnJlYWs7XHJcbiAgICAgIGNhc2UgNjU6IGNhc2UgMzc6IG1vdmVMZWZ0ID0gdHJ1ZTsgYnJlYWs7XHJcbiAgICAgIGNhc2UgODM6IGNhc2UgNDA6IG1vdmVCYWNrd2FyZCA9IHRydWU7IGJyZWFrO1xyXG4gICAgICBjYXNlIDY4OiBjYXNlIDM5OiBtb3ZlUmlnaHQgPSB0cnVlOyBicmVhaztcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXYpID0+IHtcclxuICAgIHN3aXRjaChldi5rZXlDb2RlKSB7XHJcbiAgICAgIGNhc2UgODc6IGNhc2UgMzg6IG1vdmVGb3J3YXJkID0gZmFsc2U7IGJyZWFrO1xyXG4gICAgICBjYXNlIDY1OiBjYXNlIDM3OiBtb3ZlTGVmdCA9IGZhbHNlOyBicmVhaztcclxuICAgICAgY2FzZSA4MzogY2FzZSA0MDogbW92ZUJhY2t3YXJkID0gZmFsc2U7IGJyZWFrO1xyXG4gICAgICBjYXNlIDY4OiBjYXNlIDM5OiBtb3ZlUmlnaHQgPSBmYWxzZTsgYnJlYWs7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnRleHQuYnJvd3NlckNvbnRyb2xzID0ge1xyXG4gICAgY29udHJvbHM6IGNvbnRyb2xzLFxyXG4gICAgbW92ZUZvcndhcmQ6ICgpID0+IG1vdmVGb3J3YXJkLFxyXG4gICAgbW92ZUJhY2t3YXJkOiAoKSA9PiBtb3ZlQmFja3dhcmQsXHJcbiAgICBtb3ZlTGVmdDogKCkgPT4gbW92ZUxlZnQsXHJcbiAgICBtb3ZlUmlnaHQ6ICgpID0+IG1vdmVSaWdodFxyXG4gIH07XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKSB7XHJcbiAgICBjb250cm9sbGVyc1tpXSA9IHJlbmRlcmVyLnhyLmdldENvbnRyb2xsZXIoaSk7XHJcbiAgICBjb250cm9sbGVyc1tpXS5yYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XHJcbiAgICBjb250cm9sbGVyc1tpXS5yYXljYXN0ZXIubmVhciA9IDAuMTtcclxuICAgIGNvbnRyb2xsZXJzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgb25TZWxlY3RTdGFydCk7XHJcbiAgICBjb250cm9sbGVyc1tpXS5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RlbmQnLCBvblNlbGVjdEVuZCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBsaWdodFN1biA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZWVmZmZmKTtcclxuICBsaWdodFN1bi5uYW1lID0gJ3N1bic7XHJcbiAgbGlnaHRTdW4ucG9zaXRpb24uc2V0KDAuMiwgMSwgMC4xKTtcclxuICBjb25zdCBsaWdodEZpbGwgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZjBlZSwgMC4zKTtcclxuICBsaWdodEZpbGwubmFtZSA9ICdmaWxsTGlnaHQnO1xyXG4gIGxpZ2h0RmlsbC5wb3NpdGlvbi5zZXQoLTAuMiwgLTEsIC0wLjEpO1xyXG5cclxuICBzY2VuZS5hZGQobGlnaHRTdW4sIGxpZ2h0RmlsbCk7XHJcblxyXG4gIHZhciBjYW1lcmFSaWcgPSBuZXcgVEhSRUUuR3JvdXAoKTtcclxuICBjYW1lcmFSaWcuYWRkKGNhbWVyYSk7XHJcbiAgY2FtZXJhUmlnLmFkZChjb250cm9sbGVyc1swXSk7XHJcbiAgY2FtZXJhUmlnLmFkZChjb250cm9sbGVyc1sxXSk7XHJcbiAgY2FtZXJhUmlnLnBvc2l0aW9uLnNldCgwLCAwLCAyKTtcclxuICBzY2VuZS5hZGQoY2FtZXJhUmlnKTtcclxuXHJcbiAgY29udGV4dC52ck1vZGUgPSBmYWxzZTtcclxuICBjb250ZXh0LmFzc2V0cyA9IGFzc2V0cztcclxuICBjb250ZXh0LnNoYWRlcnMgPSBzaGFkZXJzO1xyXG4gIGNvbnRleHQuc2NlbmUgPSBzY2VuZTtcclxuICBjb250ZXh0LnJlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgY29udGV4dC5jYW1lcmEgPSBjYW1lcmE7XHJcbiAgY29udGV4dC5hdWRpb0xpc3RlbmVyID0gbGlzdGVuZXI7XHJcbiAgY29udGV4dC5nb3RvID0gbnVsbDtcclxuICBjb250ZXh0LmNhbWVyYVJpZyA9IGNhbWVyYVJpZztcclxuICBjb250ZXh0LmNvbnRyb2xsZXJzID0gY29udHJvbGxlcnM7XHJcbiAgY29udGV4dC53b3JsZCA9IGVjc3lXb3JsZDtcbiAgY29udGV4dC5zeXN0ZW1zR3JvdXAgPSBzeXN0ZW1zR3JvdXA7XG4gIGNvbnRleHQuaGFuZGVkbmVzcyA9IGhhbmRlZG5lc3M7XG4gIGNvbnRleHQuR290b1Jvb20gPSBnb3RvUm9vbTtcbiAgY29udGV4dC5yb29tcyA9IHJvb21zO1xuXG4gIHdpbmRvdy5jb250ZXh0ID0gY29udGV4dDtcblxyXG4gIGxvYWRBc3NldHMocmVuZGVyZXIsICdhc3NldHMvJywgYXNzZXRzLCAoKSA9PiB7XHJcbiAgICByYXljb250cm9sID0gbmV3IFJheUNvbnRyb2woY29udGV4dCwgaGFuZGVkbmVzcyk7XHJcbiAgICBjb250ZXh0LnJheWNvbnRyb2wgPSByYXljb250cm9sO1xyXG5cclxuICAgIHRlbGVwb3J0ID0gbmV3IFRlbGVwb3J0KGNvbnRleHQpO1xyXG4gICAgY29udGV4dC50ZWxlcG9ydCA9IHRlbGVwb3J0O1xyXG5cclxuICAgIC8vIHZvaWNlQ29tbWFuZGVyID0gbmV3IFZvaWNlQ29tbWFuZGVyKGNvbnRleHQpO1xuXG4gICAgc2V0dXBDb250cm9sbGVycygpO1xuXG4gIC8vIFJlZ2lzdGVyIHJvb21zXG4gIHJvb21zW1JPT01fTE9CQlldID0gcm9vbUxvYmJ5O1xuICByb29tc1tST09NX0xPQkJZXS5zZXR1cChjb250ZXh0KTtcbiAgcm9vbXNbUk9PTV9MT0JCWV0uc2V0dXBDYWxsZWQgPSB0cnVlO1xuXG4gIEVMRU1FTlRTLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgY29uc3Qgcm9vbUluZGV4ID0gUk9PTV9FTEVNRU5UU19TVEFSVCArIGluZGV4O1xuICAgIHJvb21zW3Jvb21JbmRleF0gPSBFbGVtZW50Um9vbTtcbiAgfSk7XG5cbiAgRVhQRVJJTUVOVEFMX1JPT01TLmZvckVhY2goKHJvb20sIGluZGV4KSA9PiB7XG4gICAgY29uc3Qgcm9vbUluZGV4ID0gUk9PTV9FWFBfU1RBUlQgKyBpbmRleDtcbiAgICByb29tc1tyb29tSW5kZXhdID0gRXhwZXJpbWVudGFsUm9vbTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKFZSQnV0dG9uLmNyZWF0ZUJ1dHRvbihyZW5kZXJlciwgc3RhdHVzID0+IHtcbiAgICAgIGNvbnN0IHdhc1ZyTW9kZSA9IGNvbnRleHQudnJNb2RlO1xuICAgICAgY29udGV4dC52ck1vZGUgPSBzdGF0dXMgPT09ICdzZXNzaW9uU3RhcnRlZCc7XG5cbiAgICAgIGlmIChjb250ZXh0LnZyTW9kZSAmJiAhd2FzVnJNb2RlKSB7XG4gICAgICAgIHJvb21zW2NvbnRleHQucm9vbV0uZXhpdChjb250ZXh0KTtcbiAgICAgICAgY29udGV4dC5jYW1lcmFSaWcucG9zaXRpb24uc2V0KDAsIDAsIDIpO1xuICAgICAgfSBlbHNlIGlmICghY29udGV4dC52ck1vZGUgJiYgd2FzVnJNb2RlKSB7XG4gICAgICAgIHJvb21zW2NvbnRleHQucm9vbV0uZW50ZXIoY29udGV4dCk7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmcnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgdmFyIGluaXRpYWxSb29tID0gUk9PTV9MT0JCWTtcbiAgICB2YXIgY3VycmVudEVsZW1lbnRSb29tID0gbnVsbDtcbiAgICB2YXIgY3VycmVudEV4cFJvb20gPSBudWxsO1xuXG4gICAgaWYgKHJvb21OYW1lKSB7XG4gICAgICBjb25zb2xlLmxvZygnVVJMIHBhcmFtZXRlciByb29tTmFtZTonLCByb29tTmFtZSk7XG4gICAgICBjb25zdCBlbGVtZW50SW5kZXggPSBFTEVNRU5UUy5maW5kSW5kZXgoZSA9PiBlLnN5bWJvbCA9PT0gcm9vbU5hbWUpO1xuICAgICAgY29uc29sZS5sb2coJ2VsZW1lbnRJbmRleDonLCBlbGVtZW50SW5kZXgpO1xuICAgICAgaWYgKGVsZW1lbnRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgaW5pdGlhbFJvb20gPSBST09NX0VMRU1FTlRTX1NUQVJUICsgZWxlbWVudEluZGV4O1xuICAgICAgICBjdXJyZW50RWxlbWVudFJvb20gPSByb29tTmFtZTtcbiAgICAgICAgY3VycmVudEV4cFJvb20gPSBudWxsO1xuICAgICAgICBjb25zb2xlLmxvZygnU2V0dGluZyBpbml0aWFsIHJvb20gdG86JywgaW5pdGlhbFJvb20pO1xuICAgICAgICBpZiAoIXNldHVwQ2FsbGVkUm9vbXMuaGFzKGluaXRpYWxSb29tKSkge1xuICAgICAgICAgIHJvb21zW2luaXRpYWxSb29tXS5zZXR1cChjb250ZXh0LCBlbGVtZW50U3ltYm9sKTtcbiAgICAgICAgICBzZXR1cENhbGxlZFJvb21zLmFkZChpbml0aWFsUm9vbSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGV4cEluZGV4ID0gRVhQRVJJTUVOVEFMX1JPT01TLmZpbmRJbmRleChyID0+IHIuaWQgPT09IHJvb21OYW1lKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2V4cEluZGV4OicsIGV4cEluZGV4KTtcbiAgICAgICAgaWYgKGV4cEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGluaXRpYWxSb29tID0gUk9PTV9FWFBfU1RBUlQgKyBleHBJbmRleDtcbiAgICAgICAgICBjdXJyZW50RWxlbWVudFJvb20gPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRFeHBSb29tID0gcm9vbU5hbWU7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1NldHRpbmcgaW5pdGlhbCByb29tIHRvOicsIGluaXRpYWxSb29tKTtcbiAgICAgICAgICBpZiAoIXNldHVwQ2FsbGVkUm9vbXMuaGFzKGluaXRpYWxSb29tKSkge1xuICAgICAgICAgICAgcm9vbXNbaW5pdGlhbFJvb21dLnNldHVwKGNvbnRleHQsIGV4cFJvb21JZCk7XG4gICAgICAgICAgICBzZXR1cENhbGxlZFJvb21zLmFkZChpbml0aWFsUm9vbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb250ZXh0LnJvb20gPSBpbml0aWFsUm9vbTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnRW50ZXJpbmcgaW5pdGlhbCByb29tOicsIGluaXRpYWxSb29tKTtcbiAgICBpZiAoaW5pdGlhbFJvb20gIT09IFJPT01fTE9CQlkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIHVwIGluaXRpYWwgcm9vbTonLCBpbml0aWFsUm9vbSk7XG4gICAgICBpZiAoIXNldHVwQ2FsbGVkUm9vbXMuaGFzKGluaXRpYWxSb29tKSkge1xuICAgICAgICByb29tc1tpbml0aWFsUm9vbV0uc2V0dXAoY29udGV4dCwgaW5pdGlhbEVsZW1lbnRSb29tIHx8IGluaXRpYWxFeHBSb29tKTtcbiAgICAgICAgc2V0dXBDYWxsZWRSb29tcy5hZGQoaW5pdGlhbFJvb20pO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coJ0VudGVyaW5nIGluaXRpYWwgcm9vbTonLCBpbml0aWFsUm9vbSk7XG4gICAgICBpZiAoaW5pdGlhbEVsZW1lbnRSb29tKSB7XG4gICAgICAgIGN1cnJlbnRFbGVtZW50Um9vbSA9IGluaXRpYWxFbGVtZW50Um9vbTtcbiAgICAgICAgY3VycmVudEV4cFJvb20gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudEVsZW1lbnRSb29tID0gbnVsbDtcbiAgICAgICAgY3VycmVudEV4cFJvb20gPSBpbml0aWFsRXhwUm9vbTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQucm9vbSA9IGluaXRpYWxSb29tO1xuICAgICAgcm9vbXNbaW5pdGlhbFJvb21dLmVudGVyKGNvbnRleHQsIGluaXRpYWxFbGVtZW50Um9vbSB8fCBpbml0aWFsRXhwUm9vbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb21zW1JPT01fTE9CQlldLmVudGVyKGNvbnRleHQpO1xuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICB2YXIgaW5pdGlhbFJvb20gPSBST09NX0xPQkJZO1xuICAgIGlmIChyb29tTmFtZSkge1xuICAgICAgY29uc29sZS5sb2coJ1VSTCBwYXJhbWV0ZXIgcm9vbU5hbWU6Jywgcm9vbU5hbWUpO1xuICAgICAgY29uc3QgZWxlbWVudEluZGV4ID0gRUxFTUVOVFMuZmluZEluZGV4KGUgPT4gZS5zeW1ib2wgPT09IHJvb21OYW1lKTtcbiAgICAgIGNvbnNvbGUubG9nKCdlbGVtZW50SW5kZXg6JywgZWxlbWVudEluZGV4KTtcbiAgICAgIGlmIChlbGVtZW50SW5kZXggIT09IC0xKSB7XG4gICAgICAgIGluaXRpYWxSb29tID0gUk9PTV9FTEVNRU5UU19TVEFSVCArIGVsZW1lbnRJbmRleDtcbiAgICAgICAgY3VycmVudEVsZW1lbnRSb29tID0gcm9vbU5hbWU7XG4gICAgICAgIGN1cnJlbnRFeHBSb29tID0gbnVsbDtcbiAgICAgICAgY29uc29sZS5sb2coJ1NldHRpbmcgaW5pdGlhbCByb29tIHRvOicsIGluaXRpYWxSb29tKTtcbiAgICAgICAgY29udGV4dC5yb29tID0gaW5pdGlhbFJvb207XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBleHBJbmRleCA9IEVYUEVSSU1FTlRBTF9ST09NUy5maW5kSW5kZXgociA9PiByLmlkID09PSByb29tTmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdleHBJbmRleDonLCBleHBJbmRleCk7XG4gICAgICAgIGlmIChleHBJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBpbml0aWFsUm9vbSA9IFJPT01fRVhQX1NUQVJUICsgZXhwSW5kZXg7XG4gICAgICAgICAgY3VycmVudEVsZW1lbnRSb29tID0gbnVsbDtcbiAgICAgICAgICBjdXJyZW50RXhwUm9vbSA9IHJvb21OYW1lO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIGluaXRpYWwgcm9vbSB0bzonLCBpbml0aWFsUm9vbSk7XG4gICAgICAgICAgY29udGV4dC5yb29tID0gaW5pdGlhbFJvb207XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnRW50ZXJpbmcgaW5pdGlhbCByb29tOicsIGluaXRpYWxSb29tKTtcbiAgICBpZiAoaW5pdGlhbFJvb20gIT09IFJPT01fTE9CQlkpIHtcbiAgICAgIHJvb21zW2luaXRpYWxSb29tXS5lbnRlcihjb250ZXh0LCBjdXJyZW50RWxlbWVudFJvb20gfHwgY3VycmVudEV4cFJvb20pO1xuICAgIH0gZWxzZSB7XG4gICAgICByb29tc1tST09NX0xPQkJZXS5lbnRlcihjb250ZXh0KTtcbiAgICB9XG5cbiAgICByZW5kZXJlci5zZXRBbmltYXRpb25Mb29wKGFuaW1hdGUpO1xuICB9LFxyXG5cclxuICBsb2FkUHJvZ3Jlc3MgPT4ge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2dyZXNzYmFyJykuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaG9mZnNldCcsXHJcbiAgICAgIC0gKDI4MiAtIE1hdGguZmxvb3IobG9hZFByb2dyZXNzIC8gMjcgKiAyODIpKSk7XHJcbiAgfSxcclxuXHJcbiAgZGVidWcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cENvbnRyb2xsZXJzKCkge1xuICAvLyB2b2ljZUNvbW1hbmRlci5pbml0KCk7XG5cbiAgdmFyIG1vZGVsID0gYXNzZXRzWydnZW5lcmljX2NvbnRyb2xsZXJfbW9kZWwnXS5zY2VuZTtcbiAgdmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe1xyXG4gICAgbWFwOiBhc3NldHNbJ2NvbnRyb2xsZXJfdGV4J10sXHJcbiAgfSk7XHJcbiAgbW9kZWwuZ2V0T2JqZWN0QnlOYW1lKCdib2R5JykubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuICBtb2RlbC5nZXRPYmplY3RCeU5hbWUoJ3RyaWdnZXInKS5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xyXG4gICAgbGV0IGNvbnRyb2xsZXIgPSBjb250cm9sbGVyc1tpXTtcclxuICAgIGNvbnRyb2xsZXIuYm91bmRpbmdCb3ggPSBuZXcgVEhSRUUuQm94MygpO1xyXG4gICAgY29udHJvbGxlci51c2VyRGF0YS5ncmFiYmluZyA9IG51bGw7XHJcbiAgICBjb250cm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoICdjb25uZWN0ZWQnLCBmdW5jdGlvbiAoIGV2ZW50ICkge1xyXG4gICAgICB0aGlzLmFkZChtb2RlbC5jbG9uZSgpKTtcclxuICAgICAgcmF5Y29udHJvbC5hZGRDb250cm9sbGVyKHRoaXMsIGV2ZW50LmRhdGEpO1xyXG4gICAgfSApO1xyXG4gICAgY29udHJvbGxlci5hZGRFdmVudExpc3RlbmVyKCAnZGlzY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgdGhpcy5yZW1vdmUodGhpcy5jaGlsZHJlblswXSk7XHJcbiAgICAgIHJheWNvbnRyb2wucmVtb3ZlQ29udHJvbGxlcih0aGlzLCBldmVudC5kYXRhKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxudmFyIHNlbGVjdFN0YXJ0U2tpcCA9IHt9O1xyXG52YXIgc2VsZWN0RW5kU2tpcCA9IHt9O1xyXG52YXIgT2N1bHVzQnJvd3NlciA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk9jdWx1c0Jyb3dzZXJcIikgIT09IC0xICYmXHJcbiAgcGFyc2VJbnQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvT2N1bHVzQnJvd3NlclxcLyhbMC05XSspLi8pWzFdKSA8IDg7XHJcblxyXG5mdW5jdGlvbiBvblNlbGVjdFN0YXJ0KGV2KSB7XHJcbiAgaWYgKE9jdWx1c0Jyb3dzZXIpIHtcclxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBldi50YXJnZXQ7XHJcbiAgICBpZiAoIXNlbGVjdFN0YXJ0U2tpcFtjb250cm9sbGVyXSkge1xyXG4gICAgICBzZWxlY3RTdGFydFNraXBbY29udHJvbGxlcl0gPSB0cnVlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBzZWxlY3RTdGFydFNraXBbY29udHJvbGxlcl0gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRyaWdnZXIgPSBldi50YXJnZXQuZ2V0T2JqZWN0QnlOYW1lKCd0cmlnZ2VyJyk7XHJcbiAgdHJpZ2dlci5yb3RhdGlvbi54ID0gLTAuMztcclxuICByYXljb250cm9sLm9uU2VsZWN0U3RhcnQoZXYpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvblNlbGVjdEVuZChldikge1xyXG4gIGlmIChPY3VsdXNCcm93c2VyKSB7XHJcbiAgICBjb25zdCBjb250cm9sbGVyID0gZXYudGFyZ2V0O1xyXG4gICAgaWYgKCFzZWxlY3RFbmRTa2lwW2NvbnRyb2xsZXJdKSB7XHJcbiAgICAgIHNlbGVjdEVuZFNraXBbY29udHJvbGxlcl0gPSB0cnVlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBzZWxlY3RFbmRTa2lwW2NvbnRyb2xsZXJdID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0cmlnZ2VyID0gZXYudGFyZ2V0LmdldE9iamVjdEJ5TmFtZSgndHJpZ2dlcicpO1xyXG4gIHRyaWdnZXIucm90YXRpb24ueCA9IDA7XHJcbiAgcmF5Y29udHJvbC5vblNlbGVjdEVuZChldik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uV2luZG93UmVzaXplKCkge1xuICBpZiAoIWNhbWVyYSB8fCAhcmVuZGVyZXIpIHJldHVybjtcbiAgY2FtZXJhLmFzcGVjdCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xufVxuXHJcbmZ1bmN0aW9uIGFuaW1hdGUoKSB7XHJcbiAgdmFyIGRlbHRhID0gY2xvY2suZ2V0RGVsdGEoKTtcclxuICB2YXIgZWxhcHNlZFRpbWUgPSBjbG9jay5lbGFwc2VkVGltZTtcclxuXHJcbiAgZWNzeVdvcmxkLmV4ZWN1dGUoZGVsdGEsIGVsYXBzZWRUaW1lKTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250cm9sbGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgbW9kZWwgPSBjb250cm9sbGVyc1tpXS5nZXRPYmplY3RCeU5hbWUoJ1NjZW5lJyk7XHJcbiAgICBpZiAobW9kZWwpIHtcclxuICAgICAgY29udHJvbGxlcnNbaV0uYm91bmRpbmdCb3guc2V0RnJvbU9iamVjdChtb2RlbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoIWNvbnRleHQudnJNb2RlICYmIGNvbnRleHQuYnJvd3NlckNvbnRyb2xzKSB7XHJcbiAgICBjb25zdCB2ZWxvY2l0eSA9IDMuMDtcclxuICAgIGNvbnN0IGJjID0gY29udGV4dC5icm93c2VyQ29udHJvbHM7XHJcblxyXG4gICAgaWYgKGJjLmNvbnRyb2xzLmlzTG9ja2VkKSB7XHJcbiAgICAgIGlmIChiYy5tb3ZlRm9yd2FyZCgpKSBjb250ZXh0LmNhbWVyYS50cmFuc2xhdGVaKC12ZWxvY2l0eSAqIGRlbHRhKTtcclxuICAgICAgaWYgKGJjLm1vdmVCYWNrd2FyZCgpKSBjb250ZXh0LmNhbWVyYS50cmFuc2xhdGVaKHZlbG9jaXR5ICogZGVsdGEpO1xyXG4gICAgICBpZiAoYmMubW92ZUxlZnQoKSkgY29udGV4dC5jYW1lcmEudHJhbnNsYXRlWCgtdmVsb2NpdHkgKiBkZWx0YSk7XHJcbiAgICAgIGlmIChiYy5tb3ZlUmlnaHQoKSkgY29udGV4dC5jYW1lcmEudHJhbnNsYXRlWCh2ZWxvY2l0eSAqIGRlbHRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChjb250ZXh0LnJheWNvbnRyb2wpIHtcclxuICAgIGNvbnRleHQucmF5Y29udHJvbC5leGVjdXRlKGNvbnRleHQsIGRlbHRhLCBlbGFwc2VkVGltZSk7XHJcbiAgfVxyXG4gIGlmICh0eXBlb2YgY29udGV4dC5yb29tICE9PSAndW5kZWZpbmVkJyAmJiByb29tc1tjb250ZXh0LnJvb21dKSB7XHJcbiAgICBjb25zdCBjdXJyZW50Um9vbSA9IHJvb21zW2NvbnRleHQucm9vbV07XHJcbiAgICBpZiAodHlwZW9mIGN1cnJlbnRSb29tLmV4ZWN1dGUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgY3VycmVudFJvb20uZXhlY3V0ZShjb250ZXh0LCBkZWx0YSwgZWxhcHNlZFRpbWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xyXG4gIGlmICh0eXBlb2YgY29udGV4dC5nb3RvICE9PSAndW5kZWZpbmVkJyAmJiBjb250ZXh0LmdvdG8gIT09IG51bGwpIHtcclxuICAgIGdvdG9Sb29tKGNvbnRleHQuZ290byk7XHJcbiAgICBjb250ZXh0LmdvdG8gPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uV2luZG93UmVzaXplLCBmYWxzZSk7XHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7aW5pdCgpfTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/lib/AudioManager.js":
/*!*********************************!*\
  !*** ./src/lib/AudioManager.js ***!
  \*********************************/
/*! exports provided: AudioManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AudioManager\", function() { return AudioManager; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nclass AudioManager {\n  constructor(context) {\n    this.ctx = context;\n    this.listener = context.audioListener;\n    this.sounds = {};\n    this.music = {};\n    this.currentMusic = null;\n    this.musicVolume = 0.5;\n    this.group = 'music';\n    this.initialized = false;\n    this.spatialSounds = [];\n    this.voiceGuide = null;\n    this.ambienceVolume = 0.3;\n    this.ambientTracks = {\n      lobby: null,\n      alkali: null,\n      alkalineEarth: null,\n      transition: null,\n      lanthanide: null,\n      actinide: null,\n      metal: null,\n      metalloid: null,\n      nonmetal: null,\n      halogen: null,\n      nobleGas: null\n    };\n  }\n  async init() {\n    if (this.initialized) return;\n    this.initialized = true;\n    const audioContext = this.listener.context;\n    const sampleRate = audioContext.sampleRate;\n    this.sounds = {\n      water_sizzle: await this.createWaterSizzle(audioContext, sampleRate),\n      flame: await this.createFlameSound(audioContext, sampleRate),\n      electrical: await this.createElectricalSound(audioContext, sampleRate),\n      pop: await this.createPopSound(audioContext, sampleRate),\n      fizzing: await this.createFizzingSound(audioContext, sampleRate),\n      geiger: await this.createGeigerClick(audioContext, sampleRate),\n      click: await this.createClickSound(audioContext, sampleRate),\n      success: await this.createSuccessSound(audioContext, sampleRate),\n      warning: await this.createWarningSound(audioContext, sampleRate),\n      danger: await this.createDangerSound(audioContext, sampleRate)\n    };\n  }\n  async createWaterSizzle(context, rate) {\n    const buffer = context.createBuffer(2, rate, 2, 'sizzle');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const noise = (Math.random() - 0.5) * 0.2;\n      data[i] = noise;\n      data[i + rate] = noise;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createFlameSound(context, rate) {\n    const buffer = context.createBuffer(2, rate, 3, 'flame');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const time = i / rate;\n      const base = Math.sin(time * 2 * Math.PI) * 0.5 + 0.5;\n      const variation = Math.sin(time * 8 * Math.PI) * 0.3;\n      data[i * 3] = base * 0.3 + variation;\n      data[i * 3 + 1] = base * 0.1 + variation;\n      data[i * 3 + 2] = base * 0.05;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createElectricalSound(context, rate) {\n    const buffer = context.createBuffer(2, rate, 1, 'hum');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const value = Math.sin(i / rate * 2 * Math.PI) * 0.2 + 0.8;\n      data[i] = value;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createPopSound(context, rate) {\n    const buffer = context.createBuffer(2, rate, 0.1, 'pop');\n    const data = buffer.getChannelData(0);\n    const attack = Math.floor(rate * 0.01);\n    const decay = Math.floor(rate * 0.05);\n    for (let i = 0; i < rate; i++) {\n      if (i < attack) {\n        data[i] = Math.sin(i / attack * Math.PI) * 0.5 + 0.5;\n      } else if (i < attack + decay) {\n        data[i] *= 1 - (i - attack) / decay;\n      } else {\n        data[i] = 0;\n      }\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createFizzingSound(context, rate) {\n    const buffer = context.createBuffer(2, rate, 2, 'fizz');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      data[i * 2] = (Math.random() - 0.5) * 0.15;\n      data[i * 2 + 1] = (Math.random() - 0.5) * 0.1;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createGeigerClick(context, rate) {\n    const buffer = context.createBuffer(2, rate, 0.2, 'click');\n    const data = buffer.getChannelData(0);\n    const duration = 0.02;\n    for (let i = 0; i < rate * duration; i++) {\n      data[i] = (Math.random() - 0.5) * 0.8;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createClickSound(context, rate) {\n    const buffer = context.createBuffer(2, rate, 0.05, 'click');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate * 0.05; i++) {\n      const value = Math.sin(i / (rate * 0.05) * Math.PI) * 0.5;\n      data[i] = value;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createSuccessSound(context, rate) {\n    const buffer = context.createBuffer(2, rate, 1, 'success');\n    const data = buffer.getChannelData(0);\n    const frequencies = [523.25, 659.25, 783.99, 1046.50];\n    for (let f = 0; f < frequencies.length; f++) {\n      for (let i = 0; i < rate / frequencies.length; i++) {\n        const sample = i + f * (rate / frequencies.length);\n        data[sample] = Math.sin(sample / rate * 2 * Math.PI * frequencies[f] / 1000) * 0.3;\n      }\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createWarningSound(context, rate) {\n    const buffer = context.createBuffer(2, rate, 0.5, 'warning');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      data[i * 2] = (Math.random() - 0.5) * 0.1;\n      data[i * 2 + 1] = (Math.random() - 0.5) * 0.05;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createDangerSound(context, rate) {\n    const buffer = context.createBuffer(2, rate, 1.5, 'danger');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const sample = i * 100;\n      data[i * 300] = Math.sin(sample / rate * Math.PI) * 0.3 + 0.7;\n      data[i * 300 + 100] = Math.sin(sample / rate * Math.PI) * 0.2;\n      data[i * 300 + 200] = Math.sin(sample / rate * Math.PI) * 0.1 + 0.3;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  createAudioBuffer(context, buffer) {\n    return context.decodeAudioData(buffer);\n  }\n  playSound(soundId, volume = 1) {\n    const sound = this.sounds[soundId];\n    if (!sound) return;\n    const source = this.listener.context.createBufferSource();\n    source.buffer = sound;\n    source.loop = false;\n    source.gain.value = volume * this.musicVolume;\n    const pan = this.listener.context.createPanner();\n    pan.gain.value = volume * this.musicVolume;\n    pan.connect(source);\n    pan.connect(this.listener);\n    source.start(0);\n    setTimeout(() => {\n      source.stop();\n      pan.disconnect();\n    }, source.duration * 1000);\n  }\n  playLoopingSound(soundId, volume = 1) {\n    if (this.currentMusic && this.currentMusic === soundId) return;\n    this.stopMusic();\n    const sound = this.sounds[soundId];\n    const source = this.listener.context.createBufferSource();\n    source.buffer = sound;\n    source.loop = true;\n    source.gain.value = volume * this.musicVolume;\n    const panner = this.listener.context.createPanner();\n    panner.gain.value = volume * this.musicVolume;\n    panner.connect(source);\n    panner.connect(this.listener);\n    this.currentMusic = soundId;\n    source.start(0);\n  }\n  stopMusic() {\n    if (!this.currentMusic) return;\n    this.group = 'effects';\n    this.currentMusic = null;\n  }\n  stopAll() {\n    this.stopMusic();\n    this.group = 'effects';\n  }\n  setGroup(group) {\n    this.group = group || 'music';\n  }\n  setVolume(volume) {\n    this.musicVolume = Math.max(0, Math.min(1, volume));\n    if (this.currentMusic) {\n      const sound = this.sounds[this.currentMusic];\n      sound.gain.value = volume;\n    }\n  }\n  async createAmbienceTracks() {\n    const context = this.listener.context;\n    const sampleRate = context.sampleRate;\n    this.ambientTracks.lobby = await this.createLobbyAmbience(context, sampleRate);\n    this.ambientTracks.alkali = await this.createMetallicAmbience(context, sampleRate, 0xFF6B6B);\n    this.ambientTracks.alkalineEarth = await this.createMetallicAmbience(context, sampleRate, 0xFFA94D);\n    this.ambientTracks.transition = await this.createMetallicAmbience(context, sampleRate, 0x74B9FF);\n    this.ambientTracks.lanthanide = await this.createRadioactiveAmbience(context, sampleRate);\n    this.ambientTracks.actinide = await this.createRadioactiveAmbience(context, sampleRate);\n    this.ambientTracks.metal = await this.createMetallicAmbience(context, sampleRate, 0x20C997);\n    this.ambientTracks.metalloid = await this.createCrystallineAmbience(context, sampleRate);\n    this.ambientTracks.nonmetal = await this.createGaseousAmbience(context, sampleRate);\n    this.ambientTracks.halogen = await this.createChemicalAmbience(context, sampleRate);\n    this.ambientTracks.nobleGas = await this.createEtherealAmbience(context, sampleRate);\n  }\n  async createLobbyAmbience(context, rate) {\n    const buffer = context.createBuffer(2, rate, 30, 'lobby');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const time = i / rate;\n      const drone = Math.sin(time * 0.5 * Math.PI * 2) * 0.1;\n      const shimmer = Math.sin(time * 3 * Math.PI) * 0.05;\n      data[i] = drone + shimmer;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createMetallicAmbience(context, rate, colorHex) {\n    const buffer = context.createBuffer(2, rate, 30, 'metallic');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const time = i / rate;\n      const resonance = Math.sin(time * 0.3 * Math.PI * 2) * 0.08;\n      const hum = Math.sin(time * 0.1 * Math.PI * 2) * 0.05;\n      data[i] = resonance + hum;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createRadioactiveAmbience(context, rate) {\n    const buffer = context.createBuffer(2, rate, 30, 'radioactive');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const time = i / rate;\n      const crackle = Math.random() > 0.95 ? (Math.random() - 0.5) * 0.1 : 0;\n      const hum = Math.sin(time * 0.2 * Math.PI * 2) * 0.03;\n      data[i] = crackle + hum;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createCrystallineAmbience(context, rate) {\n    const buffer = context.createBuffer(2, rate, 30, 'crystalline');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const time = i / rate;\n      const chime = Math.sin(time * 0.8 * Math.PI) * 0.06;\n      const echo = Math.sin(time * 1.6 * Math.PI) * 0.03;\n      data[i] = chime + echo;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createGaseousAmbience(context, rate) {\n    const buffer = context.createBuffer(2, rate, 30, 'gaseous');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const time = i / rate;\n      const flow = Math.sin(time * 0.2 * Math.PI) * 0.05;\n      const whisper = Math.sin(time * 0.7 * Math.PI) * 0.02;\n      data[i] = flow + whisper;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createChemicalAmbience(context, rate) {\n    const buffer = context.createBuffer(2, rate, 30, 'chemical');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const time = i / rate;\n      const bubble = Math.sin(time * 0.5 * Math.PI) * 0.04;\n      const hiss = Math.sin(time * 1.2 * Math.PI) * 0.02;\n      data[i] = bubble + hiss;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  async createEtherealAmbience(context, rate) {\n    const buffer = context.createBuffer(2, rate, 30, 'ethereal');\n    const data = buffer.getChannelData(0);\n    for (let i = 0; i < rate; i++) {\n      const time = i / rate;\n      const shimmer = Math.sin(time * 0.3 * Math.PI) * 0.08;\n      const glow = Math.sin(time * 0.1 * Math.PI) * 0.05;\n      data[i] = shimmer + glow;\n    }\n    return this.createAudioBuffer(context, buffer);\n  }\n  playRoomAmbience(group) {\n    const track = this.ambientTracks[group];\n    if (!track) return;\n    if (this.currentAmbience) {\n      this.stopAmbience();\n    }\n    const source = this.listener.context.createBufferSource();\n    source.buffer = track;\n    source.loop = true;\n    source.gain.value = this.ambienceVolume;\n    source.connect(this.listener);\n    source.start(0);\n    this.currentAmbience = {\n      source,\n      track,\n      group\n    };\n  }\n  stopAmbience() {\n    if (!this.currentAmbience) return;\n    this.currentAmbience.source.stop();\n    this.currentAmbience.source.disconnect();\n    this.currentAmbience = null;\n  }\n  playSpatialSound(soundId, position, volume = 1, maxDistance = 10) {\n    const sound = this.sounds[soundId];\n    if (!sound) return;\n    const source = this.listener.context.createBufferSource();\n    source.buffer = sound;\n    const panner = this.listener.context.createPanner();\n    panner.panningModel = 'HRTF';\n    panner.distanceModel = 'inverse';\n    panner.refDistance = 1;\n    panner.maxDistance = maxDistance;\n    panner.rolloffFactor = 1;\n    const listenerPosition = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n    this.listener.getWorldPosition(listenerPosition);\n    panner.setPosition(position.x, position.y, position.z);\n    panner.setOrientation(listenerPosition.x, 0, listenerPosition.z);\n    panner.connect(source);\n    source.connect(panner);\n    panner.connect(this.listener);\n    source.gain.value = volume;\n    source.start(0);\n    const spatialSound = {\n      source,\n      panner,\n      id: soundId\n    };\n    this.spatialSounds.push(spatialSound);\n    setTimeout(() => {\n      source.stop();\n      source.disconnect();\n      panner.disconnect();\n      const index = this.spatialSounds.indexOf(spatialSound);\n      if (index !== -1) {\n        this.spatialSounds.splice(index, 1);\n      }\n    }, sound.duration * 1000);\n  }\n  updateSpatialSounds(listenerPosition) {\n    this.spatialSounds.forEach(sound => {\n      sound.panner.setOrientation(listenerPosition.x - sound.panner.positionX, 0, listenerPosition.z - sound.panner.positionZ);\n    });\n  }\n  async playVoiceGuide(text, language = 'de', gender = 'neutral') {\n    if (this.voiceGuide) {\n      this.voiceGuide.stop();\n      this.voiceGuide.disconnect();\n    }\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.lang = language === 'de' ? 'de-DE' : 'en-US';\n    utterance.rate = 0.9;\n    utterance.pitch = gender === 'male' ? 0.9 : gender === 'female' ? 1.1 : 1.0;\n    utterance.volume = this.musicVolume;\n    window.speechSynthesis.speak(utterance);\n    this.voiceGuide = utterance;\n  }\n  stopVoiceGuide() {\n    if (this.voiceGuide) {\n      window.speechSynthesis.cancel();\n      this.voiceGuide = null;\n    }\n  }\n  async createElementDescription(element, language = 'de') {\n    const descriptions = {\n      de: {\n        name: element.name,\n        symbol: element.symbol,\n        number: element.atomicNumber,\n        mass: element.mass,\n        group: element.group,\n        period: element.period,\n        description: element.description\n      },\n      en: {\n        name: element.name,\n        symbol: element.symbol,\n        number: element.atomicNumber,\n        mass: element.mass,\n        group: element.group,\n        period: element.period,\n        description: element.description\n      }\n    };\n    const desc = descriptions[language] || descriptions.de;\n    const text = `${desc.name}. Symbol: ${desc.symbol}. Atomic number: ${desc.number}. Mass: ${desc.mass} atomic mass units. ${desc.description}`;\n    await this.playVoiceGuide(text, language);\n  }\n  dispose() {\n    this.stopMusic();\n    this.stopAmbience();\n    this.stopVoiceGuide();\n    Object.keys(this.sounds).forEach(key => {\n      const sound = this.sounds[key];\n      if (sound && typeof sound.close === 'function') {\n        sound.close();\n      }\n    });\n    this.sounds = {};\n    this.music = {};\n    this.spatialSounds = [];\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL0F1ZGlvTWFuYWdlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWIvQXVkaW9NYW5hZ2VyLmpzPzNkMzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvTWFuYWdlciB7XHJcbiAgIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcclxuICAgICB0aGlzLmN0eCA9IGNvbnRleHQ7XHJcbiAgICAgdGhpcy5saXN0ZW5lciA9IGNvbnRleHQuYXVkaW9MaXN0ZW5lcjtcclxuICAgICB0aGlzLnNvdW5kcyA9IHt9O1xyXG4gICAgIHRoaXMubXVzaWMgPSB7fTtcclxuICAgICB0aGlzLmN1cnJlbnRNdXNpYyA9IG51bGw7XHJcbiAgICAgdGhpcy5tdXNpY1ZvbHVtZSA9IDAuNTtcclxuXHJcbiAgICAgdGhpcy5ncm91cCA9ICdtdXNpYyc7XHJcbiAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cclxuICAgICB0aGlzLnNwYXRpYWxTb3VuZHMgPSBbXTtcclxuICAgICB0aGlzLnZvaWNlR3VpZGUgPSBudWxsO1xyXG4gICAgIHRoaXMuYW1iaWVuY2VWb2x1bWUgPSAwLjM7XHJcblxyXG4gICAgIHRoaXMuYW1iaWVudFRyYWNrcyA9IHtcclxuICAgICAgIGxvYmJ5OiBudWxsLFxyXG4gICAgICAgYWxrYWxpOiBudWxsLFxyXG4gICAgICAgYWxrYWxpbmVFYXJ0aDogbnVsbCxcclxuICAgICAgIHRyYW5zaXRpb246IG51bGwsXHJcbiAgICAgICBsYW50aGFuaWRlOiBudWxsLFxyXG4gICAgICAgYWN0aW5pZGU6IG51bGwsXHJcbiAgICAgICBtZXRhbDogbnVsbCxcclxuICAgICAgIG1ldGFsbG9pZDogbnVsbCxcclxuICAgICAgIG5vbm1ldGFsOiBudWxsLFxyXG4gICAgICAgaGFsb2dlbjogbnVsbCxcclxuICAgICAgIG5vYmxlR2FzOiBudWxsXHJcbiAgICAgfTtcclxuICAgfVxyXG5cclxuICBhc3luYyBpbml0KCkge1xyXG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdCBhdWRpb0NvbnRleHQgPSB0aGlzLmxpc3RlbmVyLmNvbnRleHQ7XHJcbiAgICBjb25zdCBzYW1wbGVSYXRlID0gYXVkaW9Db250ZXh0LnNhbXBsZVJhdGU7XHJcblxyXG4gICAgdGhpcy5zb3VuZHMgPSB7XHJcbiAgICAgIHdhdGVyX3NpenpsZTogYXdhaXQgdGhpcy5jcmVhdGVXYXRlclNpenpsZShhdWRpb0NvbnRleHQsIHNhbXBsZVJhdGUpLFxyXG4gICAgICBmbGFtZTogYXdhaXQgdGhpcy5jcmVhdGVGbGFtZVNvdW5kKGF1ZGlvQ29udGV4dCwgc2FtcGxlUmF0ZSksXHJcbiAgICAgIGVsZWN0cmljYWw6IGF3YWl0IHRoaXMuY3JlYXRlRWxlY3RyaWNhbFNvdW5kKGF1ZGlvQ29udGV4dCwgc2FtcGxlUmF0ZSksXHJcbiAgICAgIHBvcDogYXdhaXQgdGhpcy5jcmVhdGVQb3BTb3VuZChhdWRpb0NvbnRleHQsIHNhbXBsZVJhdGUpLFxyXG4gICAgICBmaXp6aW5nOiBhd2FpdCB0aGlzLmNyZWF0ZUZpenppbmdTb3VuZChhdWRpb0NvbnRleHQsIHNhbXBsZVJhdGUpLFxyXG4gICAgICBnZWlnZXI6IGF3YWl0IHRoaXMuY3JlYXRlR2VpZ2VyQ2xpY2soYXVkaW9Db250ZXh0LCBzYW1wbGVSYXRlKSxcclxuICAgICAgY2xpY2s6IGF3YWl0IHRoaXMuY3JlYXRlQ2xpY2tTb3VuZChhdWRpb0NvbnRleHQsIHNhbXBsZVJhdGUpLFxyXG4gICAgICBzdWNjZXNzOiBhd2FpdCB0aGlzLmNyZWF0ZVN1Y2Nlc3NTb3VuZChhdWRpb0NvbnRleHQsIHNhbXBsZVJhdGUpLFxyXG4gICAgICB3YXJuaW5nOiBhd2FpdCB0aGlzLmNyZWF0ZVdhcm5pbmdTb3VuZChhdWRpb0NvbnRleHQsIHNhbXBsZVJhdGUpLFxyXG4gICAgICBkYW5nZXI6IGF3YWl0IHRoaXMuY3JlYXRlRGFuZ2VyU291bmQoYXVkaW9Db250ZXh0LCBzYW1wbGVSYXRlKVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZVdhdGVyU2l6emxlKGNvbnRleHQsIHJhdGUpIHtcclxuICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKDIsIHJhdGUsIDIsICdzaXp6bGUnKTtcclxuICAgIGNvbnN0IGRhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXRlOyBpKyspIHtcclxuICAgICAgY29uc3Qgbm9pc2UgPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjI7XHJcbiAgICAgIGRhdGFbaV0gPSBub2lzZTtcclxuICAgICAgZGF0YVtpICsgcmF0ZV0gPSBub2lzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVBdWRpb0J1ZmZlcihjb250ZXh0LCBidWZmZXIpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgY3JlYXRlRmxhbWVTb3VuZChjb250ZXh0LCByYXRlKSB7XHJcbiAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigyLCByYXRlLCAzLCAnZmxhbWUnKTtcclxuICAgIGNvbnN0IGRhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXRlOyBpKyspIHtcclxuICAgICAgY29uc3QgdGltZSA9IGkgLyByYXRlO1xyXG4gICAgICBjb25zdCBiYXNlID0gTWF0aC5zaW4odGltZSAqIDIgKiBNYXRoLlBJKSAqIDAuNSArIDAuNTtcclxuICAgICAgY29uc3QgdmFyaWF0aW9uID0gTWF0aC5zaW4odGltZSAqIDggKiBNYXRoLlBJKSAqIDAuMztcclxuXHJcbiAgICAgIGRhdGFbaSAqIDNdID0gYmFzZSAqIDAuMyArIHZhcmlhdGlvbjtcclxuICAgICAgZGF0YVtpICogMyArIDFdID0gYmFzZSAqIDAuMSArIHZhcmlhdGlvbjtcclxuICAgICAgZGF0YVtpICogMyArIDJdID0gYmFzZSAqIDAuMDU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlQXVkaW9CdWZmZXIoY29udGV4dCwgYnVmZmVyKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZUVsZWN0cmljYWxTb3VuZChjb250ZXh0LCByYXRlKSB7XHJcbiAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigyLCByYXRlLCAxLCAnaHVtJyk7XHJcbiAgICBjb25zdCBkYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF0ZTsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gTWF0aC5zaW4oaSAvIHJhdGUgKiAyICogTWF0aC5QSSkgKiAwLjIgKyAwLjg7XHJcbiAgICAgIGRhdGFbaV0gPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVBdWRpb0J1ZmZlcihjb250ZXh0LCBidWZmZXIpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgY3JlYXRlUG9wU291bmQoY29udGV4dCwgcmF0ZSkge1xyXG4gICAgY29uc3QgYnVmZmVyID0gY29udGV4dC5jcmVhdGVCdWZmZXIoMiwgcmF0ZSwgMC4xLCAncG9wJyk7XHJcbiAgICBjb25zdCBkYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xyXG5cclxuICAgIGNvbnN0IGF0dGFjayA9IE1hdGguZmxvb3IocmF0ZSAqIDAuMDEpO1xyXG4gICAgY29uc3QgZGVjYXkgPSBNYXRoLmZsb29yKHJhdGUgKiAwLjA1KTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdGU7IGkrKykge1xyXG4gICAgICBpZiAoaSA8IGF0dGFjaykge1xyXG4gICAgICAgIGRhdGFbaV0gPSBNYXRoLnNpbihpIC8gYXR0YWNrICogTWF0aC5QSSkgKiAwLjUgKyAwLjU7XHJcbiAgICAgIH0gZWxzZSBpZiAoaSA8IGF0dGFjayArIGRlY2F5KSB7XHJcbiAgICAgICAgZGF0YVtpXSAqPSAxIC0gKGkgLSBhdHRhY2spIC8gZGVjYXk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YVtpXSA9IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVBdWRpb0J1ZmZlcihjb250ZXh0LCBidWZmZXIpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgY3JlYXRlRml6emluZ1NvdW5kKGNvbnRleHQsIHJhdGUpIHtcclxuICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKDIsIHJhdGUsIDIsICdmaXp6Jyk7XHJcbiAgICBjb25zdCBkYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF0ZTsgaSsrKSB7XHJcbiAgICAgIGRhdGFbaSAqIDJdID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4xNTtcclxuICAgICAgZGF0YVtpICogMiArIDFdID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4xO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmNyZWF0ZUF1ZGlvQnVmZmVyKGNvbnRleHQsIGJ1ZmZlcik7XHJcbiAgfVxyXG5cclxuICBhc3luYyBjcmVhdGVHZWlnZXJDbGljayhjb250ZXh0LCByYXRlKSB7XHJcbiAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigyLCByYXRlLCAwLjIsICdjbGljaycpO1xyXG4gICAgY29uc3QgZGF0YSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcclxuXHJcbiAgICBjb25zdCBkdXJhdGlvbiA9IDAuMDI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdGUgKiBkdXJhdGlvbjsgaSsrKSB7XHJcbiAgICAgIGRhdGFbaV0gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlQXVkaW9CdWZmZXIoY29udGV4dCwgYnVmZmVyKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZUNsaWNrU291bmQoY29udGV4dCwgcmF0ZSkge1xyXG4gICAgY29uc3QgYnVmZmVyID0gY29udGV4dC5jcmVhdGVCdWZmZXIoMiwgcmF0ZSwgMC4wNSwgJ2NsaWNrJyk7XHJcbiAgICBjb25zdCBkYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF0ZSAqIDAuMDU7IGkrKykge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IE1hdGguc2luKGkgLyAocmF0ZSAqIDAuMDUpICogTWF0aC5QSSkgKiAwLjU7XHJcbiAgICAgIGRhdGFbaV0gPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVBdWRpb0J1ZmZlcihjb250ZXh0LCBidWZmZXIpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgY3JlYXRlU3VjY2Vzc1NvdW5kKGNvbnRleHQsIHJhdGUpIHtcclxuICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKDIsIHJhdGUsIDEsICdzdWNjZXNzJyk7XHJcbiAgICBjb25zdCBkYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xyXG5cclxuICAgIGNvbnN0IGZyZXF1ZW5jaWVzID0gWzUyMy4yNSwgNjU5LjI1LCA3ODMuOTksIDEwNDYuNTBdO1xyXG4gICAgZm9yIChsZXQgZiA9IDA7IGYgPCBmcmVxdWVuY2llcy5sZW5ndGg7IGYrKykge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdGUgLyBmcmVxdWVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHNhbXBsZSA9IGkgKyBmICogKHJhdGUgLyBmcmVxdWVuY2llcy5sZW5ndGgpO1xyXG4gICAgICAgIGRhdGFbc2FtcGxlXSA9IE1hdGguc2luKHNhbXBsZSAvIHJhdGUgKiAyICogTWF0aC5QSSAqIGZyZXF1ZW5jaWVzW2ZdIC8gMTAwMCkgKiAwLjM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVBdWRpb0J1ZmZlcihjb250ZXh0LCBidWZmZXIpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgY3JlYXRlV2FybmluZ1NvdW5kKGNvbnRleHQsIHJhdGUpIHtcclxuICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKDIsIHJhdGUsIDAuNSwgJ3dhcm5pbmcnKTtcclxuICAgIGNvbnN0IGRhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXRlOyBpKyspIHtcclxuICAgICAgZGF0YVtpICogMl0gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjE7XHJcbiAgICAgIGRhdGFbaSAqIDIgKyAxXSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMDU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlQXVkaW9CdWZmZXIoY29udGV4dCwgYnVmZmVyKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZURhbmdlclNvdW5kKGNvbnRleHQsIHJhdGUpIHtcclxuICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKDIsIHJhdGUsIDEuNSwgJ2RhbmdlcicpO1xyXG4gICAgY29uc3QgZGF0YSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdGU7IGkrKykge1xyXG4gICAgICBjb25zdCBzYW1wbGUgPSBpICogMTAwO1xyXG4gICAgICBkYXRhW2kgKiAzMDBdID0gKE1hdGguc2luKHNhbXBsZSAvIHJhdGUgKiBNYXRoLlBJKSAqIDAuMyArIDAuNyk7XHJcbiAgICAgIGRhdGFbaSAqIDMwMCArIDEwMF0gPSAoTWF0aC5zaW4oc2FtcGxlIC8gcmF0ZSAqIE1hdGguUEkpICogMC4yKTtcclxuICAgICAgZGF0YVtpICogMzAwICsgMjAwXSA9IChNYXRoLnNpbihzYW1wbGUgLyByYXRlICogTWF0aC5QSSkgKiAwLjEgKyAwLjMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmNyZWF0ZUF1ZGlvQnVmZmVyKGNvbnRleHQsIGJ1ZmZlcik7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVBdWRpb0J1ZmZlcihjb250ZXh0LCBidWZmZXIpIHtcclxuICAgIHJldHVybiBjb250ZXh0LmRlY29kZUF1ZGlvRGF0YShidWZmZXIpO1xyXG4gIH1cclxuXHJcbiAgcGxheVNvdW5kKHNvdW5kSWQsIHZvbHVtZSA9IDEpIHtcclxuICAgIGNvbnN0IHNvdW5kID0gdGhpcy5zb3VuZHNbc291bmRJZF07XHJcbiAgICBpZiAoIXNvdW5kKSByZXR1cm47XHJcblxyXG4gICAgY29uc3Qgc291cmNlID0gdGhpcy5saXN0ZW5lci5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgc291cmNlLmJ1ZmZlciA9IHNvdW5kO1xyXG4gICAgc291cmNlLmxvb3AgPSBmYWxzZTtcclxuICAgIHNvdXJjZS5nYWluLnZhbHVlID0gdm9sdW1lICogdGhpcy5tdXNpY1ZvbHVtZTtcclxuXHJcbiAgICBjb25zdCBwYW4gPSB0aGlzLmxpc3RlbmVyLmNvbnRleHQuY3JlYXRlUGFubmVyKCk7XHJcbiAgICBwYW4uZ2Fpbi52YWx1ZSA9IHZvbHVtZSAqIHRoaXMubXVzaWNWb2x1bWU7XHJcbiAgICBwYW4uY29ubmVjdChzb3VyY2UpO1xyXG4gICAgcGFuLmNvbm5lY3QodGhpcy5saXN0ZW5lcik7XHJcblxyXG4gICAgc291cmNlLnN0YXJ0KDApO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzb3VyY2Uuc3RvcCgpO1xyXG4gICAgICBwYW4uZGlzY29ubmVjdCgpO1xyXG4gICAgfSwgc291cmNlLmR1cmF0aW9uICogMTAwMCk7XHJcbiAgfVxyXG5cclxuICBwbGF5TG9vcGluZ1NvdW5kKHNvdW5kSWQsIHZvbHVtZSA9IDEpIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRNdXNpYyAmJiB0aGlzLmN1cnJlbnRNdXNpYyA9PT0gc291bmRJZCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuc3RvcE11c2ljKCk7XHJcblxyXG4gICAgY29uc3Qgc291bmQgPSB0aGlzLnNvdW5kc1tzb3VuZElkXTtcclxuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMubGlzdGVuZXIuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcclxuICAgIHNvdXJjZS5idWZmZXIgPSBzb3VuZDtcclxuICAgIHNvdXJjZS5sb29wID0gdHJ1ZTtcclxuICAgIHNvdXJjZS5nYWluLnZhbHVlID0gdm9sdW1lICogdGhpcy5tdXNpY1ZvbHVtZTtcclxuXHJcbiAgICBjb25zdCBwYW5uZXIgPSB0aGlzLmxpc3RlbmVyLmNvbnRleHQuY3JlYXRlUGFubmVyKCk7XHJcbiAgICBwYW5uZXIuZ2Fpbi52YWx1ZSA9IHZvbHVtZSAqIHRoaXMubXVzaWNWb2x1bWU7XHJcbiAgICBwYW5uZXIuY29ubmVjdChzb3VyY2UpO1xyXG4gICAgcGFubmVyLmNvbm5lY3QodGhpcy5saXN0ZW5lcik7XHJcblxyXG4gICAgdGhpcy5jdXJyZW50TXVzaWMgPSBzb3VuZElkO1xyXG4gICAgc291cmNlLnN0YXJ0KDApO1xyXG4gIH1cclxuXHJcbiAgc3RvcE11c2ljKCkge1xyXG4gICAgaWYgKCF0aGlzLmN1cnJlbnRNdXNpYykgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZ3JvdXAgPSAnZWZmZWN0cyc7XHJcbiAgICB0aGlzLmN1cnJlbnRNdXNpYyA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBzdG9wQWxsKCkge1xyXG4gICAgdGhpcy5zdG9wTXVzaWMoKTtcclxuICAgIHRoaXMuZ3JvdXAgPSAnZWZmZWN0cyc7XHJcbiAgfVxyXG5cclxuICBzZXRHcm91cChncm91cCkge1xyXG4gICAgdGhpcy5ncm91cCA9IGdyb3VwIHx8ICdtdXNpYyc7XHJcbiAgfVxyXG5cclxuICAgc2V0Vm9sdW1lKHZvbHVtZSkge1xyXG4gICAgIHRoaXMubXVzaWNWb2x1bWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB2b2x1bWUpKTtcclxuXHJcbiAgICAgaWYgKHRoaXMuY3VycmVudE11c2ljKSB7XHJcbiAgICAgICBjb25zdCBzb3VuZCA9IHRoaXMuc291bmRzW3RoaXMuY3VycmVudE11c2ljXTtcclxuICAgICAgIHNvdW5kLmdhaW4udmFsdWUgPSB2b2x1bWU7XHJcbiAgICAgfVxyXG4gICB9XHJcblxyXG4gICBhc3luYyBjcmVhdGVBbWJpZW5jZVRyYWNrcygpIHtcclxuICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5saXN0ZW5lci5jb250ZXh0O1xyXG4gICAgIGNvbnN0IHNhbXBsZVJhdGUgPSBjb250ZXh0LnNhbXBsZVJhdGU7XHJcblxyXG4gICAgIHRoaXMuYW1iaWVudFRyYWNrcy5sb2JieSA9IGF3YWl0IHRoaXMuY3JlYXRlTG9iYnlBbWJpZW5jZShjb250ZXh0LCBzYW1wbGVSYXRlKTtcclxuICAgICB0aGlzLmFtYmllbnRUcmFja3MuYWxrYWxpID0gYXdhaXQgdGhpcy5jcmVhdGVNZXRhbGxpY0FtYmllbmNlKGNvbnRleHQsIHNhbXBsZVJhdGUsIDB4RkY2QjZCKTtcclxuICAgICB0aGlzLmFtYmllbnRUcmFja3MuYWxrYWxpbmVFYXJ0aCA9IGF3YWl0IHRoaXMuY3JlYXRlTWV0YWxsaWNBbWJpZW5jZShjb250ZXh0LCBzYW1wbGVSYXRlLCAweEZGQTk0RCk7XHJcbiAgICAgdGhpcy5hbWJpZW50VHJhY2tzLnRyYW5zaXRpb24gPSBhd2FpdCB0aGlzLmNyZWF0ZU1ldGFsbGljQW1iaWVuY2UoY29udGV4dCwgc2FtcGxlUmF0ZSwgMHg3NEI5RkYpO1xyXG4gICAgIHRoaXMuYW1iaWVudFRyYWNrcy5sYW50aGFuaWRlID0gYXdhaXQgdGhpcy5jcmVhdGVSYWRpb2FjdGl2ZUFtYmllbmNlKGNvbnRleHQsIHNhbXBsZVJhdGUpO1xyXG4gICAgIHRoaXMuYW1iaWVudFRyYWNrcy5hY3RpbmlkZSA9IGF3YWl0IHRoaXMuY3JlYXRlUmFkaW9hY3RpdmVBbWJpZW5jZShjb250ZXh0LCBzYW1wbGVSYXRlKTtcclxuICAgICB0aGlzLmFtYmllbnRUcmFja3MubWV0YWwgPSBhd2FpdCB0aGlzLmNyZWF0ZU1ldGFsbGljQW1iaWVuY2UoY29udGV4dCwgc2FtcGxlUmF0ZSwgMHgyMEM5OTcpO1xyXG4gICAgIHRoaXMuYW1iaWVudFRyYWNrcy5tZXRhbGxvaWQgPSBhd2FpdCB0aGlzLmNyZWF0ZUNyeXN0YWxsaW5lQW1iaWVuY2UoY29udGV4dCwgc2FtcGxlUmF0ZSk7XHJcbiAgICAgdGhpcy5hbWJpZW50VHJhY2tzLm5vbm1ldGFsID0gYXdhaXQgdGhpcy5jcmVhdGVHYXNlb3VzQW1iaWVuY2UoY29udGV4dCwgc2FtcGxlUmF0ZSk7XHJcbiAgICAgdGhpcy5hbWJpZW50VHJhY2tzLmhhbG9nZW4gPSBhd2FpdCB0aGlzLmNyZWF0ZUNoZW1pY2FsQW1iaWVuY2UoY29udGV4dCwgc2FtcGxlUmF0ZSk7XHJcbiAgICAgdGhpcy5hbWJpZW50VHJhY2tzLm5vYmxlR2FzID0gYXdhaXQgdGhpcy5jcmVhdGVFdGhlcmVhbEFtYmllbmNlKGNvbnRleHQsIHNhbXBsZVJhdGUpO1xyXG4gICB9XHJcblxyXG4gICBhc3luYyBjcmVhdGVMb2JieUFtYmllbmNlKGNvbnRleHQsIHJhdGUpIHtcclxuICAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigyLCByYXRlLCAzMCwgJ2xvYmJ5Jyk7XHJcbiAgICAgY29uc3QgZGF0YSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcclxuXHJcbiAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXRlOyBpKyspIHtcclxuICAgICAgIGNvbnN0IHRpbWUgPSBpIC8gcmF0ZTtcclxuICAgICAgIGNvbnN0IGRyb25lID0gTWF0aC5zaW4odGltZSAqIDAuNSAqIE1hdGguUEkgKiAyKSAqIDAuMTtcclxuICAgICAgIGNvbnN0IHNoaW1tZXIgPSBNYXRoLnNpbih0aW1lICogMyAqIE1hdGguUEkpICogMC4wNTtcclxuICAgICAgIGRhdGFbaV0gPSBkcm9uZSArIHNoaW1tZXI7XHJcbiAgICAgfVxyXG5cclxuICAgICByZXR1cm4gdGhpcy5jcmVhdGVBdWRpb0J1ZmZlcihjb250ZXh0LCBidWZmZXIpO1xyXG4gICB9XHJcblxyXG4gICBhc3luYyBjcmVhdGVNZXRhbGxpY0FtYmllbmNlKGNvbnRleHQsIHJhdGUsIGNvbG9ySGV4KSB7XHJcbiAgICAgY29uc3QgYnVmZmVyID0gY29udGV4dC5jcmVhdGVCdWZmZXIoMiwgcmF0ZSwgMzAsICdtZXRhbGxpYycpO1xyXG4gICAgIGNvbnN0IGRhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XHJcblxyXG4gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF0ZTsgaSsrKSB7XHJcbiAgICAgICBjb25zdCB0aW1lID0gaSAvIHJhdGU7XHJcbiAgICAgICBjb25zdCByZXNvbmFuY2UgPSBNYXRoLnNpbih0aW1lICogMC4zICogTWF0aC5QSSAqIDIpICogMC4wODtcclxuICAgICAgIGNvbnN0IGh1bSA9IE1hdGguc2luKHRpbWUgKiAwLjEgKiBNYXRoLlBJICogMikgKiAwLjA1O1xyXG4gICAgICAgZGF0YVtpXSA9IHJlc29uYW5jZSArIGh1bTtcclxuICAgICB9XHJcblxyXG4gICAgIHJldHVybiB0aGlzLmNyZWF0ZUF1ZGlvQnVmZmVyKGNvbnRleHQsIGJ1ZmZlcik7XHJcbiAgIH1cclxuXHJcbiAgIGFzeW5jIGNyZWF0ZVJhZGlvYWN0aXZlQW1iaWVuY2UoY29udGV4dCwgcmF0ZSkge1xyXG4gICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKDIsIHJhdGUsIDMwLCAncmFkaW9hY3RpdmUnKTtcclxuICAgICBjb25zdCBkYXRhID0gYnVmZmVyLmdldENoYW5uZWxEYXRhKDApO1xyXG5cclxuICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdGU7IGkrKykge1xyXG4gICAgICAgY29uc3QgdGltZSA9IGkgLyByYXRlO1xyXG4gICAgICAgY29uc3QgY3JhY2tsZSA9IE1hdGgucmFuZG9tKCkgPiAwLjk1ID8gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4xIDogMDtcclxuICAgICAgIGNvbnN0IGh1bSA9IE1hdGguc2luKHRpbWUgKiAwLjIgKiBNYXRoLlBJICogMikgKiAwLjAzO1xyXG4gICAgICAgZGF0YVtpXSA9IGNyYWNrbGUgKyBodW07XHJcbiAgICAgfVxyXG5cclxuICAgICByZXR1cm4gdGhpcy5jcmVhdGVBdWRpb0J1ZmZlcihjb250ZXh0LCBidWZmZXIpO1xyXG4gICB9XHJcblxyXG4gICBhc3luYyBjcmVhdGVDcnlzdGFsbGluZUFtYmllbmNlKGNvbnRleHQsIHJhdGUpIHtcclxuICAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigyLCByYXRlLCAzMCwgJ2NyeXN0YWxsaW5lJyk7XHJcbiAgICAgY29uc3QgZGF0YSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcclxuXHJcbiAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXRlOyBpKyspIHtcclxuICAgICAgIGNvbnN0IHRpbWUgPSBpIC8gcmF0ZTtcclxuICAgICAgIGNvbnN0IGNoaW1lID0gTWF0aC5zaW4odGltZSAqIDAuOCAqIE1hdGguUEkpICogMC4wNjtcclxuICAgICAgIGNvbnN0IGVjaG8gPSBNYXRoLnNpbih0aW1lICogMS42ICogTWF0aC5QSSkgKiAwLjAzO1xyXG4gICAgICAgZGF0YVtpXSA9IGNoaW1lICsgZWNobztcclxuICAgICB9XHJcblxyXG4gICAgIHJldHVybiB0aGlzLmNyZWF0ZUF1ZGlvQnVmZmVyKGNvbnRleHQsIGJ1ZmZlcik7XHJcbiAgIH1cclxuXHJcbiAgIGFzeW5jIGNyZWF0ZUdhc2VvdXNBbWJpZW5jZShjb250ZXh0LCByYXRlKSB7XHJcbiAgICAgY29uc3QgYnVmZmVyID0gY29udGV4dC5jcmVhdGVCdWZmZXIoMiwgcmF0ZSwgMzAsICdnYXNlb3VzJyk7XHJcbiAgICAgY29uc3QgZGF0YSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcclxuXHJcbiAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXRlOyBpKyspIHtcclxuICAgICAgIGNvbnN0IHRpbWUgPSBpIC8gcmF0ZTtcclxuICAgICAgIGNvbnN0IGZsb3cgPSBNYXRoLnNpbih0aW1lICogMC4yICogTWF0aC5QSSkgKiAwLjA1O1xyXG4gICAgICAgY29uc3Qgd2hpc3BlciA9IE1hdGguc2luKHRpbWUgKiAwLjcgKiBNYXRoLlBJKSAqIDAuMDI7XHJcbiAgICAgICBkYXRhW2ldID0gZmxvdyArIHdoaXNwZXI7XHJcbiAgICAgfVxyXG5cclxuICAgICByZXR1cm4gdGhpcy5jcmVhdGVBdWRpb0J1ZmZlcihjb250ZXh0LCBidWZmZXIpO1xyXG4gICB9XHJcblxyXG4gICBhc3luYyBjcmVhdGVDaGVtaWNhbEFtYmllbmNlKGNvbnRleHQsIHJhdGUpIHtcclxuICAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigyLCByYXRlLCAzMCwgJ2NoZW1pY2FsJyk7XHJcbiAgICAgY29uc3QgZGF0YSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcclxuXHJcbiAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXRlOyBpKyspIHtcclxuICAgICAgIGNvbnN0IHRpbWUgPSBpIC8gcmF0ZTtcclxuICAgICAgIGNvbnN0IGJ1YmJsZSA9IE1hdGguc2luKHRpbWUgKiAwLjUgKiBNYXRoLlBJKSAqIDAuMDQ7XHJcbiAgICAgICBjb25zdCBoaXNzID0gTWF0aC5zaW4odGltZSAqIDEuMiAqIE1hdGguUEkpICogMC4wMjtcclxuICAgICAgIGRhdGFbaV0gPSBidWJibGUgKyBoaXNzO1xyXG4gICAgIH1cclxuXHJcbiAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQXVkaW9CdWZmZXIoY29udGV4dCwgYnVmZmVyKTtcclxuICAgfVxyXG5cclxuICAgYXN5bmMgY3JlYXRlRXRoZXJlYWxBbWJpZW5jZShjb250ZXh0LCByYXRlKSB7XHJcbiAgICAgY29uc3QgYnVmZmVyID0gY29udGV4dC5jcmVhdGVCdWZmZXIoMiwgcmF0ZSwgMzAsICdldGhlcmVhbCcpO1xyXG4gICAgIGNvbnN0IGRhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XHJcblxyXG4gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF0ZTsgaSsrKSB7XHJcbiAgICAgICBjb25zdCB0aW1lID0gaSAvIHJhdGU7XHJcbiAgICAgICBjb25zdCBzaGltbWVyID0gTWF0aC5zaW4odGltZSAqIDAuMyAqIE1hdGguUEkpICogMC4wODtcclxuICAgICAgIGNvbnN0IGdsb3cgPSBNYXRoLnNpbih0aW1lICogMC4xICogTWF0aC5QSSkgKiAwLjA1O1xyXG4gICAgICAgZGF0YVtpXSA9IHNoaW1tZXIgKyBnbG93O1xyXG4gICAgIH1cclxuXHJcbiAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQXVkaW9CdWZmZXIoY29udGV4dCwgYnVmZmVyKTtcclxuICAgfVxyXG5cclxuICAgcGxheVJvb21BbWJpZW5jZShncm91cCkge1xyXG4gICAgIGNvbnN0IHRyYWNrID0gdGhpcy5hbWJpZW50VHJhY2tzW2dyb3VwXTtcclxuICAgICBpZiAoIXRyYWNrKSByZXR1cm47XHJcblxyXG4gICAgIGlmICh0aGlzLmN1cnJlbnRBbWJpZW5jZSkge1xyXG4gICAgICAgdGhpcy5zdG9wQW1iaWVuY2UoKTtcclxuICAgICB9XHJcblxyXG4gICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMubGlzdGVuZXIuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcclxuICAgICBzb3VyY2UuYnVmZmVyID0gdHJhY2s7XHJcbiAgICAgc291cmNlLmxvb3AgPSB0cnVlO1xyXG4gICAgIHNvdXJjZS5nYWluLnZhbHVlID0gdGhpcy5hbWJpZW5jZVZvbHVtZTtcclxuXHJcbiAgICAgc291cmNlLmNvbm5lY3QodGhpcy5saXN0ZW5lcik7XHJcbiAgICAgc291cmNlLnN0YXJ0KDApO1xyXG5cclxuICAgICB0aGlzLmN1cnJlbnRBbWJpZW5jZSA9IHtzb3VyY2UsIHRyYWNrLCBncm91cH07XHJcbiAgIH1cclxuXHJcbiAgIHN0b3BBbWJpZW5jZSgpIHtcclxuICAgICBpZiAoIXRoaXMuY3VycmVudEFtYmllbmNlKSByZXR1cm47XHJcblxyXG4gICAgIHRoaXMuY3VycmVudEFtYmllbmNlLnNvdXJjZS5zdG9wKCk7XHJcbiAgICAgdGhpcy5jdXJyZW50QW1iaWVuY2Uuc291cmNlLmRpc2Nvbm5lY3QoKTtcclxuICAgICB0aGlzLmN1cnJlbnRBbWJpZW5jZSA9IG51bGw7XHJcbiAgIH1cclxuXHJcbiAgIHBsYXlTcGF0aWFsU291bmQoc291bmRJZCwgcG9zaXRpb24sIHZvbHVtZSA9IDEsIG1heERpc3RhbmNlID0gMTApIHtcclxuICAgICBjb25zdCBzb3VuZCA9IHRoaXMuc291bmRzW3NvdW5kSWRdO1xyXG4gICAgIGlmICghc291bmQpIHJldHVybjtcclxuXHJcbiAgICAgY29uc3Qgc291cmNlID0gdGhpcy5saXN0ZW5lci5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgIHNvdXJjZS5idWZmZXIgPSBzb3VuZDtcclxuXHJcbiAgICAgY29uc3QgcGFubmVyID0gdGhpcy5saXN0ZW5lci5jb250ZXh0LmNyZWF0ZVBhbm5lcigpO1xyXG4gICAgIHBhbm5lci5wYW5uaW5nTW9kZWwgPSAnSFJURic7XHJcbiAgICAgcGFubmVyLmRpc3RhbmNlTW9kZWwgPSAnaW52ZXJzZSc7XHJcbiAgICAgcGFubmVyLnJlZkRpc3RhbmNlID0gMTtcclxuICAgICBwYW5uZXIubWF4RGlzdGFuY2UgPSBtYXhEaXN0YW5jZTtcclxuICAgICBwYW5uZXIucm9sbG9mZkZhY3RvciA9IDE7XHJcblxyXG4gICAgIGNvbnN0IGxpc3RlbmVyUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xyXG4gICAgIHRoaXMubGlzdGVuZXIuZ2V0V29ybGRQb3NpdGlvbihsaXN0ZW5lclBvc2l0aW9uKTtcclxuICAgICBwYW5uZXIuc2V0UG9zaXRpb24ocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgcG9zaXRpb24ueik7XHJcbiAgICAgcGFubmVyLnNldE9yaWVudGF0aW9uKGxpc3RlbmVyUG9zaXRpb24ueCwgMCwgbGlzdGVuZXJQb3NpdGlvbi56KTtcclxuXHJcbiAgICAgcGFubmVyLmNvbm5lY3Qoc291cmNlKTtcclxuICAgICBzb3VyY2UuY29ubmVjdChwYW5uZXIpO1xyXG4gICAgIHBhbm5lci5jb25uZWN0KHRoaXMubGlzdGVuZXIpO1xyXG5cclxuICAgICBzb3VyY2UuZ2Fpbi52YWx1ZSA9IHZvbHVtZTtcclxuICAgICBzb3VyY2Uuc3RhcnQoMCk7XHJcblxyXG4gICAgIGNvbnN0IHNwYXRpYWxTb3VuZCA9IHtzb3VyY2UsIHBhbm5lciwgaWQ6IHNvdW5kSWR9O1xyXG4gICAgIHRoaXMuc3BhdGlhbFNvdW5kcy5wdXNoKHNwYXRpYWxTb3VuZCk7XHJcblxyXG4gICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgc291cmNlLnN0b3AoKTtcclxuICAgICAgIHNvdXJjZS5kaXNjb25uZWN0KCk7XHJcbiAgICAgICBwYW5uZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnNwYXRpYWxTb3VuZHMuaW5kZXhPZihzcGF0aWFsU291bmQpO1xyXG4gICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICB0aGlzLnNwYXRpYWxTb3VuZHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgIH1cclxuICAgICB9LCBzb3VuZC5kdXJhdGlvbiAqIDEwMDApO1xyXG4gICB9XHJcblxyXG4gICB1cGRhdGVTcGF0aWFsU291bmRzKGxpc3RlbmVyUG9zaXRpb24pIHtcclxuICAgICB0aGlzLnNwYXRpYWxTb3VuZHMuZm9yRWFjaChzb3VuZCA9PiB7XHJcbiAgICAgICBzb3VuZC5wYW5uZXIuc2V0T3JpZW50YXRpb24oXHJcbiAgICAgICAgIGxpc3RlbmVyUG9zaXRpb24ueCAtIHNvdW5kLnBhbm5lci5wb3NpdGlvblgsXHJcbiAgICAgICAgIDAsXHJcbiAgICAgICAgIGxpc3RlbmVyUG9zaXRpb24ueiAtIHNvdW5kLnBhbm5lci5wb3NpdGlvblpcclxuICAgICAgICk7XHJcbiAgICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgIGFzeW5jIHBsYXlWb2ljZUd1aWRlKHRleHQsIGxhbmd1YWdlID0gJ2RlJywgZ2VuZGVyID0gJ25ldXRyYWwnKSB7XHJcbiAgICAgaWYgKHRoaXMudm9pY2VHdWlkZSkge1xyXG4gICAgICAgdGhpcy52b2ljZUd1aWRlLnN0b3AoKTtcclxuICAgICAgIHRoaXMudm9pY2VHdWlkZS5kaXNjb25uZWN0KCk7XHJcbiAgICAgfVxyXG5cclxuICAgICBjb25zdCB1dHRlcmFuY2UgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpO1xyXG4gICAgIHV0dGVyYW5jZS5sYW5nID0gbGFuZ3VhZ2UgPT09ICdkZScgPyAnZGUtREUnIDogJ2VuLVVTJztcclxuICAgICB1dHRlcmFuY2UucmF0ZSA9IDAuOTtcclxuICAgICB1dHRlcmFuY2UucGl0Y2ggPSBnZW5kZXIgPT09ICdtYWxlJyA/IDAuOSA6IGdlbmRlciA9PT0gJ2ZlbWFsZScgPyAxLjEgOiAxLjA7XHJcbiAgICAgdXR0ZXJhbmNlLnZvbHVtZSA9IHRoaXMubXVzaWNWb2x1bWU7XHJcblxyXG4gICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuc3BlYWsodXR0ZXJhbmNlKTtcclxuICAgICB0aGlzLnZvaWNlR3VpZGUgPSB1dHRlcmFuY2U7XHJcbiAgIH1cclxuXHJcbiAgIHN0b3BWb2ljZUd1aWRlKCkge1xyXG4gICAgIGlmICh0aGlzLnZvaWNlR3VpZGUpIHtcclxuICAgICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuY2FuY2VsKCk7XHJcbiAgICAgICB0aGlzLnZvaWNlR3VpZGUgPSBudWxsO1xyXG4gICAgIH1cclxuICAgfVxyXG5cclxuICAgYXN5bmMgY3JlYXRlRWxlbWVudERlc2NyaXB0aW9uKGVsZW1lbnQsIGxhbmd1YWdlID0gJ2RlJykge1xyXG4gICAgIGNvbnN0IGRlc2NyaXB0aW9ucyA9IHtcclxuICAgICAgIGRlOiB7XHJcbiAgICAgICAgIG5hbWU6IGVsZW1lbnQubmFtZSxcclxuICAgICAgICAgc3ltYm9sOiBlbGVtZW50LnN5bWJvbCxcclxuICAgICAgICAgbnVtYmVyOiBlbGVtZW50LmF0b21pY051bWJlcixcclxuICAgICAgICAgbWFzczogZWxlbWVudC5tYXNzLFxyXG4gICAgICAgICBncm91cDogZWxlbWVudC5ncm91cCxcclxuICAgICAgICAgcGVyaW9kOiBlbGVtZW50LnBlcmlvZCxcclxuICAgICAgICAgZGVzY3JpcHRpb246IGVsZW1lbnQuZGVzY3JpcHRpb25cclxuICAgICAgIH0sXHJcbiAgICAgICBlbjoge1xyXG4gICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsXHJcbiAgICAgICAgIHN5bWJvbDogZWxlbWVudC5zeW1ib2wsXHJcbiAgICAgICAgIG51bWJlcjogZWxlbWVudC5hdG9taWNOdW1iZXIsXHJcbiAgICAgICAgIG1hc3M6IGVsZW1lbnQubWFzcyxcclxuICAgICAgICAgZ3JvdXA6IGVsZW1lbnQuZ3JvdXAsXHJcbiAgICAgICAgIHBlcmlvZDogZWxlbWVudC5wZXJpb2QsXHJcbiAgICAgICAgIGRlc2NyaXB0aW9uOiBlbGVtZW50LmRlc2NyaXB0aW9uXHJcbiAgICAgICB9XHJcbiAgICAgfTtcclxuXHJcbiAgICAgY29uc3QgZGVzYyA9IGRlc2NyaXB0aW9uc1tsYW5ndWFnZV0gfHwgZGVzY3JpcHRpb25zLmRlO1xyXG4gICAgIGNvbnN0IHRleHQgPSBgJHtkZXNjLm5hbWV9LiBTeW1ib2w6ICR7ZGVzYy5zeW1ib2x9LiBBdG9taWMgbnVtYmVyOiAke2Rlc2MubnVtYmVyfS4gTWFzczogJHtkZXNjLm1hc3N9IGF0b21pYyBtYXNzIHVuaXRzLiAke2Rlc2MuZGVzY3JpcHRpb259YDtcclxuXHJcbiAgICAgYXdhaXQgdGhpcy5wbGF5Vm9pY2VHdWlkZSh0ZXh0LCBsYW5ndWFnZSk7XHJcbiAgIH1cclxuXHJcbiAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgdGhpcy5zdG9wTXVzaWMoKTtcclxuICAgICB0aGlzLnN0b3BBbWJpZW5jZSgpO1xyXG4gICAgIHRoaXMuc3RvcFZvaWNlR3VpZGUoKTtcclxuXHJcbiAgICAgT2JqZWN0LmtleXModGhpcy5zb3VuZHMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgIGNvbnN0IHNvdW5kID0gdGhpcy5zb3VuZHNba2V5XTtcclxuICAgICAgIGlmIChzb3VuZCAmJiB0eXBlb2Ygc291bmQuY2xvc2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgc291bmQuY2xvc2UoKTtcclxuICAgICAgIH1cclxuICAgICB9KTtcclxuXHJcbiAgICAgdGhpcy5zb3VuZHMgPSB7fTtcclxuICAgICB0aGlzLm11c2ljID0ge307XHJcbiAgICAgdGhpcy5zcGF0aWFsU291bmRzID0gW107XHJcbiAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/AudioManager.js\n");

/***/ }),

/***/ "./src/lib/EventDispatcher.js":
/*!************************************!*\
  !*** ./src/lib/EventDispatcher.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventDispatcher; });\n/**\n * @private\n * @class EventDispatcher\n */\nclass EventDispatcher {\n  constructor() {\n    this._listeners = {};\n    this.stats = {\n      fired: 0,\n      handled: 0\n    };\n  }\n\n  /**\n   * Add an event listener\n   * @param {String} eventName Name of the event to listen\n   * @param {Function} listener Callback to trigger when the event is fired\n   */\n  addEventListener(eventName, listener) {\n    let listeners = this._listeners;\n    if (listeners[eventName] === undefined) {\n      listeners[eventName] = [];\n    }\n    if (listeners[eventName].indexOf(listener) === -1) {\n      listeners[eventName].push(listener);\n    }\n  }\n\n  /**\n   * Check if an event listener is already added to the list of listeners\n   * @param {String} eventName Name of the event to check\n   * @param {Function} listener Callback for the specified event\n   */\n  hasEventListener(eventName, listener) {\n    return this._listeners[eventName] !== undefined && this._listeners[eventName].indexOf(listener) !== -1;\n  }\n\n  /**\n   * Remove an event listener\n   * @param {String} eventName Name of the event to remove\n   * @param {Function} listener Callback for the specified event\n   */\n  removeEventListener(eventName, listener) {\n    var listenerArray = this._listeners[eventName];\n    if (listenerArray !== undefined) {\n      var index = listenerArray.indexOf(listener);\n      if (index !== -1) {\n        listenerArray.splice(index, 1);\n      }\n    }\n  }\n\n  /**\n   * Dispatch an event\n   * @param {String} eventName Name of the event to dispatch\n   * @param {Data} data to eit\n   */\n  dispatchEvent(eventName, data) {\n    this.stats.fired++;\n    var listenerArray = this._listeners[eventName];\n    if (listenerArray !== undefined) {\n      var array = listenerArray.slice(0);\n      for (var i = 0; i < array.length; i++) {\n        array[i].call(this, data);\n      }\n    }\n  }\n\n  /**\n   * Reset stats counters\n   */\n  resetCounters() {\n    this.stats.fired = this.stats.handled = 0;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL0V2ZW50RGlzcGF0Y2hlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWIvRXZlbnREaXNwYXRjaGVyLmpzP2RlYWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzIEV2ZW50RGlzcGF0Y2hlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudERpc3BhdGNoZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLnN0YXRzID0ge1xuICAgICAgZmlyZWQ6IDAsXG4gICAgICBoYW5kbGVkOiAwXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudCB0byBsaXN0ZW5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQ2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSBldmVudCBpcyBmaXJlZFxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICBpZiAobGlzdGVuZXJzW2V2ZW50TmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICBpZiAobGlzdGVuZXJzW2V2ZW50TmFtZV0uaW5kZXhPZihsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgICBsaXN0ZW5lcnNbZXZlbnROYW1lXS5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gZXZlbnQgbGlzdGVuZXIgaXMgYWxyZWFkeSBhZGRlZCB0byB0aGUgbGlzdCBvZiBsaXN0ZW5lcnNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudCB0byBjaGVja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBDYWxsYmFjayBmb3IgdGhlIHNwZWNpZmllZCBldmVudFxuICAgKi9cbiAgaGFzRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdLmluZGV4T2YobGlzdGVuZXIpICE9PSAtMVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIENhbGxiYWNrIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50XG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICB2YXIgbGlzdGVuZXJBcnJheSA9IHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgIGlmIChsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVyQXJyYXkuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIGxpc3RlbmVyQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggYW4gZXZlbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudCB0byBkaXNwYXRjaFxuICAgKiBAcGFyYW0ge0RhdGF9IGRhdGEgdG8gZWl0XG4gICAqL1xuICBkaXNwYXRjaEV2ZW50KGV2ZW50TmFtZSwgZGF0YSkge1xuICAgIHRoaXMuc3RhdHMuZmlyZWQrKztcblxuICAgIHZhciBsaXN0ZW5lckFycmF5ID0gdGhpcy5fbGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgaWYgKGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGFycmF5ID0gbGlzdGVuZXJBcnJheS5zbGljZSgwKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJheVtpXS5jYWxsKHRoaXMsIGRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBzdGF0cyBjb3VudGVyc1xuICAgKi9cbiAgcmVzZXRDb3VudGVycygpIHtcbiAgICB0aGlzLnN0YXRzLmZpcmVkID0gdGhpcy5zdGF0cy5oYW5kbGVkID0gMDtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/EventDispatcher.js\n");

/***/ }),

/***/ "./src/lib/ParticleSys.js":
/*!********************************!*\
  !*** ./src/lib/ParticleSys.js ***!
  \********************************/
/*! exports provided: ParticleSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ParticleSystem\", function() { return ParticleSystem; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nclass ParticleSystem {\n  constructor() {\n    this.particles = [];\n    this.maxParticles = 100;\n  }\n  createParticle(position, options = {}) {\n    const type = options.type || 'spark';\n    const color = options.color || new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xffaa00);\n    const size = options.size || 0.05;\n    const lifetime = options.lifetime || 2;\n    const velocity = options.velocity || new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0.1, 0);\n    let geometry, material;\n    switch (type) {\n      case 'spark':\n        geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size, 8, 8);\n        material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n          color: color,\n          transparent: true,\n          opacity: 1\n        });\n        break;\n      case 'smoke':\n        geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size * 2, 8, 8);\n        material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n          color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0x888888).multiplyScalar(0.3),\n          transparent: true,\n          opacity: 0.3\n        });\n        break;\n      case 'fizzle':\n        geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](size * 3, size * 0.5, size * 3);\n        material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n          color: color,\n          transparent: true,\n          opacity: 0.6\n        });\n        break;\n      case 'flame':\n        geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"ConeGeometry\"](size * 2, size * 0.5, 8, 4);\n        material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n          color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff6600),\n          transparent: true,\n          opacity: 0.8\n        });\n        break;\n      case 'bubble':\n        geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size, 16, 16);\n        material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n          color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0x4a90e2).multiplyScalar(0.3),\n          transparent: true,\n          opacity: 0.4\n        });\n        break;\n      case 'steam':\n        geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size * 3, 8, 8);\n        material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n          color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xcccccc).multiplyScalar(0.2),\n          transparent: true,\n          opacity: 0.5\n        });\n        break;\n      default:\n        geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size, 8, 8);\n        material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n          color: color,\n          transparent: true,\n          opacity: 0.8\n        });\n        break;\n    }\n    const particle = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geometry, material);\n    particle.position.copy(position);\n    particle.userData = {\n      velocity: velocity,\n      lifetime: lifetime,\n      age: 0,\n      type: type,\n      size: size\n    };\n    return particle;\n  }\n  emit(position, options = {}) {\n    if (this.particles.length >= this.maxParticles) return null;\n    const particle = this.createParticle(position, options);\n    this.particles.push(particle);\n    return particle;\n  }\n  update(delta) {\n    for (let i = this.particles.length - 1; i >= 0; i--) {\n      const particle = this.particles[i];\n      particle.userData.age += delta;\n      if (particle.userData.lifetime <= 0) {\n        particle.userData.lifetime = 0.01;\n        particle.visible = false;\n      }\n      if (particle.userData.age >= particle.userData.lifetime) {\n        this.removeParticle(i);\n        continue;\n      }\n      if (!particle.visible) continue;\n      particle.position.addScaledVector(particle.userData.velocity, delta);\n      const progress = particle.userData.age / particle.userData.lifetime;\n      const invProgress = 1 - progress;\n      if (particle.material.opacity !== undefined) {\n        particle.material.opacity *= 0.98;\n      }\n      switch (particle.userData.type) {\n        case 'spark':\n          particle.scale.setScalar(1 + progress * 0.5);\n          break;\n        case 'smoke':\n          particle.position.y += delta * 0.5;\n          particle.scale.setScalar(1 + progress);\n          break;\n        case 'fizzle':\n          particle.rotation.x += delta * 5;\n          particle.scale.setScalar(1 + progress * 2);\n          break;\n        case 'flame':\n          particle.material.opacity = 0.8 * invProgress;\n          particle.scale.setScalar(1 + progress * 0.5);\n          break;\n        case 'bubble':\n          particle.position.y += delta * 2;\n          break;\n        case 'steam':\n          particle.position.y += delta * 1.5;\n          particle.scale.setScalar(1 + progress * 3);\n          break;\n      }\n    }\n  }\n  removeParticle(index) {\n    const particle = this.particles[index];\n    if (particle) {\n      particle.geometry.dispose();\n      particle.material.dispose();\n    }\n    this.particles.splice(index, 1);\n  }\n  addParticles(position, count, options = {}) {\n    const particles = [];\n    for (let i = 0; i < count; i++) {\n      const offset = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]((Math.random() - 0.5) * 0.2, (Math.random() - 0.5) * 0.2, (Math.random() - 0.5) * 0.2);\n      const pos = position.clone().add(offset);\n      const particle = this.emit(pos, options);\n      particles.push(particle);\n    }\n    return particles;\n  }\n  clear() {\n    for (const particle of this.particles) {\n      if (particle) {\n        particle.geometry.dispose();\n        particle.material.dispose();\n      }\n    }\n    this.particles = [];\n  }\n  getActiveCount() {\n    return this.particles.filter(p => p.visible).length;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL1BhcnRpY2xlU3lzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9QYXJ0aWNsZVN5cy5qcz80NjAwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZVN5c3RlbSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnBhcnRpY2xlcyA9IFtdO1xyXG4gICAgdGhpcy5tYXhQYXJ0aWNsZXMgPSAxMDA7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVQYXJ0aWNsZShwb3NpdGlvbiwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlIHx8ICdzcGFyayc7XHJcbiAgICBjb25zdCBjb2xvciA9IG9wdGlvbnMuY29sb3IgfHwgbmV3IFRIUkVFLkNvbG9yKDB4ZmZhYTAwKTtcclxuICAgIGNvbnN0IHNpemUgPSBvcHRpb25zLnNpemUgfHwgMC4wNTtcclxuICAgIGNvbnN0IGxpZmV0aW1lID0gb3B0aW9ucy5saWZldGltZSB8fCAyO1xyXG4gICAgY29uc3QgdmVsb2NpdHkgPSBvcHRpb25zLnZlbG9jaXR5IHx8IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAuMSwgMCk7XHJcblxyXG4gICAgbGV0IGdlb21ldHJ5LCBtYXRlcmlhbDtcclxuXHJcbiAgICBzd2l0Y2godHlwZSkge1xyXG4gICAgICBjYXNlICdzcGFyayc6XHJcbiAgICAgICAgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoc2l6ZSwgOCwgOCk7XHJcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgY29sb3I6IGNvbG9yLFxyXG4gICAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdzbW9rZSc6XHJcbiAgICAgICAgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoc2l6ZSAqIDIsIDgsIDgpO1xyXG4gICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgIGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoMHg4ODg4ODgpLm11bHRpcGx5U2NhbGFyKDAuMyksXHJcbiAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgICAgIG9wYWNpdHk6IDAuM1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnZml6emxlJzpcclxuICAgICAgICBnZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeShzaXplICogMywgc2l6ZSAqIDAuNSwgc2l6ZSAqIDMpO1xyXG4gICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgIGNvbG9yOiBjb2xvcixcclxuICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgICAgICAgb3BhY2l0eTogMC42XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdmbGFtZSc6XHJcbiAgICAgICAgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQ29uZUdlb21ldHJ5KHNpemUgKiAyLCBzaXplICogMC41LCA4LCA0KTtcclxuICAgICAgICBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICBjb2xvcjogbmV3IFRIUkVFLkNvbG9yKDB4ZmY2NjAwKSxcclxuICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgICAgICAgb3BhY2l0eTogMC44XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdidWJibGUnOlxyXG4gICAgICAgIGdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KHNpemUsIDE2LCAxNik7XHJcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgY29sb3I6IG5ldyBUSFJFRS5Db2xvcigweDRhOTBlMikubXVsdGlwbHlTY2FsYXIoMC4zKSxcclxuICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgICAgICAgb3BhY2l0eTogMC40XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdzdGVhbSc6XHJcbiAgICAgICAgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoc2l6ZSAqIDMsIDgsIDgpO1xyXG4gICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgICAgIGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoMHhjY2NjY2MpLm11bHRpcGx5U2NhbGFyKDAuMiksXHJcbiAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgICAgIG9wYWNpdHk6IDAuNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBnZW9tZXRyeSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeShzaXplLCA4LCA4KTtcclxuICAgICAgICBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgICBjb2xvcjogY29sb3IsXHJcbiAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgICAgIG9wYWNpdHk6IDAuOFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBhcnRpY2xlID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgIHBhcnRpY2xlLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xyXG4gICAgcGFydGljbGUudXNlckRhdGEgPSB7XHJcbiAgICAgIHZlbG9jaXR5OiB2ZWxvY2l0eSxcclxuICAgICAgbGlmZXRpbWU6IGxpZmV0aW1lLFxyXG4gICAgICBhZ2U6IDAsXHJcbiAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgIHNpemU6IHNpemVcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHBhcnRpY2xlO1xyXG4gIH1cclxuXHJcbiAgZW1pdChwb3NpdGlvbiwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBpZiAodGhpcy5wYXJ0aWNsZXMubGVuZ3RoID49IHRoaXMubWF4UGFydGljbGVzKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICBjb25zdCBwYXJ0aWNsZSA9IHRoaXMuY3JlYXRlUGFydGljbGUocG9zaXRpb24sIG9wdGlvbnMpO1xyXG4gICAgdGhpcy5wYXJ0aWNsZXMucHVzaChwYXJ0aWNsZSk7XHJcblxyXG4gICAgcmV0dXJuIHBhcnRpY2xlO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKGRlbHRhKSB7XHJcbiAgICBmb3IgKGxldCBpID0gdGhpcy5wYXJ0aWNsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgY29uc3QgcGFydGljbGUgPSB0aGlzLnBhcnRpY2xlc1tpXTtcclxuXHJcbiAgICAgIHBhcnRpY2xlLnVzZXJEYXRhLmFnZSArPSBkZWx0YTtcclxuXHJcbiAgICAgIGlmIChwYXJ0aWNsZS51c2VyRGF0YS5saWZldGltZSA8PSAwKSB7XHJcbiAgICAgICAgcGFydGljbGUudXNlckRhdGEubGlmZXRpbWUgPSAwLjAxO1xyXG4gICAgICAgIHBhcnRpY2xlLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcnRpY2xlLnVzZXJEYXRhLmFnZSA+PSBwYXJ0aWNsZS51c2VyRGF0YS5saWZldGltZSkge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlUGFydGljbGUoaSk7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghcGFydGljbGUudmlzaWJsZSkgY29udGludWU7XHJcblxyXG4gICAgICBwYXJ0aWNsZS5wb3NpdGlvbi5hZGRTY2FsZWRWZWN0b3IocGFydGljbGUudXNlckRhdGEudmVsb2NpdHksIGRlbHRhKTtcclxuXHJcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gcGFydGljbGUudXNlckRhdGEuYWdlIC8gcGFydGljbGUudXNlckRhdGEubGlmZXRpbWU7XHJcbiAgICAgIGNvbnN0IGludlByb2dyZXNzID0gMSAtIHByb2dyZXNzO1xyXG5cclxuICAgICAgaWYgKHBhcnRpY2xlLm1hdGVyaWFsLm9wYWNpdHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHBhcnRpY2xlLm1hdGVyaWFsLm9wYWNpdHkgKj0gMC45ODtcclxuICAgICAgfVxyXG5cclxuICAgICAgc3dpdGNoKHBhcnRpY2xlLnVzZXJEYXRhLnR5cGUpIHtcclxuICAgICAgICBjYXNlICdzcGFyayc6XHJcbiAgICAgICAgICBwYXJ0aWNsZS5zY2FsZS5zZXRTY2FsYXIoMSArIHByb2dyZXNzICogMC41KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdzbW9rZSc6XHJcbiAgICAgICAgICBwYXJ0aWNsZS5wb3NpdGlvbi55ICs9IGRlbHRhICogMC41O1xyXG4gICAgICAgICAgcGFydGljbGUuc2NhbGUuc2V0U2NhbGFyKDEgKyBwcm9ncmVzcyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSAnZml6emxlJzpcclxuICAgICAgICAgIHBhcnRpY2xlLnJvdGF0aW9uLnggKz0gZGVsdGEgKiA1O1xyXG4gICAgICAgICAgcGFydGljbGUuc2NhbGUuc2V0U2NhbGFyKDEgKyBwcm9ncmVzcyAqIDIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ2ZsYW1lJzpcclxuICAgICAgICAgIHBhcnRpY2xlLm1hdGVyaWFsLm9wYWNpdHkgPSAwLjggKiBpbnZQcm9ncmVzcztcclxuICAgICAgICAgIHBhcnRpY2xlLnNjYWxlLnNldFNjYWxhcigxICsgcHJvZ3Jlc3MgKiAwLjUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgJ2J1YmJsZSc6XHJcbiAgICAgICAgICBwYXJ0aWNsZS5wb3NpdGlvbi55ICs9IGRlbHRhICogMjtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdzdGVhbSc6XHJcbiAgICAgICAgICBwYXJ0aWNsZS5wb3NpdGlvbi55ICs9IGRlbHRhICogMS41O1xyXG4gICAgICAgICAgcGFydGljbGUuc2NhbGUuc2V0U2NhbGFyKDEgKyBwcm9ncmVzcyAqIDMpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZVBhcnRpY2xlKGluZGV4KSB7XHJcbiAgICBjb25zdCBwYXJ0aWNsZSA9IHRoaXMucGFydGljbGVzW2luZGV4XTtcclxuICAgIGlmIChwYXJ0aWNsZSkge1xyXG4gICAgICBwYXJ0aWNsZS5nZW9tZXRyeS5kaXNwb3NlKCk7XHJcbiAgICAgIHBhcnRpY2xlLm1hdGVyaWFsLmRpc3Bvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnBhcnRpY2xlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH1cclxuXHJcbiAgYWRkUGFydGljbGVzKHBvc2l0aW9uLCBjb3VudCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBjb25zdCBwYXJ0aWNsZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICBjb25zdCBvZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMyhcclxuICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjIsXHJcbiAgICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4yLFxyXG4gICAgICAgIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMlxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgcG9zID0gcG9zaXRpb24uY2xvbmUoKS5hZGQob2Zmc2V0KTtcclxuICAgICAgY29uc3QgcGFydGljbGUgPSB0aGlzLmVtaXQocG9zLCBvcHRpb25zKTtcclxuICAgICAgcGFydGljbGVzLnB1c2gocGFydGljbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwYXJ0aWNsZXM7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIGZvciAoY29uc3QgcGFydGljbGUgb2YgdGhpcy5wYXJ0aWNsZXMpIHtcclxuICAgICAgaWYgKHBhcnRpY2xlKSB7XHJcbiAgICAgICAgcGFydGljbGUuZ2VvbWV0cnkuZGlzcG9zZSgpO1xyXG4gICAgICAgIHBhcnRpY2xlLm1hdGVyaWFsLmRpc3Bvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucGFydGljbGVzID0gW107XHJcbiAgfVxyXG5cclxuICBnZXRBY3RpdmVDb3VudCgpIHtcclxuICAgIHJldHVybiB0aGlzLnBhcnRpY2xlcy5maWx0ZXIocCA9PiBwLnZpc2libGUpLmxlbmd0aDtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/ParticleSys.js\n");

/***/ }),

/***/ "./src/lib/RayControl.js":
/*!*******************************!*\
  !*** ./src/lib/RayControl.js ***!
  \*******************************/
/*! exports provided: rayMaterial, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rayMaterial\", function() { return rayMaterial; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RayControl; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _EventDispatcher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventDispatcher.js */ \"./src/lib/EventDispatcher.js\");\n\n\nvar tempMatrix = new three__WEBPACK_IMPORTED_MODULE_0__[\"Matrix4\"]();\nvar rayMaterial;\nconst validStateController = [\"primary\", \"secondary\", \"both\", \"left\", \"right\"];\nclass RayControl extends _EventDispatcher_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  enable() {\n    this.setLineStyle(this.previousLineStyle);\n    this.enabled = true;\n  }\n  _sort() {\n    this.currentStates = this.currentStates.sort((a, b) => {\n      let pa = a.order || 0;\n      let pb = b.order || 0;\n      return pa - pb;\n    });\n  }\n  disable() {\n    this.lineBasic.visible = this.line0.visible = false;\n    this.enabled = false;\n    this.controllers.forEach(controller => controller.active = false);\n  }\n  changeHandedness(primary) {\n    if (primary !== this.primary) {\n      this.primary = primary;\n      this.secondary = primary === \"right\" ? \"left\" : \"right\";\n      this.dispatchEvent(\"handednessChanged\", {\n        primary: this.primary,\n        secondary: this.secondary\n      });\n    }\n  }\n  addState(name, state, activate) {\n    if (this.states[name]) {\n      console.error(`RayControl state '${name}' already exist, please use a different name.`);\n      return;\n    }\n    state.name = name;\n    if (typeof state.raycaster === \"undefined\") {\n      state.raycaster = true;\n    }\n    if (typeof state.controller === \"undefined\") {\n      state.controller = \"primary\";\n    } else if (!validStateController.includes(state.controller)) {\n      console.warn(\"Invalid controller selector:\", state.controller);\n      state.controller = \"primary\";\n    }\n    this.states[name] = state;\n    if (activate === true) {\n      this.currentStates.push(state);\n    }\n    return state;\n  }\n  activateState(name) {\n    if (this.states[name]) {\n      this.currentStates.push(this.states[name]);\n      this._sort();\n    }\n  }\n  deactivateAll(name) {\n    this.currentStates = [];\n    this.controllers.forEach(c => {\n      this.currentStates.forEach(s => {\n        if (c.intersections[s.name]) {\n          c.intersections[s.name] = null;\n        }\n      });\n    });\n  }\n  deactivateState(name) {\n    this.currentStates.splice(this.currentStates.indexOf(name), 1);\n    this.controllers.forEach(c => {\n      if (c.intersections[name]) {\n        c.intersections[name] = null;\n      }\n    });\n    this._sort();\n  }\n  addController(controller, inputSource) {\n    let controllerData = {\n      controller: controller,\n      inputSource: inputSource,\n      active: false,\n      stateHit: {},\n      intersections: {},\n      currentIntersection: null,\n      hit: false\n    };\n    this.controllers.push(controllerData);\n    if (this.matchController(controllerData, \"primary\")) {\n      controller.add(this.raycasterContext);\n    }\n    this.dispatchEvent(\"controllerConnected\", controllerData);\n  }\n  removeController(controller) {\n    const index = this.controllers.findIndex(controllerData => controllerData.controller === controller);\n    const controllerData = this.controllers.find(controllerData => controllerData.controller === controller);\n    this.controllers.splice(index, 1);\n    this.dispatchEvent(\"controllerDisconnected\", controllerData);\n  }\n  constructor(ctx, primary) {\n    super();\n    this.ctx = ctx;\n    if (typeof primary === \"undefined\") {\n      this.primary = \"right\";\n      this.secondary = \"left\";\n    } else {\n      this.primary = primary;\n      this.secondary = primary === \"right\" ? \"left\" : \"right\";\n    }\n    this.controllers = [];\n    this.previousLineStyle = 'pretty';\n    this.enabled = true;\n    this.raycaster = new three__WEBPACK_IMPORTED_MODULE_0__[\"Raycaster\"]();\n    this.states = {};\n    this.currentStates = [];\n    var line = ctx.assets['teleport_model'].scene.getObjectByName('beam');\n    ctx.assets['beam_tex'].wrapT = three__WEBPACK_IMPORTED_MODULE_0__[\"RepeatWrapping\"];\n    ctx.assets['beam_tex'].wrapS = three__WEBPACK_IMPORTED_MODULE_0__[\"RepeatWrapping\"];\n    rayMaterial = line.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: {\n        time: {\n          value: 0\n        },\n        active: {\n          value: 0\n        },\n        tex: {\n          value: ctx.assets['beam_tex']\n        }\n      },\n      vertexShader: ctx.shaders.basic_vert,\n      fragmentShader: ctx.shaders.beam_frag,\n      blending: three__WEBPACK_IMPORTED_MODULE_0__[\"AdditiveBlending\"],\n      transparent: true\n    });\n    line.renderOrder = 10;\n    line.name = 'line';\n    this.rayLength = 5;\n    line.scale.z = this.rayLength;\n    this.line0 = line.clone();\n    this.line0.visible = true;\n    this.raycasterContext = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n    this.raycasterContext.add(this.line0);\n    this.raycasterContext.name = 'raycasterContext';\n    var geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"BufferGeometry\"]().setFromPoints([new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0), new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, -1)]);\n    this.lineBasic = new three__WEBPACK_IMPORTED_MODULE_0__[\"Line\"](geometry);\n    this.lineBasic.name = 'line';\n    this.lineBasic.scale.z = 5;\n    this.lineBasic.visible = false;\n    this.raycasterContext.add(this.lineBasic);\n  }\n  setLineStyle(lineStyle) {\n    const basic = lineStyle === 'basic';\n    this.lineBasic.visible = basic;\n    this.line0.visible = !basic;\n    this.previousLineStyle = lineStyle;\n  }\n\n  /*\n  selector could be: left, right, both, primary, secondary\n  */\n  matchController(controllerData, selector) {\n    const handedness = controllerData.inputSource.handedness;\n    return selector === handedness || selector === \"both\" && (handedness === \"right\" || handedness === \"left\") || selector === \"primary\" && this.primary === handedness || selector === \"secondary\" && this.secondary === handedness;\n  }\n  onSelectStart(evt) {\n    if (!this.enabled) {\n      return;\n    }\n    let controller = evt.target;\n    let controllerData = this.controllers.find(c => c.controller === controller);\n    if (controllerData) {\n      controllerData.active = true;\n      if (controllerData.currentIntersection) {\n        const state = controllerData.currentIntersection.state;\n        if (state.onSelectStart) {\n          state.onSelectStart(controllerData.currentIntersection.intersection, controllerData.controller);\n        }\n      }\n\n      // Check no raycaster states\n      this.currentStates.forEach(state => {\n        if (state.onSelectStart && !state.raycaster) {\n          state.onSelectStart(controllerData.intersections[state.name], controller);\n        }\n      });\n    }\n  }\n  execute(ctx, delta, time) {\n    if (!this.enabled || this.currentStates.length === 0) {\n      return;\n    }\n    rayMaterial.uniforms.time.value = time;\n    let firstHit = false;\n    var stateIntersections = {};\n    for (var c = 0; c < this.controllers.length; c++) {\n      let controllerData = this.controllers[c];\n      for (var i = 0; i < this.currentStates.length; i++) {\n        let state = this.currentStates[i];\n        if (!state.raycaster) {\n          continue;\n        }\n\n        // Check if this controller should be active on this state\n        if (!this.matchController(controllerData, state.controller)) {\n          continue;\n        }\n        let controller = controllerData.controller;\n        let active = controllerData.active;\n        let intersections = this.getIntersections(controller, state.colliderMesh);\n        if (intersections.length > 0) {\n          // Use just the closest object\n          controllerData.intersections[state.name] = intersections[0];\n          controllerData.stateHit[state.name] = true;\n        } else {\n          controllerData.intersections[state.name] = null;\n        }\n      }\n    }\n    this.line0.scale.z = Math.min(this.rayLength, 1);\n    this.lineBasic.scale.z = Math.min(this.rayLength, 1);\n\n    // For each controller, find the closest intersection from all the states\n    for (var c = 0; c < this.controllers.length; c++) {\n      let controllerData = this.controllers[c];\n      let intersections = Object.entries(controllerData.intersections).filter(i => i[1] !== null);\n      if (intersections.length > 0) {\n        intersections.sort((a, b) => {\n          return a[1].distance - b[1].distance;\n        });\n        const intersectionData = intersections[0];\n        const intersection = intersectionData[1];\n        const state = this.states[intersectionData[0]];\n        controllerData.prevIntersection = controllerData.currentIntersection;\n        controllerData.currentIntersection = {\n          state,\n          intersection\n        };\n        if (state.lineStyleOnIntersection) {\n          this.setLineStyle(state.lineStyleOnIntersection);\n        } else {\n          this.setLineStyle('advanced');\n        }\n        state.onHover && state.onHover(intersection, controllerData.active, controllerData.controller);\n        this.line0.scale.z = Math.min(intersection.distance, 1);\n        this.lineBasic.scale.z = Math.min(intersection.distance, 1);\n      } else {\n        controllerData.currentIntersection = null;\n      }\n    }\n\n    // Handle onHoverLeave\n    for (var c = 0; c < this.controllers.length; c++) {\n      let controllerData = this.controllers[c];\n      if (!controllerData.prevIntersection) {\n        continue;\n      }\n\n      // If we can't find the previous intersection currently enabled, we should emit hoverLeave\n      if (!this.controllers.find(c => {\n        let prev = controllerData.prevIntersection;\n        let current = c.currentIntersection;\n        return current && prev.state.name === current.state.name && prev.intersection.object === current.intersection.object;\n      })) {\n        controllerData.prevIntersection.state.onHoverLeave(controllerData.prevIntersection.intersection, false, controllerData.controller);\n        controllerData.prevIntersection = null;\n      }\n    }\n  }\n  getIntersections(controller, colliderMesh) {\n    let raycasterContext = controller.getObjectByName('raycasterContext');\n    if (!raycasterContext) {\n      console.warn('No raycasterContext found for this controller', controller);\n      return [];\n    }\n    tempMatrix.identity().extractRotation(raycasterContext.matrixWorld);\n    this.raycaster.ray.origin.setFromMatrixPosition(raycasterContext.matrixWorld);\n    this.raycaster.ray.direction.set(0, 0, -1).applyMatrix4(tempMatrix);\n    if (Array.isArray(colliderMesh)) {\n      return this.raycaster.intersectObjects(colliderMesh, true);\n    } else {\n      return this.raycaster.intersectObject(colliderMesh, true);\n    }\n  }\n  onSelectEnd(evt) {\n    if (!this.enabled) {\n      return;\n    }\n    let controllerData = this.controllers.find(c => c.controller === evt.target);\n    if (!controllerData || !controllerData.active) {\n      return;\n    }\n    if (controllerData) {\n      if (controllerData.currentIntersection) {\n        const state = controllerData.currentIntersection.state;\n        if (state.onSelectEnd) {\n          state.onSelectEnd(controllerData.currentIntersection.intersection, controllerData.controller);\n        }\n      }\n\n      // Check no raycaster states\n      this.currentStates.forEach(state => {\n        if (state.onSelectEnd && !state.raycaster) {\n          state.onSelectEnd(null, controllerData.controller);\n        }\n      });\n    }\n    controllerData.active = false;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL1JheUNvbnRyb2wuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL1JheUNvbnRyb2wuanM/OWIyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVyIGZyb20gJy4vRXZlbnREaXNwYXRjaGVyLmpzJztcblxudmFyIHRlbXBNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xuZXhwb3J0IHZhciByYXlNYXRlcmlhbDtcbmNvbnN0IHZhbGlkU3RhdGVDb250cm9sbGVyID0gW1xuICBcInByaW1hcnlcIixcbiAgXCJzZWNvbmRhcnlcIixcbiAgXCJib3RoXCIsXG4gIFwibGVmdFwiLFxuICBcInJpZ2h0XCJcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJheUNvbnRyb2wgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xuICBlbmFibGUoKSB7XG4gICAgdGhpcy5zZXRMaW5lU3R5bGUodGhpcy5wcmV2aW91c0xpbmVTdHlsZSk7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIF9zb3J0KCkge1xuICAgIHRoaXMuY3VycmVudFN0YXRlcyA9IHRoaXMuY3VycmVudFN0YXRlcy5zb3J0KChhLGIpID0+IHtcbiAgICAgIGxldCBwYSA9IGEub3JkZXIgfHwgMDtcbiAgICAgIGxldCBwYiA9IGIub3JkZXIgfHwgMDtcbiAgICAgIHJldHVybiBwYSAtIHBiO1xuICAgIH0pO1xuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLmxpbmVCYXNpYy52aXNpYmxlID0gdGhpcy5saW5lMC52aXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5jb250cm9sbGVycy5mb3JFYWNoKGNvbnRyb2xsZXIgPT4gY29udHJvbGxlci5hY3RpdmUgPSBmYWxzZSk7XG4gIH1cblxuICBjaGFuZ2VIYW5kZWRuZXNzKHByaW1hcnkpIHtcbiAgICBpZiAocHJpbWFyeSAhPT0gdGhpcy5wcmltYXJ5KSB7XG4gICAgICB0aGlzLnByaW1hcnkgPSBwcmltYXJ5O1xuICAgICAgdGhpcy5zZWNvbmRhcnkgPSBwcmltYXJ5ID09PSBcInJpZ2h0XCIgPyBcImxlZnRcIiA6IFwicmlnaHRcIjtcblxuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFwiaGFuZGVkbmVzc0NoYW5nZWRcIiwge3ByaW1hcnk6IHRoaXMucHJpbWFyeSwgc2Vjb25kYXJ5OiB0aGlzLnNlY29uZGFyeX0pO1xuICAgIH1cbiAgfVxuXG4gIGFkZFN0YXRlKG5hbWUsIHN0YXRlLCBhY3RpdmF0ZSkge1xuICAgIGlmICh0aGlzLnN0YXRlc1tuYW1lXSkge1xuICAgICAgY29uc29sZS5lcnJvcihgUmF5Q29udHJvbCBzdGF0ZSAnJHtuYW1lfScgYWxyZWFkeSBleGlzdCwgcGxlYXNlIHVzZSBhIGRpZmZlcmVudCBuYW1lLmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0YXRlLm5hbWUgPSBuYW1lO1xuXG4gICAgaWYgKHR5cGVvZiBzdGF0ZS5yYXljYXN0ZXIgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHN0YXRlLnJheWNhc3RlciA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzdGF0ZS5jb250cm9sbGVyID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBzdGF0ZS5jb250cm9sbGVyID0gXCJwcmltYXJ5XCI7XG4gICAgfSBlbHNlIGlmICghdmFsaWRTdGF0ZUNvbnRyb2xsZXIuaW5jbHVkZXMoc3RhdGUuY29udHJvbGxlcikpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgY29udHJvbGxlciBzZWxlY3RvcjpcIiwgc3RhdGUuY29udHJvbGxlcik7XG4gICAgICBzdGF0ZS5jb250cm9sbGVyID0gXCJwcmltYXJ5XCI7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZXNbbmFtZV0gPSBzdGF0ZTtcblxuICAgIGlmIChhY3RpdmF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5jdXJyZW50U3RhdGVzLnB1c2goc3RhdGUpO1xuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIGFjdGl2YXRlU3RhdGUobmFtZSkge1xuICAgIGlmICh0aGlzLnN0YXRlc1tuYW1lXSkge1xuICAgICAgdGhpcy5jdXJyZW50U3RhdGVzLnB1c2godGhpcy5zdGF0ZXNbbmFtZV0pO1xuICAgICAgdGhpcy5fc29ydCgpO1xuICAgIH1cbiAgfVxuXG4gIGRlYWN0aXZhdGVBbGwobmFtZSkge1xuICAgIHRoaXMuY3VycmVudFN0YXRlcyA9IFtdO1xuICAgIHRoaXMuY29udHJvbGxlcnMuZm9yRWFjaChjID0+IHtcbiAgICAgIHRoaXMuY3VycmVudFN0YXRlcy5mb3JFYWNoKHMgPT4ge1xuICAgICAgICBpZiAoYy5pbnRlcnNlY3Rpb25zW3MubmFtZV0pIHtcbiAgICAgICAgICBjLmludGVyc2VjdGlvbnNbcy5uYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZGVhY3RpdmF0ZVN0YXRlKG5hbWUpIHtcbiAgICB0aGlzLmN1cnJlbnRTdGF0ZXMuc3BsaWNlKHRoaXMuY3VycmVudFN0YXRlcy5pbmRleE9mKG5hbWUpLCAxKTtcbiAgICB0aGlzLmNvbnRyb2xsZXJzLmZvckVhY2goYyA9PiB7XG4gICAgICBpZiAoYy5pbnRlcnNlY3Rpb25zW25hbWVdKSB7XG4gICAgICAgIGMuaW50ZXJzZWN0aW9uc1tuYW1lXSA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zb3J0KCk7XG4gIH1cblxuICBhZGRDb250cm9sbGVyKGNvbnRyb2xsZXIsIGlucHV0U291cmNlKSB7XG4gICAgbGV0IGNvbnRyb2xsZXJEYXRhID0ge1xuICAgICAgY29udHJvbGxlcjogY29udHJvbGxlcixcbiAgICAgIGlucHV0U291cmNlOiBpbnB1dFNvdXJjZSxcbiAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICBzdGF0ZUhpdDoge30sXG4gICAgICBpbnRlcnNlY3Rpb25zOiB7fSxcbiAgICAgIGN1cnJlbnRJbnRlcnNlY3Rpb246IG51bGwsXG4gICAgICBoaXQ6IGZhbHNlXG4gICAgfTtcblxuICAgIHRoaXMuY29udHJvbGxlcnMucHVzaChjb250cm9sbGVyRGF0YSk7XG5cbiAgICBpZiAodGhpcy5tYXRjaENvbnRyb2xsZXIoY29udHJvbGxlckRhdGEsIFwicHJpbWFyeVwiKSkge1xuICAgICAgY29udHJvbGxlci5hZGQoIHRoaXMucmF5Y2FzdGVyQ29udGV4dCApO1xuICAgIH1cblxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcImNvbnRyb2xsZXJDb25uZWN0ZWRcIiwgY29udHJvbGxlckRhdGEpO1xuICB9XG5cbiAgcmVtb3ZlQ29udHJvbGxlcihjb250cm9sbGVyKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmNvbnRyb2xsZXJzLmZpbmRJbmRleChjb250cm9sbGVyRGF0YSA9PiBjb250cm9sbGVyRGF0YS5jb250cm9sbGVyID09PSBjb250cm9sbGVyKTtcbiAgICBjb25zdCBjb250cm9sbGVyRGF0YSA9IHRoaXMuY29udHJvbGxlcnMuZmluZChjb250cm9sbGVyRGF0YSA9PiBjb250cm9sbGVyRGF0YS5jb250cm9sbGVyID09PSBjb250cm9sbGVyKVxuICAgIHRoaXMuY29udHJvbGxlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXCJjb250cm9sbGVyRGlzY29ubmVjdGVkXCIsIGNvbnRyb2xsZXJEYXRhKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGN0eCwgcHJpbWFyeSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jdHggPSBjdHg7XG5cbiAgICBpZiAodHlwZW9mIHByaW1hcnkgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMucHJpbWFyeSA9IFwicmlnaHRcIjtcbiAgICAgIHRoaXMuc2Vjb25kYXJ5ID0gXCJsZWZ0XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJpbWFyeSA9IHByaW1hcnk7XG4gICAgICB0aGlzLnNlY29uZGFyeSA9IHByaW1hcnkgPT09IFwicmlnaHRcIiA/IFwibGVmdFwiIDogXCJyaWdodFwiO1xuICAgIH1cblxuICAgIHRoaXMuY29udHJvbGxlcnMgPSBbXTtcblxuICAgIHRoaXMucHJldmlvdXNMaW5lU3R5bGUgPSAncHJldHR5JztcbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMucmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xuICAgIHRoaXMuc3RhdGVzID0ge307XG4gICAgdGhpcy5jdXJyZW50U3RhdGVzID0gW107XG5cbiAgICB2YXIgbGluZSA9IGN0eC5hc3NldHNbJ3RlbGVwb3J0X21vZGVsJ10uc2NlbmUuZ2V0T2JqZWN0QnlOYW1lKCdiZWFtJyk7XG5cbiAgICBjdHguYXNzZXRzWydiZWFtX3RleCddLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gICAgY3R4LmFzc2V0c1snYmVhbV90ZXgnXS53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuICAgIHJheU1hdGVyaWFsID0gbGluZS5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3Jtczoge1xuICAgICAgICB0aW1lOiB7dmFsdWU6IDB9LFxuICAgICAgICBhY3RpdmU6IHt2YWx1ZTogMH0sXG4gICAgICAgIHRleDoge3ZhbHVlOiBjdHguYXNzZXRzWydiZWFtX3RleCddfVxuICAgICAgfSxcbiAgICAgIHZlcnRleFNoYWRlcjogY3R4LnNoYWRlcnMuYmFzaWNfdmVydCxcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBjdHguc2hhZGVycy5iZWFtX2ZyYWcsXG4gICAgICBibGVuZGluZzogVEhSRUUuQWRkaXRpdmVCbGVuZGluZyxcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlXG4gICAgfSk7XG5cbiAgICBsaW5lLnJlbmRlck9yZGVyID0gMTA7XG5cbiAgICBsaW5lLm5hbWUgPSAnbGluZSc7XG4gICAgdGhpcy5yYXlMZW5ndGggPSA1O1xuICAgIGxpbmUuc2NhbGUueiA9IHRoaXMucmF5TGVuZ3RoO1xuXG4gICAgdGhpcy5saW5lMCA9IGxpbmUuY2xvbmUoKTtcbiAgICB0aGlzLmxpbmUwLnZpc2libGUgPSB0cnVlO1xuXG4gICAgdGhpcy5yYXljYXN0ZXJDb250ZXh0ID0gbmV3IFRIUkVFLkdyb3VwKCk7XG4gICAgdGhpcy5yYXljYXN0ZXJDb250ZXh0LmFkZCh0aGlzLmxpbmUwKTtcbiAgICB0aGlzLnJheWNhc3RlckNvbnRleHQubmFtZSA9ICdyYXljYXN0ZXJDb250ZXh0JztcblxuICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpLnNldEZyb21Qb2ludHMoIFsgbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDAsIDAgKSwgbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDAsIC0gMSApIF0gKTtcblxuICAgIHRoaXMubGluZUJhc2ljID0gbmV3IFRIUkVFLkxpbmUoIGdlb21ldHJ5ICk7XG4gICAgdGhpcy5saW5lQmFzaWMubmFtZSA9ICdsaW5lJztcbiAgICB0aGlzLmxpbmVCYXNpYy5zY2FsZS56ID0gNTtcbiAgICB0aGlzLmxpbmVCYXNpYy52aXNpYmxlID0gZmFsc2U7XG4gICAgdGhpcy5yYXljYXN0ZXJDb250ZXh0LmFkZCh0aGlzLmxpbmVCYXNpYyk7XG4gIH1cblxuICBzZXRMaW5lU3R5bGUobGluZVN0eWxlKSB7XG4gICAgY29uc3QgYmFzaWMgPSBsaW5lU3R5bGUgPT09ICdiYXNpYyc7XG4gICAgdGhpcy5saW5lQmFzaWMudmlzaWJsZSA9IGJhc2ljO1xuICAgIHRoaXMubGluZTAudmlzaWJsZSA9ICFiYXNpYztcbiAgICB0aGlzLnByZXZpb3VzTGluZVN0eWxlID0gbGluZVN0eWxlO1xuICB9XG5cbiAgLypcbiAgc2VsZWN0b3IgY291bGQgYmU6IGxlZnQsIHJpZ2h0LCBib3RoLCBwcmltYXJ5LCBzZWNvbmRhcnlcbiAgKi9cbiAgbWF0Y2hDb250cm9sbGVyKGNvbnRyb2xsZXJEYXRhLCBzZWxlY3Rvcikge1xuICAgIGNvbnN0IGhhbmRlZG5lc3MgPSBjb250cm9sbGVyRGF0YS5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIChzZWxlY3RvciA9PT0gaGFuZGVkbmVzcykgIHx8XG4gICAgICAoc2VsZWN0b3IgPT09IFwiYm90aFwiICYmIChoYW5kZWRuZXNzID09PSBcInJpZ2h0XCIgfHwgaGFuZGVkbmVzcyA9PT0gXCJsZWZ0XCIpKSB8fFxuICAgICAgKHNlbGVjdG9yID09PSBcInByaW1hcnlcIiAmJiB0aGlzLnByaW1hcnkgPT09IGhhbmRlZG5lc3MpIHx8XG4gICAgICAoc2VsZWN0b3IgPT09IFwic2Vjb25kYXJ5XCIgJiYgdGhpcy5zZWNvbmRhcnkgPT09IGhhbmRlZG5lc3MpXG4gICAgKTtcbiAgfVxuXG4gIG9uU2VsZWN0U3RhcnQoZXZ0KSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHsgcmV0dXJuOyB9XG5cbiAgICBsZXQgY29udHJvbGxlciA9IGV2dC50YXJnZXQ7XG4gICAgbGV0IGNvbnRyb2xsZXJEYXRhID0gdGhpcy5jb250cm9sbGVycy5maW5kKGMgPT4gYy5jb250cm9sbGVyID09PSBjb250cm9sbGVyKTtcbiAgICBpZiAoY29udHJvbGxlckRhdGEpIHtcbiAgICAgIGNvbnRyb2xsZXJEYXRhLmFjdGl2ZSA9IHRydWU7XG4gICAgICBpZiAoY29udHJvbGxlckRhdGEuY3VycmVudEludGVyc2VjdGlvbikge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGNvbnRyb2xsZXJEYXRhLmN1cnJlbnRJbnRlcnNlY3Rpb24uc3RhdGU7XG4gICAgICAgIGlmIChzdGF0ZS5vblNlbGVjdFN0YXJ0KSB7XG4gICAgICAgICAgc3RhdGUub25TZWxlY3RTdGFydChjb250cm9sbGVyRGF0YS5jdXJyZW50SW50ZXJzZWN0aW9uLmludGVyc2VjdGlvbiwgY29udHJvbGxlckRhdGEuY29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgbm8gcmF5Y2FzdGVyIHN0YXRlc1xuICAgICAgdGhpcy5jdXJyZW50U3RhdGVzLmZvckVhY2goc3RhdGUgPT4ge1xuICAgICAgICBpZiAoc3RhdGUub25TZWxlY3RTdGFydCAmJiAhc3RhdGUucmF5Y2FzdGVyKSB7XG4gICAgICAgICAgc3RhdGUub25TZWxlY3RTdGFydChjb250cm9sbGVyRGF0YS5pbnRlcnNlY3Rpb25zW3N0YXRlLm5hbWVdLCBjb250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZXhlY3V0ZShjdHgsIGRlbHRhLCB0aW1lKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQgfHwgdGhpcy5jdXJyZW50U3RhdGVzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH1cblxuICAgIHJheU1hdGVyaWFsLnVuaWZvcm1zLnRpbWUudmFsdWUgPSB0aW1lO1xuXG4gICAgbGV0IGZpcnN0SGl0ID0gZmFsc2U7XG5cbiAgICB2YXIgc3RhdGVJbnRlcnNlY3Rpb25zID0ge307XG4gICAgZm9yICh2YXIgYyA9IDA7IGMgPCB0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aDsgYysrKSB7XG4gICAgICBsZXQgY29udHJvbGxlckRhdGEgPSB0aGlzLmNvbnRyb2xsZXJzW2NdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY3VycmVudFN0YXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLmN1cnJlbnRTdGF0ZXNbaV07XG4gICAgICAgIGlmICghc3RhdGUucmF5Y2FzdGVyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGNvbnRyb2xsZXIgc2hvdWxkIGJlIGFjdGl2ZSBvbiB0aGlzIHN0YXRlXG4gICAgICAgIGlmICghdGhpcy5tYXRjaENvbnRyb2xsZXIoY29udHJvbGxlckRhdGEsIHN0YXRlLmNvbnRyb2xsZXIpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29udHJvbGxlciA9IGNvbnRyb2xsZXJEYXRhLmNvbnRyb2xsZXI7XG4gICAgICAgIGxldCBhY3RpdmUgPSBjb250cm9sbGVyRGF0YS5hY3RpdmU7XG4gICAgICAgIGxldCBpbnRlcnNlY3Rpb25zID0gdGhpcy5nZXRJbnRlcnNlY3Rpb25zKGNvbnRyb2xsZXIsIHN0YXRlLmNvbGxpZGVyTWVzaCk7XG5cbiAgICAgICAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIFVzZSBqdXN0IHRoZSBjbG9zZXN0IG9iamVjdFxuICAgICAgICAgIGNvbnRyb2xsZXJEYXRhLmludGVyc2VjdGlvbnNbc3RhdGUubmFtZV0gPSBpbnRlcnNlY3Rpb25zWzBdO1xuICAgICAgICAgIGNvbnRyb2xsZXJEYXRhLnN0YXRlSGl0W3N0YXRlLm5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250cm9sbGVyRGF0YS5pbnRlcnNlY3Rpb25zW3N0YXRlLm5hbWVdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubGluZTAuc2NhbGUueiA9IE1hdGgubWluKHRoaXMucmF5TGVuZ3RoLCAxKTtcbiAgICB0aGlzLmxpbmVCYXNpYy5zY2FsZS56ID0gTWF0aC5taW4odGhpcy5yYXlMZW5ndGgsIDEpO1xuXG4gICAgLy8gRm9yIGVhY2ggY29udHJvbGxlciwgZmluZCB0aGUgY2xvc2VzdCBpbnRlcnNlY3Rpb24gZnJvbSBhbGwgdGhlIHN0YXRlc1xuICAgIGZvciAodmFyIGMgPSAwOyBjIDwgdGhpcy5jb250cm9sbGVycy5sZW5ndGg7IGMrKykge1xuICAgICAgbGV0IGNvbnRyb2xsZXJEYXRhID0gdGhpcy5jb250cm9sbGVyc1tjXTtcbiAgICAgIGxldCBpbnRlcnNlY3Rpb25zID0gT2JqZWN0LmVudHJpZXMoY29udHJvbGxlckRhdGEuaW50ZXJzZWN0aW9ucykuZmlsdGVyKGkgPT4gaVsxXSAhPT0gbnVsbCk7XG4gICAgICBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgaW50ZXJzZWN0aW9ucy5zb3J0KChhLGIpID0+IHtcbiAgICAgICAgICByZXR1cm4gYVsxXS5kaXN0YW5jZSAtIGJbMV0uZGlzdGFuY2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGludGVyc2VjdGlvbkRhdGEgPSBpbnRlcnNlY3Rpb25zWzBdO1xuICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25EYXRhWzFdO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGVzW2ludGVyc2VjdGlvbkRhdGFbMF1dO1xuXG4gICAgICAgIGNvbnRyb2xsZXJEYXRhLnByZXZJbnRlcnNlY3Rpb24gPSBjb250cm9sbGVyRGF0YS5jdXJyZW50SW50ZXJzZWN0aW9uO1xuICAgICAgICBjb250cm9sbGVyRGF0YS5jdXJyZW50SW50ZXJzZWN0aW9uID0ge1xuICAgICAgICAgIHN0YXRlLCBpbnRlcnNlY3Rpb25cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc3RhdGUubGluZVN0eWxlT25JbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgICB0aGlzLnNldExpbmVTdHlsZShzdGF0ZS5saW5lU3R5bGVPbkludGVyc2VjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRMaW5lU3R5bGUoJ2FkdmFuY2VkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5vbkhvdmVyICYmIHN0YXRlLm9uSG92ZXIoaW50ZXJzZWN0aW9uLCBjb250cm9sbGVyRGF0YS5hY3RpdmUsIGNvbnRyb2xsZXJEYXRhLmNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLmxpbmUwLnNjYWxlLnogPSBNYXRoLm1pbihpbnRlcnNlY3Rpb24uZGlzdGFuY2UsIDEpO1xuICAgICAgICB0aGlzLmxpbmVCYXNpYy5zY2FsZS56ID0gTWF0aC5taW4oaW50ZXJzZWN0aW9uLmRpc3RhbmNlLCAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xsZXJEYXRhLmN1cnJlbnRJbnRlcnNlY3Rpb24gPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBvbkhvdmVyTGVhdmVcbiAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRoaXMuY29udHJvbGxlcnMubGVuZ3RoOyBjKyspIHtcbiAgICAgIGxldCBjb250cm9sbGVyRGF0YSA9IHRoaXMuY29udHJvbGxlcnNbY107XG4gICAgICBpZiAoIWNvbnRyb2xsZXJEYXRhLnByZXZJbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlIGNhbid0IGZpbmQgdGhlIHByZXZpb3VzIGludGVyc2VjdGlvbiBjdXJyZW50bHkgZW5hYmxlZCwgd2Ugc2hvdWxkIGVtaXQgaG92ZXJMZWF2ZVxuICAgICAgaWYgKCF0aGlzLmNvbnRyb2xsZXJzLmZpbmQoYyA9PiB7XG4gICAgICAgIGxldCBwcmV2ID0gY29udHJvbGxlckRhdGEucHJldkludGVyc2VjdGlvbjtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBjLmN1cnJlbnRJbnRlcnNlY3Rpb247XG4gICAgICAgIHJldHVybiBjdXJyZW50ICYmIHByZXYuc3RhdGUubmFtZSA9PT0gY3VycmVudC5zdGF0ZS5uYW1lICYmXG4gICAgICAgICAgcHJldi5pbnRlcnNlY3Rpb24ub2JqZWN0ID09PSBjdXJyZW50LmludGVyc2VjdGlvbi5vYmplY3Q7XG4gICAgICB9XG4gICAgICAgICkpIHtcbiAgICAgICAgY29udHJvbGxlckRhdGEucHJldkludGVyc2VjdGlvbi5zdGF0ZS5vbkhvdmVyTGVhdmUoXG4gICAgICAgICAgY29udHJvbGxlckRhdGEucHJldkludGVyc2VjdGlvbi5pbnRlcnNlY3Rpb24sXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgY29udHJvbGxlckRhdGEuY29udHJvbGxlclxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnRyb2xsZXJEYXRhLnByZXZJbnRlcnNlY3Rpb24gPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldEludGVyc2VjdGlvbnMoIGNvbnRyb2xsZXIsIGNvbGxpZGVyTWVzaCApIHtcbiAgICBsZXQgcmF5Y2FzdGVyQ29udGV4dCA9IGNvbnRyb2xsZXIuZ2V0T2JqZWN0QnlOYW1lKCdyYXljYXN0ZXJDb250ZXh0Jyk7XG4gICAgaWYgKCFyYXljYXN0ZXJDb250ZXh0KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vIHJheWNhc3RlckNvbnRleHQgZm91bmQgZm9yIHRoaXMgY29udHJvbGxlcicsIGNvbnRyb2xsZXIpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHRlbXBNYXRyaXguaWRlbnRpdHkoKS5leHRyYWN0Um90YXRpb24oIHJheWNhc3RlckNvbnRleHQubWF0cml4V29ybGQgKTtcblxuICAgIHRoaXMucmF5Y2FzdGVyLnJheS5vcmlnaW4uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCByYXljYXN0ZXJDb250ZXh0Lm1hdHJpeFdvcmxkICk7XG4gICAgdGhpcy5yYXljYXN0ZXIucmF5LmRpcmVjdGlvbi5zZXQoIDAsIDAsIC0gMSApLmFwcGx5TWF0cml4NCggdGVtcE1hdHJpeCApO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29sbGlkZXJNZXNoKSkge1xuICAgICAgcmV0dXJuIHRoaXMucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHMoIGNvbGxpZGVyTWVzaCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3QoIGNvbGxpZGVyTWVzaCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgb25TZWxlY3RFbmQoZXZ0KSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHsgcmV0dXJuOyB9XG5cbiAgICBsZXQgY29udHJvbGxlckRhdGEgPSB0aGlzLmNvbnRyb2xsZXJzLmZpbmQoYyA9PiBjLmNvbnRyb2xsZXIgPT09IGV2dC50YXJnZXQpXG4gICAgaWYgKCFjb250cm9sbGVyRGF0YSB8fCAhY29udHJvbGxlckRhdGEuYWN0aXZlKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKGNvbnRyb2xsZXJEYXRhKSB7XG4gICAgICBpZiAoY29udHJvbGxlckRhdGEuY3VycmVudEludGVyc2VjdGlvbikge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGNvbnRyb2xsZXJEYXRhLmN1cnJlbnRJbnRlcnNlY3Rpb24uc3RhdGU7XG4gICAgICAgIGlmIChzdGF0ZS5vblNlbGVjdEVuZCkge1xuICAgICAgICAgIHN0YXRlLm9uU2VsZWN0RW5kKGNvbnRyb2xsZXJEYXRhLmN1cnJlbnRJbnRlcnNlY3Rpb24uaW50ZXJzZWN0aW9uLCBjb250cm9sbGVyRGF0YS5jb250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBubyByYXljYXN0ZXIgc3RhdGVzXG4gICAgICB0aGlzLmN1cnJlbnRTdGF0ZXMuZm9yRWFjaChzdGF0ZSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5vblNlbGVjdEVuZCAmJiAhc3RhdGUucmF5Y2FzdGVyKSB7XG4gICAgICAgICAgc3RhdGUub25TZWxlY3RFbmQobnVsbCwgY29udHJvbGxlckRhdGEuY29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnRyb2xsZXJEYXRhLmFjdGl2ZSA9IGZhbHNlO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/RayControl.js\n");

/***/ }),

/***/ "./src/lib/Teleport.js":
/*!*****************************!*\
  !*** ./src/lib/Teleport.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Teleport; });\n/* harmony import */ var _RayControl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RayControl.js */ \"./src/lib/RayControl.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\n\nvar tempMatrix = new three__WEBPACK_IMPORTED_MODULE_1__[\"Matrix4\"]();\nvar intersected = [];\nclass Teleport {\n  constructor(ctx, mesh) {\n    this.ctx = ctx;\n\n    // Holder for all the\n    this.teleportEntity = new three__WEBPACK_IMPORTED_MODULE_1__[\"Group\"]();\n    this.active = false;\n    this.teleportHitGeometry = ctx.assets['teleport_model'].scene.getObjectByName('goal');\n    this.teleportHitGeometry.material = _RayControl_js__WEBPACK_IMPORTED_MODULE_0__[\"rayMaterial\"];\n    this.teleportHitGeometry.renderOrder = 10;\n    this.ballColliding = ctx.assets['teleport_model'].scene.getObjectByName('glow');\n    this.ballColliding.material = new three__WEBPACK_IMPORTED_MODULE_1__[\"MeshBasicMaterial\"]({\n      color: 0x00257b,\n      map: ctx.assets['glow_tex'],\n      transparent: true,\n      blending: three__WEBPACK_IMPORTED_MODULE_1__[\"AdditiveBlending\"]\n    });\n    this.ballColliding.renderOrder = 10;\n    this.ballColliding.visible = false;\n    this.teleportEntity.add(this.ballColliding);\n    this.teleportHitGeometry.visible = false;\n    this.teleportHitGeometry.position.set(-2, 0, -2);\n    this.teleportEntity.add(this.teleportHitGeometry);\n    this.ctx.scene.add(this.teleportEntity);\n\n    // sounds\n    try {\n      this.startSound = new three__WEBPACK_IMPORTED_MODULE_1__[\"Audio\"](ctx.audioListener);\n      this.startSound.setBuffer(ctx.assets['teleport_a_snd']);\n      this.startSound.setLoop(true);\n      this.startSound.pause();\n    } catch (e) {\n      console.warn('Failed to initialize start sound:', e);\n      this.startSound = null;\n    }\n    try {\n      this.endSound = new three__WEBPACK_IMPORTED_MODULE_1__[\"Audio\"](ctx.audioListener);\n      this.endSound.setBuffer(ctx.assets['teleport_b_snd']);\n      this.endSound.setLoop(false);\n      this.endSound.pause();\n    } catch (e) {\n      console.warn('Failed to initialize end sound:', e);\n      this.endSound = null;\n    }\n  }\n  onSelectStart(evt) {\n    //if (evt.target === this.ctx.controllers[0])\n    this.active = true;\n    if (this.endSound) this.endSound.pause();\n    if (this.startSound) this.startSound.play();\n  }\n  onHoverLeave() {\n    this.ballColliding.visible = false;\n    this.teleportHitGeometry.visible = false;\n    if (this.startSound) this.startSound.pause();\n  }\n  onHover(hitPoint, active) {\n    if (active) {\n      this.teleportHitGeometry.visible = true;\n      this.teleportHitGeometry.position.copy(hitPoint);\n      this.hit = true;\n      this.ballColliding.visible = false;\n    } else {\n      this.ballColliding.visible = true;\n      this.ballColliding.position.copy(hitPoint);\n    }\n  }\n  onSelectEnd(targetPoint) {\n    const headPosition = this.ctx.renderer.xr.getCamera(this.ctx.camera).position;\n    const offset = targetPoint.sub(headPosition);\n    offset.y = 0; // We don't want to change height to floor's level\n\n    this.ctx.cameraRig.position.add(offset);\n    this.teleportHitGeometry.visible = false;\n    this.active = false;\n    if (this.startSound) this.startSound.pause();\n    if (this.endSound) this.endSound.play();\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL1RlbGVwb3J0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9UZWxlcG9ydC5qcz8xYjY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7cmF5TWF0ZXJpYWx9IGZyb20gXCIuL1JheUNvbnRyb2wuanNcIjtcclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxudmFyIHRlbXBNYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xyXG52YXIgaW50ZXJzZWN0ZWQgPSBbXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlbGVwb3J0IHtcclxuICBjb25zdHJ1Y3RvcihjdHgsIG1lc2gpIHtcclxuICAgIHRoaXMuY3R4ID0gY3R4O1xyXG5cclxuICAgIC8vIEhvbGRlciBmb3IgYWxsIHRoZVxyXG4gICAgdGhpcy50ZWxlcG9ydEVudGl0eSA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG5cclxuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy50ZWxlcG9ydEhpdEdlb21ldHJ5ID0gY3R4LmFzc2V0c1sndGVsZXBvcnRfbW9kZWwnXS5zY2VuZS5nZXRPYmplY3RCeU5hbWUoJ2dvYWwnKTtcclxuICAgIHRoaXMudGVsZXBvcnRIaXRHZW9tZXRyeS5tYXRlcmlhbCA9IHJheU1hdGVyaWFsO1xyXG5cclxuICAgIHRoaXMudGVsZXBvcnRIaXRHZW9tZXRyeS5yZW5kZXJPcmRlciA9IDEwO1xyXG5cclxuICAgIHRoaXMuYmFsbENvbGxpZGluZyA9IGN0eC5hc3NldHNbJ3RlbGVwb3J0X21vZGVsJ10uc2NlbmUuZ2V0T2JqZWN0QnlOYW1lKCdnbG93Jyk7XHJcbiAgICB0aGlzLmJhbGxDb2xsaWRpbmcubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICBjb2xvcjogMHgwMDI1N2IsXHJcbiAgICAgIG1hcDogY3R4LmFzc2V0c1snZ2xvd190ZXgnXSxcclxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgIGJsZW5kaW5nOiBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmJhbGxDb2xsaWRpbmcucmVuZGVyT3JkZXIgPSAxMDtcclxuXHJcblxyXG4gICAgdGhpcy5iYWxsQ29sbGlkaW5nLnZpc2libGUgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLnRlbGVwb3J0RW50aXR5LmFkZCh0aGlzLmJhbGxDb2xsaWRpbmcpO1xyXG5cclxuICAgIHRoaXMudGVsZXBvcnRIaXRHZW9tZXRyeS52aXNpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy50ZWxlcG9ydEhpdEdlb21ldHJ5LnBvc2l0aW9uLnNldCgtMiwgMCwgLTIpO1xyXG5cclxuICAgIHRoaXMudGVsZXBvcnRFbnRpdHkuYWRkKHRoaXMudGVsZXBvcnRIaXRHZW9tZXRyeSk7XHJcblxyXG4gICAgdGhpcy5jdHguc2NlbmUuYWRkKHRoaXMudGVsZXBvcnRFbnRpdHkpO1xyXG5cclxuICAgIC8vIHNvdW5kc1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5zdGFydFNvdW5kID0gbmV3IFRIUkVFLkF1ZGlvKGN0eC5hdWRpb0xpc3RlbmVyKTtcclxuICAgICAgdGhpcy5zdGFydFNvdW5kLnNldEJ1ZmZlcihjdHguYXNzZXRzWyd0ZWxlcG9ydF9hX3NuZCddKTtcclxuICAgICAgdGhpcy5zdGFydFNvdW5kLnNldExvb3AodHJ1ZSk7XHJcbiAgICAgIHRoaXMuc3RhcnRTb3VuZC5wYXVzZSgpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBpbml0aWFsaXplIHN0YXJ0IHNvdW5kOicsIGUpO1xyXG4gICAgICB0aGlzLnN0YXJ0U291bmQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuZW5kU291bmQgPSBuZXcgVEhSRUUuQXVkaW8oY3R4LmF1ZGlvTGlzdGVuZXIpO1xyXG4gICAgICB0aGlzLmVuZFNvdW5kLnNldEJ1ZmZlcihjdHguYXNzZXRzWyd0ZWxlcG9ydF9iX3NuZCddKTtcclxuICAgICAgdGhpcy5lbmRTb3VuZC5zZXRMb29wKGZhbHNlKTtcclxuICAgICAgdGhpcy5lbmRTb3VuZC5wYXVzZSgpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBpbml0aWFsaXplIGVuZCBzb3VuZDonLCBlKTtcclxuICAgICAgdGhpcy5lbmRTb3VuZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgb25TZWxlY3RTdGFydChldnQpIHtcclxuICAgIC8vaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuY3R4LmNvbnRyb2xsZXJzWzBdKVxyXG4gICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgaWYgKHRoaXMuZW5kU291bmQpIHRoaXMuZW5kU291bmQucGF1c2UoKTtcclxuICAgIGlmICh0aGlzLnN0YXJ0U291bmQpIHRoaXMuc3RhcnRTb3VuZC5wbGF5KCk7XHJcbiAgfVxyXG5cclxuICBvbkhvdmVyTGVhdmUoKSB7XHJcbiAgICB0aGlzLmJhbGxDb2xsaWRpbmcudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgdGhpcy50ZWxlcG9ydEhpdEdlb21ldHJ5LnZpc2libGUgPSBmYWxzZTtcclxuICAgIGlmICh0aGlzLnN0YXJ0U291bmQpIHRoaXMuc3RhcnRTb3VuZC5wYXVzZSgpO1xyXG4gIH1cclxuXHJcbiAgb25Ib3ZlcihoaXRQb2ludCwgYWN0aXZlKSB7XHJcbiAgICBpZiAoYWN0aXZlKSB7XHJcbiAgICAgIHRoaXMudGVsZXBvcnRIaXRHZW9tZXRyeS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgdGhpcy50ZWxlcG9ydEhpdEdlb21ldHJ5LnBvc2l0aW9uLmNvcHkoaGl0UG9pbnQpO1xyXG4gICAgICB0aGlzLmhpdCA9IHRydWU7XHJcbiAgICAgIHRoaXMuYmFsbENvbGxpZGluZy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJhbGxDb2xsaWRpbmcudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgIHRoaXMuYmFsbENvbGxpZGluZy5wb3NpdGlvbi5jb3B5KGhpdFBvaW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uU2VsZWN0RW5kKHRhcmdldFBvaW50KSB7XHJcbiAgICBjb25zdCBoZWFkUG9zaXRpb24gPSB0aGlzLmN0eC5yZW5kZXJlci54ci5nZXRDYW1lcmEodGhpcy5jdHguY2FtZXJhKS5wb3NpdGlvbjtcclxuICAgIGNvbnN0IG9mZnNldCA9IHRhcmdldFBvaW50LnN1YihoZWFkUG9zaXRpb24pO1xyXG4gICAgb2Zmc2V0LnkgPSAwOyAvLyBXZSBkb24ndCB3YW50IHRvIGNoYW5nZSBoZWlnaHQgdG8gZmxvb3IncyBsZXZlbFxyXG5cclxuICAgIHRoaXMuY3R4LmNhbWVyYVJpZy5wb3NpdGlvbi5hZGQob2Zmc2V0KTtcclxuICAgIHRoaXMudGVsZXBvcnRIaXRHZW9tZXRyeS52aXNpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAodGhpcy5zdGFydFNvdW5kKSB0aGlzLnN0YXJ0U291bmQucGF1c2UoKTtcclxuICAgIGlmICh0aGlzLmVuZFNvdW5kKSB0aGlzLmVuZFNvdW5kLnBsYXkoKTtcclxuICB9XHJcbn1cclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/Teleport.js\n");

/***/ }),

/***/ "./src/lib/VRButton.js":
/*!*****************************!*\
  !*** ./src/lib/VRButton.js ***!
  \*****************************/
/*! exports provided: VRButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VRButton\", function() { return VRButton; });\n/*\r\n\nThis is modification of the original VRButton. I've added a callback to know\r\nwhen the user enters and exists from VR\r\n\nOriginal at:\r\n  https://github.com/mrdoob/three.js/blob/dev/examples/jsm/webxr/VRButton.js\r\n\n*/\n/**\r\n * @author mrdoob / http://mrdoob.com\r\n * @author Mugen87 / https://github.com/Mugen87\r\n */\n\nvar VRButton = {\n  createButton: function (renderer, callback) {\n    function showEnterVR(/*device*/\n    ) {\n      var currentSession = null;\n      function onSessionStarted(session) {\n        session.addEventListener('end', onSessionEnded);\n        renderer.xr.setSession(session);\n        button.textContent = 'EXIT VR';\n        currentSession = session;\n        callback('sessionStarted');\n      }\n      function onSessionEnded(/*event*/\n      ) {\n        currentSession.removeEventListener('end', onSessionEnded);\n        button.textContent = 'ENTER VR';\n        currentSession = null;\n        callback('sessionEnded');\n      }\n\n      //\n\n      button.style.display = '';\n      button.style.cursor = 'pointer';\n      button.style.left = 'calc(50% - 50px)';\n      button.style.width = '100px';\n      button.textContent = 'ENTER VR';\n      button.onmouseenter = function () {\n        button.style.background = 'rgba(0,0,0,0.9)';\n        button.style.transform = 'scale(1.05)';\n      };\n      button.onmouseleave = function () {\n        button.style.background = 'rgba(0,0,0,0.7)';\n        button.style.transform = 'scale(1.0)';\n      };\n      button.onclick = function () {\n        if (currentSession === null) {\n          // WebXR's requestReferenceSpace only works if the corresponding feature\n          // was requested at session creation time. For simplicity, just ask for\n          // the interesting ones as optional features, but be aware that the\n          // requestReferenceSpace call will fail if it turns out to be unavailable.\n          // ('local' is always available for immersive sessions and doesn't need to\n          // be requested separately.)\n\n          var sessionInit = {\n            optionalFeatures: ['local-floor', 'bounded-floor']\n          };\n          navigator.xr.requestSession('immersive-vr', sessionInit).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n    function disableButton() {\n      button.style.display = '';\n      button.style.cursor = 'auto';\n      button.style.left = 'calc(50% - 75px)';\n      button.style.width = '150px';\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n    function showWebXRNotFound() {\n      disableButton();\n      button.textContent = 'VR NOT ENABLED';\n    }\n    function stylizeElement(element) {\n      element.style.position = 'absolute';\n      element.style.bottom = '20px';\n      element.style.padding = '12px 24px';\n      element.style.border = '2px solid #fff';\n      element.style.borderRadius = '6px';\n      element.style.background = 'rgba(0,0,0,0.7)';\n      element.style.color = '#fff';\n      element.style.font = '600 14px sans-serif';\n      element.style.textAlign = 'center';\n      element.style.opacity = '1.0';\n      element.style.outline = 'none';\n      element.style.zIndex = '999';\n      element.style.cursor = 'pointer';\n      element.style.transition = 'all 0.2s ease';\n    }\n    if ('xr' in navigator) {\n      var button = document.createElement('button');\n      button.style.display = 'none';\n      stylizeElement(button);\n      navigator.xr.isSessionSupported('immersive-vr').then(function (supported) {\n        supported ? showEnterVR() : showWebXRNotFound();\n      });\n      return button;\n    } else {\n      var message = document.createElement('a');\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, 'https:');\n        message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n      } else {\n        message.href = 'https://immersiveweb.dev/';\n        message.innerHTML = 'WEBXR NOT AVAILABLE';\n      }\n      message.style.left = 'calc(50% - 90px)';\n      message.style.width = '180px';\n      message.style.textDecoration = 'none';\n      stylizeElement(message);\n      return message;\n    }\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL1ZSQnV0dG9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9WUkJ1dHRvbi5qcz81N2M1Il0sInNvdXJjZXNDb250ZW50IjpbIiAvKlxyXG5cclxuXHRUaGlzIGlzIG1vZGlmaWNhdGlvbiBvZiB0aGUgb3JpZ2luYWwgVlJCdXR0b24uIEkndmUgYWRkZWQgYSBjYWxsYmFjayB0byBrbm93XHJcblx0d2hlbiB0aGUgdXNlciBlbnRlcnMgYW5kIGV4aXN0cyBmcm9tIFZSXHJcblxyXG5cdE9yaWdpbmFsIGF0OlxyXG5cdCAgaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iL2Rldi9leGFtcGxlcy9qc20vd2VieHIvVlJCdXR0b24uanNcclxuXHJcbiAqL1xyXG4vKipcclxuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbVxyXG4gKiBAYXV0aG9yIE11Z2VuODcgLyBodHRwczovL2dpdGh1Yi5jb20vTXVnZW44N1xyXG4gKi9cclxuXHJcbnZhciBWUkJ1dHRvbiA9IHtcclxuXHJcblx0Y3JlYXRlQnV0dG9uOiBmdW5jdGlvbiAoIHJlbmRlcmVyLCBjYWxsYmFjayApIHtcclxuXHJcblx0XHRmdW5jdGlvbiBzaG93RW50ZXJWUiggLypkZXZpY2UqLyApIHtcclxuXHJcblx0XHRcdHZhciBjdXJyZW50U2Vzc2lvbiA9IG51bGw7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBvblNlc3Npb25TdGFydGVkKCBzZXNzaW9uICkge1xyXG5cclxuXHRcdFx0XHRzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoICdlbmQnLCBvblNlc3Npb25FbmRlZCApO1xyXG5cclxuXHRcdFx0XHRyZW5kZXJlci54ci5zZXRTZXNzaW9uKCBzZXNzaW9uICk7XHJcblx0XHRcdFx0YnV0dG9uLnRleHRDb250ZW50ID0gJ0VYSVQgVlInO1xyXG5cclxuXHRcdFx0XHRjdXJyZW50U2Vzc2lvbiA9IHNlc3Npb247XHJcblxyXG5cdFx0XHRcdGNhbGxiYWNrKCdzZXNzaW9uU3RhcnRlZCcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBvblNlc3Npb25FbmRlZCggLypldmVudCovICkge1xyXG5cclxuXHRcdFx0XHRjdXJyZW50U2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKCAnZW5kJywgb25TZXNzaW9uRW5kZWQgKTtcclxuXHJcblx0XHRcdFx0YnV0dG9uLnRleHRDb250ZW50ID0gJ0VOVEVSIFZSJztcclxuXHJcblx0XHRcdFx0Y3VycmVudFNlc3Npb24gPSBudWxsO1xyXG5cclxuXHRcdFx0XHRjYWxsYmFjaygnc2Vzc2lvbkVuZGVkJyk7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHQvL1xyXG5cclxuXHRcdFx0YnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuXHJcblx0XHRcdGJ1dHRvbi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcblx0XHRcdGJ1dHRvbi5zdHlsZS5sZWZ0ID0gJ2NhbGMoNTAlIC0gNTBweCknO1xyXG5cdFx0XHRidXR0b24uc3R5bGUud2lkdGggPSAnMTAwcHgnO1xyXG5cclxuXHRcdFx0YnV0dG9uLnRleHRDb250ZW50ID0gJ0VOVEVSIFZSJztcclxuXHJcblx0XHRcdGJ1dHRvbi5vbm1vdXNlZW50ZXIgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRcdGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYmEoMCwwLDAsMC45KSc7XHJcblx0XHRcdFx0YnV0dG9uLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxLjA1KSc7XHJcblxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0YnV0dG9uLm9ubW91c2VsZWF2ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdFx0YnV0dG9uLnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLDAsMCwwLjcpJztcclxuXHRcdFx0XHRidXR0b24uc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDEuMCknO1xyXG5cclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0XHRpZiAoIGN1cnJlbnRTZXNzaW9uID09PSBudWxsICkge1xyXG5cclxuXHRcdFx0XHRcdC8vIFdlYlhSJ3MgcmVxdWVzdFJlZmVyZW5jZVNwYWNlIG9ubHkgd29ya3MgaWYgdGhlIGNvcnJlc3BvbmRpbmcgZmVhdHVyZVxyXG5cdFx0XHRcdFx0Ly8gd2FzIHJlcXVlc3RlZCBhdCBzZXNzaW9uIGNyZWF0aW9uIHRpbWUuIEZvciBzaW1wbGljaXR5LCBqdXN0IGFzayBmb3JcclxuXHRcdFx0XHRcdC8vIHRoZSBpbnRlcmVzdGluZyBvbmVzIGFzIG9wdGlvbmFsIGZlYXR1cmVzLCBidXQgYmUgYXdhcmUgdGhhdCB0aGVcclxuXHRcdFx0XHRcdC8vIHJlcXVlc3RSZWZlcmVuY2VTcGFjZSBjYWxsIHdpbGwgZmFpbCBpZiBpdCB0dXJucyBvdXQgdG8gYmUgdW5hdmFpbGFibGUuXHJcblx0XHRcdFx0XHQvLyAoJ2xvY2FsJyBpcyBhbHdheXMgYXZhaWxhYmxlIGZvciBpbW1lcnNpdmUgc2Vzc2lvbnMgYW5kIGRvZXNuJ3QgbmVlZCB0b1xyXG5cdFx0XHRcdFx0Ly8gYmUgcmVxdWVzdGVkIHNlcGFyYXRlbHkuKVxyXG5cclxuXHRcdFx0XHRcdHZhciBzZXNzaW9uSW5pdCA9IHsgb3B0aW9uYWxGZWF0dXJlczogWyAnbG9jYWwtZmxvb3InLCAnYm91bmRlZC1mbG9vcicgXSB9O1xyXG5cdFx0XHRcdFx0bmF2aWdhdG9yLnhyLnJlcXVlc3RTZXNzaW9uKCAnaW1tZXJzaXZlLXZyJywgc2Vzc2lvbkluaXQgKS50aGVuKCBvblNlc3Npb25TdGFydGVkICk7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0Y3VycmVudFNlc3Npb24uZW5kKCk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH07XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRpc2FibGVCdXR0b24oKSB7XHJcblxyXG5cdFx0XHRidXR0b24uc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cclxuXHRcdFx0YnV0dG9uLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcclxuXHRcdFx0YnV0dG9uLnN0eWxlLmxlZnQgPSAnY2FsYyg1MCUgLSA3NXB4KSc7XHJcblx0XHRcdGJ1dHRvbi5zdHlsZS53aWR0aCA9ICcxNTBweCc7XHJcblxyXG5cdFx0XHRidXR0b24ub25tb3VzZWVudGVyID0gbnVsbDtcclxuXHRcdFx0YnV0dG9uLm9ubW91c2VsZWF2ZSA9IG51bGw7XHJcblxyXG5cdFx0XHRidXR0b24ub25jbGljayA9IG51bGw7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNob3dXZWJYUk5vdEZvdW5kKCkge1xyXG5cclxuXHRcdFx0ZGlzYWJsZUJ1dHRvbigpO1xyXG5cclxuXHRcdFx0YnV0dG9uLnRleHRDb250ZW50ID0gJ1ZSIE5PVCBFTkFCTEVEJztcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3R5bGl6ZUVsZW1lbnQoIGVsZW1lbnQgKSB7XHJcblxyXG5cdFx0XHRlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuXHRcdFx0ZWxlbWVudC5zdHlsZS5ib3R0b20gPSAnMjBweCc7XHJcblx0XHRcdGVsZW1lbnQuc3R5bGUucGFkZGluZyA9ICcxMnB4IDI0cHgnO1xyXG5cdFx0XHRlbGVtZW50LnN0eWxlLmJvcmRlciA9ICcycHggc29saWQgI2ZmZic7XHJcblx0XHRcdGVsZW1lbnQuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzZweCc7XHJcblx0XHRcdGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsMCwwLDAuNyknO1xyXG5cdFx0XHRlbGVtZW50LnN0eWxlLmNvbG9yID0gJyNmZmYnO1xyXG5cdFx0XHRlbGVtZW50LnN0eWxlLmZvbnQgPSAnNjAwIDE0cHggc2Fucy1zZXJpZic7XHJcblx0XHRcdGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcblx0XHRcdGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcxLjAnO1xyXG5cdFx0XHRlbGVtZW50LnN0eWxlLm91dGxpbmUgPSAnbm9uZSc7XHJcblx0XHRcdGVsZW1lbnQuc3R5bGUuekluZGV4ID0gJzk5OSc7XHJcblx0XHRcdGVsZW1lbnQuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG5cdFx0XHRlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnYWxsIDAuMnMgZWFzZSc7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggJ3hyJyBpbiBuYXZpZ2F0b3IgKSB7XHJcblxyXG5cdFx0XHR2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2J1dHRvbicgKTtcclxuXHRcdFx0YnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG5cdFx0XHRzdHlsaXplRWxlbWVudCggYnV0dG9uICk7XHJcblxyXG5cdFx0XHRuYXZpZ2F0b3IueHIuaXNTZXNzaW9uU3VwcG9ydGVkKCAnaW1tZXJzaXZlLXZyJyApLnRoZW4oIGZ1bmN0aW9uICggc3VwcG9ydGVkICkge1xyXG5cclxuXHRcdFx0XHRzdXBwb3J0ZWQgPyBzaG93RW50ZXJWUigpIDogc2hvd1dlYlhSTm90Rm91bmQoKTtcclxuXHJcblx0XHRcdH0gKTtcclxuXHJcblx0XHRcdHJldHVybiBidXR0b247XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdHZhciBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2EnICk7XHJcblxyXG5cdFx0XHRpZiAoIHdpbmRvdy5pc1NlY3VyZUNvbnRleHQgPT09IGZhbHNlICkge1xyXG5cclxuXHRcdFx0XHRtZXNzYWdlLmhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoIC9eaHR0cDovLCAnaHR0cHM6JyApO1xyXG5cdFx0XHRcdG1lc3NhZ2UuaW5uZXJIVE1MID0gJ1dFQlhSIE5FRURTIEhUVFBTJzsgLy8gVE9ETyBJbXByb3ZlIG1lc3NhZ2VcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdG1lc3NhZ2UuaHJlZiA9ICdodHRwczovL2ltbWVyc2l2ZXdlYi5kZXYvJztcclxuXHRcdFx0XHRtZXNzYWdlLmlubmVySFRNTCA9ICdXRUJYUiBOT1QgQVZBSUxBQkxFJztcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1lc3NhZ2Uuc3R5bGUubGVmdCA9ICdjYWxjKDUwJSAtIDkwcHgpJztcclxuXHRcdFx0bWVzc2FnZS5zdHlsZS53aWR0aCA9ICcxODBweCc7XHJcblx0XHRcdG1lc3NhZ2Uuc3R5bGUudGV4dERlY29yYXRpb24gPSAnbm9uZSc7XHJcblxyXG5cdFx0XHRzdHlsaXplRWxlbWVudCggbWVzc2FnZSApO1xyXG5cclxuXHRcdFx0cmV0dXJuIG1lc3NhZ2U7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IHsgVlJCdXR0b24gfTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/VRButton.js\n");

/***/ }),

/***/ "./src/lib/assetManager.js":
/*!*********************************!*\
  !*** ./src/lib/assetManager.js ***!
  \*********************************/
/*! exports provided: loadAssets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadAssets\", function() { return loadAssets; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_BasisTextureLoader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/loaders/BasisTextureLoader.js */ \"./node_modules/three/examples/jsm/loaders/BasisTextureLoader.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader.js */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_loaders_OBJLoader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/loaders/OBJLoader.js */ \"./node_modules/three/examples/jsm/loaders/OBJLoader.js\");\n/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ \"./node_modules/three/examples/jsm/loaders/DRACOLoader.js\");\n\n\n\n\n\n\n//const BASIS_LIB_PATH = 'src/vendor/';\nconst BASIS_LIB_PATH = 'src/vendor/';\nconst DRACO_LIB_PATH = 'src/vendor/';\nfunction getLoadedCount(assets) {\n  let count = 0;\n  for (var i in assets) {\n    if (assets[i].loading !== true) {\n      count++;\n    }\n  }\n  return count;\n}\nfunction allAssetsLoaded(assets) {\n  for (var i in assets) {\n    if (assets[i].loading === true) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction loadAssets(renderer, basePath, assets, onComplete, onProgress, debug) {\n  if (basePath && basePath[basePath.length - 1] != '/') {\n    basePath += '/';\n  }\n  var basisLoader = new three_examples_jsm_loaders_BasisTextureLoader_js__WEBPACK_IMPORTED_MODULE_1__[\"BasisTextureLoader\"]();\n  basisLoader.setTranscoderPath(BASIS_LIB_PATH);\n  basisLoader.detectSupport(renderer);\n  var gltfLoader = new three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__[\"GLTFLoader\"]();\n  var dracoLoader = new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_4__[\"DRACOLoader\"]();\n  dracoLoader.setDecoderPath(DRACO_LIB_PATH);\n  gltfLoader.setDRACOLoader(dracoLoader);\n  var texLoader = new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]();\n  var objLoader = new three_examples_jsm_loaders_OBJLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"OBJLoader\"]();\n  var fontLoader = new three__WEBPACK_IMPORTED_MODULE_0__[\"FontLoader\"]();\n  var audioLoader = new three__WEBPACK_IMPORTED_MODULE_0__[\"AudioLoader\"]();\n  var loaders = {\n    'gltf': gltfLoader,\n    'glb': gltfLoader,\n    'obj': objLoader,\n    'gif': texLoader,\n    'png': texLoader,\n    'jpg': texLoader,\n    'basis': basisLoader,\n    'font': fontLoader,\n    'ogg': audioLoader\n  };\n  for (var i in assets) {\n    let assetId = i;\n    let assetPath = assets[i].url;\n    assets[i].loading = true;\n    let ext = assetPath.substr(assetPath.lastIndexOf('.') + 1).toLowerCase();\n    loaders[ext].load(basePath + assetPath, asset => {\n      if (debug) {\n        console.info(`%c ${assetPath} loaded`, 'color:green');\n      }\n      var options = assets[assetId].options;\n      assets[assetId] = ext == 'font' ? asset.data : asset;\n      if (typeof options !== \"undefined\") {\n        if (typeof options.repeat !== \"undefined\") {\n          assets[assetId].repeat.set(options.repeat[0], options.repeat[1]);\n          delete options.repeat;\n        }\n        for (let opt in options) {\n          assets[assetId][opt] = options[opt];\n        }\n        if (onProgress) {\n          onProgress(getLoadedCount(assets));\n        }\n        ;\n      }\n      if (onComplete && allAssetsLoaded(assets)) {\n        onComplete();\n      }\n    }, () => {\n      /* on progress */\n    }, e => {\n      console.error('Error loading asset', assetPath, e);\n      // For audio files, set to null to allow graceful degradation\n      if (ext === 'ogg') {\n        assets[assetId] = null;\n        assets[assetId].loading = false;\n        if (onComplete && allAssetsLoaded(assets)) {\n          onComplete();\n        }\n      }\n    });\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2Fzc2V0TWFuYWdlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWIvYXNzZXRNYW5hZ2VyLmpzP2EwM2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgeyBCYXNpc1RleHR1cmVMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9CYXNpc1RleHR1cmVMb2FkZXIuanMnO1xyXG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlci5qcyc7XHJcbmltcG9ydCB7IE9CSkxvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL09CSkxvYWRlci5qcyc7XHJcbmltcG9ydCB7IERSQUNPTG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvRFJBQ09Mb2FkZXIuanMnO1xyXG5cclxuLy9jb25zdCBCQVNJU19MSUJfUEFUSCA9ICdzcmMvdmVuZG9yLyc7XHJcbmNvbnN0IEJBU0lTX0xJQl9QQVRIID0gJ3NyYy92ZW5kb3IvJztcclxuY29uc3QgRFJBQ09fTElCX1BBVEggPSAnc3JjL3ZlbmRvci8nO1xyXG5cclxuZnVuY3Rpb24gZ2V0TG9hZGVkQ291bnQoYXNzZXRzKSB7XHJcbiAgbGV0IGNvdW50ID0gMDtcclxuICBmb3IgKHZhciBpIGluIGFzc2V0cykge1xyXG4gICAgaWYgKGFzc2V0c1tpXS5sb2FkaW5nICE9PSB0cnVlKSB7IGNvdW50ICsrOyB9XHJcbiAgfVxyXG4gIHJldHVybiBjb3VudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWxsQXNzZXRzTG9hZGVkKGFzc2V0cykge1xyXG4gIGZvciAodmFyIGkgaW4gYXNzZXRzKSB7XHJcbiAgICBpZiAoYXNzZXRzW2ldLmxvYWRpbmcgPT09IHRydWUpIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZEFzc2V0cyhyZW5kZXJlciwgYmFzZVBhdGgsIGFzc2V0cywgb25Db21wbGV0ZSwgb25Qcm9ncmVzcywgZGVidWcpIHtcclxuICBpZiAoYmFzZVBhdGggJiYgYmFzZVBhdGhbYmFzZVBhdGgubGVuZ3RoIC0gMV0gIT0gJy8nKSB7XHJcbiAgICBiYXNlUGF0aCArPSAnLyc7XHJcbiAgfVxyXG5cclxuICB2YXIgYmFzaXNMb2FkZXIgPSBuZXcgQmFzaXNUZXh0dXJlTG9hZGVyKCk7XHJcbiAgYmFzaXNMb2FkZXIuc2V0VHJhbnNjb2RlclBhdGgoQkFTSVNfTElCX1BBVEgpO1xyXG4gIGJhc2lzTG9hZGVyLmRldGVjdFN1cHBvcnQocmVuZGVyZXIpO1xyXG5cclxuICB2YXIgZ2x0ZkxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XHJcbiAgdmFyIGRyYWNvTG9hZGVyID0gbmV3IERSQUNPTG9hZGVyKCk7XHJcbiAgZHJhY29Mb2FkZXIuc2V0RGVjb2RlclBhdGgoRFJBQ09fTElCX1BBVEgpO1xyXG4gIGdsdGZMb2FkZXIuc2V0RFJBQ09Mb2FkZXIoZHJhY29Mb2FkZXIpO1xyXG5cclxuICB2YXIgdGV4TG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKTtcclxuICB2YXIgb2JqTG9hZGVyID0gbmV3IE9CSkxvYWRlcigpO1xyXG4gIHZhciBmb250TG9hZGVyID0gbmV3IFRIUkVFLkZvbnRMb2FkZXIoKTtcclxuICB2YXIgYXVkaW9Mb2FkZXIgPSBuZXcgVEhSRUUuQXVkaW9Mb2FkZXIoKTtcclxuXHJcblxyXG4gIHZhciBsb2FkZXJzID0ge1xyXG4gICAgJ2dsdGYnOiBnbHRmTG9hZGVyLFxyXG4gICAgJ2dsYic6IGdsdGZMb2FkZXIsXHJcbiAgICAnb2JqJzogb2JqTG9hZGVyLFxyXG4gICAgJ2dpZic6IHRleExvYWRlcixcclxuICAgICdwbmcnOiB0ZXhMb2FkZXIsXHJcbiAgICAnanBnJzogdGV4TG9hZGVyLFxyXG4gICAgJ2Jhc2lzJzogYmFzaXNMb2FkZXIsXHJcbiAgICAnZm9udCc6IGZvbnRMb2FkZXIsXHJcbiAgICAnb2dnJzogYXVkaW9Mb2FkZXJcclxuICB9O1xyXG5cclxuICBmb3IgKHZhciBpIGluIGFzc2V0cykge1xyXG4gICAgbGV0IGFzc2V0SWQgPSBpO1xyXG4gICAgbGV0IGFzc2V0UGF0aCA9IGFzc2V0c1tpXS51cmw7XHJcbiAgICBhc3NldHNbaV0ubG9hZGluZyA9IHRydWU7XHJcbiAgICBsZXQgZXh0ID0gYXNzZXRQYXRoLnN1YnN0cihhc3NldFBhdGgubGFzdEluZGV4T2YoJy4nKSArIDEpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgbG9hZGVyc1tleHRdLmxvYWQoYmFzZVBhdGggKyBhc3NldFBhdGgsIGFzc2V0ID0+IHtcclxuICAgICAgaWYgKGRlYnVnKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKGAlYyAke2Fzc2V0UGF0aH0gbG9hZGVkYCwgJ2NvbG9yOmdyZWVuJyk7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIG9wdGlvbnMgPSBhc3NldHNbYXNzZXRJZF0ub3B0aW9ucztcclxuICAgICAgYXNzZXRzW2Fzc2V0SWRdID0gZXh0ID09ICdmb250Jz8gYXNzZXQuZGF0YSA6IGFzc2V0O1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnJlcGVhdCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgYXNzZXRzW2Fzc2V0SWRdLnJlcGVhdC5zZXQob3B0aW9ucy5yZXBlYXRbMF0sIG9wdGlvbnMucmVwZWF0WzFdKTtcclxuICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLnJlcGVhdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgb3B0IGluIG9wdGlvbnMpIHtcclxuICAgICAgICAgIGFzc2V0c1thc3NldElkXVtvcHRdID0gb3B0aW9uc1tvcHRdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9uUHJvZ3Jlc3MpIHsgb25Qcm9ncmVzcyhnZXRMb2FkZWRDb3VudChhc3NldHMpKSB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAob25Db21wbGV0ZSAmJiBhbGxBc3NldHNMb2FkZWQoYXNzZXRzKSkgeyBvbkNvbXBsZXRlKCk7IH1cclxuICAgIH0sICgpID0+IHtcclxuICAgICAgLyogb24gcHJvZ3Jlc3MgKi9cclxuICAgIH0sXHJcbiAgICAoZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGFzc2V0JywgYXNzZXRQYXRoLCBlKTtcclxuICAgICAgLy8gRm9yIGF1ZGlvIGZpbGVzLCBzZXQgdG8gbnVsbCB0byBhbGxvdyBncmFjZWZ1bCBkZWdyYWRhdGlvblxyXG4gICAgICBpZiAoZXh0ID09PSAnb2dnJykge1xyXG4gICAgICAgIGFzc2V0c1thc3NldElkXSA9IG51bGw7XHJcbiAgICAgICAgYXNzZXRzW2Fzc2V0SWRdLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICBpZiAob25Db21wbGV0ZSAmJiBhbGxBc3NldHNMb2FkZWQoYXNzZXRzKSkgeyBvbkNvbXBsZXRlKCk7IH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/assetManager.js\n");

/***/ }),

/***/ "./src/lib/modelLoader.js":
/*!********************************!*\
  !*** ./src/lib/modelLoader.js ***!
  \********************************/
/*! exports provided: loadModel, createPlaceholderModel, createMoleculeModel, createCrystalLattice, createThemedElementDisplay, optimizeModelForVR, getElementModelPath, getMoleculeModelPath, getCompoundModelPath, loadElementModel, loadMoleculeModel, createElementDisplay, scaleModelForVR, positionModelAt, createModelPedestal, createInteractiveHotspot, batchOptimizeModels, createLODModel, VRObjectPool, optimizeForMobileVR, createDistanceCuller, measureModelPerformance, validateModelForVR, createBillboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadModel\", function() { return loadModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createPlaceholderModel\", function() { return createPlaceholderModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createMoleculeModel\", function() { return createMoleculeModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createCrystalLattice\", function() { return createCrystalLattice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createThemedElementDisplay\", function() { return createThemedElementDisplay; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"optimizeModelForVR\", function() { return optimizeModelForVR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementModelPath\", function() { return getElementModelPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMoleculeModelPath\", function() { return getMoleculeModelPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCompoundModelPath\", function() { return getCompoundModelPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadElementModel\", function() { return loadElementModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadMoleculeModel\", function() { return loadMoleculeModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElementDisplay\", function() { return createElementDisplay; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scaleModelForVR\", function() { return scaleModelForVR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"positionModelAt\", function() { return positionModelAt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createModelPedestal\", function() { return createModelPedestal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createInteractiveHotspot\", function() { return createInteractiveHotspot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"batchOptimizeModels\", function() { return batchOptimizeModels; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createLODModel\", function() { return createLODModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VRObjectPool\", function() { return VRObjectPool; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"optimizeForMobileVR\", function() { return optimizeForMobileVR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createDistanceCuller\", function() { return createDistanceCuller; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"measureModelPerformance\", function() { return measureModelPerformance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateModelForVR\", function() { return validateModelForVR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createBillboard\", function() { return createBillboard; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader.js */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ \"./node_modules/three/examples/jsm/loaders/DRACOLoader.js\");\n/* harmony import */ var _data_elements_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/elements.js */ \"./src/data/elements.js\");\n\n\n\n\nconst loaders = {\n  gltf: new three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_1__[\"GLTFLoader\"](),\n  draco: new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__[\"DRACOLoader\"]()\n};\nfunction loadModel(modelPath, callback) {\n  const extension = modelPath.split('.').pop().toLowerCase();\n  switch (extension) {\n    case 'gltf':\n      loaders.gltf.load(modelPath, gltf => {\n        callback(gltf.scene, null, null);\n      }, error => {\n        console.error('Error loading GLTF model:', error);\n        callback(null, error, null);\n      });\n      break;\n    case 'glb':\n      loaders.gltf.load(modelPath, gltf => {\n        callback(gltf.scene, null, null);\n      }, error => {\n        console.error('Error loading GLB model:', error);\n        callback(null, error, null);\n      });\n      break;\n    default:\n      console.warn('Unknown model format:', extension);\n      callback(null, new Error('Unknown model format'), null);\n  }\n}\nfunction createPlaceholderModel(element) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  let geo, mat, mesh;\n  switch (element.symbol) {\n    case 'H':\n      geo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.3, 32, 32);\n      mat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: element.color,\n        metalness: 0.1,\n        roughness: 0.8\n      });\n      mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geo, mat);\n      mesh.position.set(0, 0, 0);\n      group.add(mesh);\n      break;\n    case 'C':\n      geo = new three__WEBPACK_IMPORTED_MODULE_0__[\"OctahedronGeometry\"](0.3, 1);\n      mat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: 0x333333,\n        metalness: 0.2,\n        roughness: 0.6\n      });\n      mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geo, mat);\n      mesh.position.set(0, 0, 0);\n      group.add(mesh);\n      break;\n    case 'Fe':\n      geo = new three__WEBPACK_IMPORTED_MODULE_0__[\"IcosahedronGeometry\"](0.3, 1);\n      mat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: 0x4a4a4a,\n        metalness: 0.8,\n        roughness: 0.3\n      });\n      mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geo, mat);\n      mesh.position.set(0, 0, 0);\n      group.add(mesh);\n      break;\n    case 'Au':\n      geo = new three__WEBPACK_IMPORTED_MODULE_0__[\"IcosahedronGeometry\"](0.3, 1);\n      mat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: 0xFFD700,\n        metalness: 0.9,\n        roughness: 0.1,\n        emissive: 0xFFD700,\n        emissiveIntensity: 0.1\n      });\n      mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geo, mat);\n      mesh.position.set(0, 0, 0);\n      group.add(mesh);\n      break;\n    case 'U':\n      geo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.35, 32, 32);\n      mat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: 0x2d5a2d,\n        metalness: 0.7,\n        roughness: 0.4,\n        emissive: 0x00ff00,\n        emissiveIntensity: 0.2\n      });\n      mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geo, mat);\n      mesh.position.set(0, 0, 0);\n      group.add(mesh);\n      break;\n    case 'Na':\n      geo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.3, 32, 32);\n      mat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: element.color,\n        metalness: 0.9,\n        roughness: 0.2\n      });\n      mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geo, mat);\n      mesh.position.set(0, 0, 0);\n      group.add(mesh);\n      break;\n    case 'He':\n      geo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.25, 32, 32);\n      mat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: _data_elements_js__WEBPACK_IMPORTED_MODULE_3__[\"NOBLE_GAS_COLORS\"][element.symbol] || element.color,\n        metalness: 0,\n        roughness: 0.1,\n        emissive: _data_elements_js__WEBPACK_IMPORTED_MODULE_3__[\"NOBLE_GAS_COLORS\"][element.symbol] || element.color,\n        emissiveIntensity: 0.15\n      });\n      mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geo, mat);\n      mesh.position.set(0, 0, 0);\n      group.add(mesh);\n      break;\n    default:\n      geo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.3, 32, 32);\n      mat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: element.color,\n        metalness: element.group === 'metal' || element.group === 'transition' ? 0.7 : 0.1,\n        roughness: element.group === 'metal' || element.group === 'transition' ? 0.3 : 0.7\n      });\n      mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geo, mat);\n      mesh.position.set(0, 0, 0);\n      group.add(mesh);\n  }\n  return group;\n}\nfunction createMoleculeModel(formula, elementData) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const atoms = [];\n  const parseFormula = formula => {\n    const elements = [];\n    const regex = /([A-Z][a-z]?)(\\d*)/g;\n    let match;\n    while ((match = regex.exec(formula)) !== null) {\n      elements.push({\n        symbol: match[1],\n        count: match[2] ? parseInt(match[2]) : 1\n      });\n    }\n    return elements;\n  };\n  const parsedFormula = parseFormula(formula);\n  const getElementColor = symbol => {\n    const elemData = elementData && elementData.find(e => e.symbol === symbol);\n    return elemData && elemData.color || 0xffffff;\n  };\n  const atomPositions = [];\n  let atomIndex = 0;\n  parsedFormula.forEach(item => {\n    for (let i = 0; i < item.count; i++) {\n      let x, y, z;\n      if (parsedFormula.length === 1 && item.count === 1) {\n        x = 0;\n        y = 0;\n        z = 0;\n      } else if (parsedFormula.length === 2) {\n        const angle = atomIndex * Math.PI;\n        x = Math.cos(angle) * 0.6;\n        y = 0;\n        z = Math.sin(angle) * 0.6;\n      } else if (parsedFormula.length === 3) {\n        x = atomIndex % 3 - 1;\n        y = 0;\n        z = Math.floor(atomIndex / 3) * 0.6 - 0.3;\n      } else {\n        const phi = Math.acos(-1 + 2 * atomIndex / parsedFormula.reduce((sum, p) => sum + p.count, 0));\n        const theta = Math.sqrt(parsedFormula.reduce((sum, p) => sum + p.count, 0) * Math.PI) * phi;\n        x = 0.7 * Math.cos(theta) * Math.sin(phi);\n        y = 0.7 * Math.sin(theta) * Math.sin(phi);\n        z = 0.7 * Math.cos(phi);\n      }\n      const geo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.25, 16, 16);\n      const mat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: getElementColor(item.symbol),\n        metalness: 0.3,\n        roughness: 0.6\n      });\n      const mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geo, mat);\n      mesh.position.set(x, y, z);\n      mesh.userData.elementSymbol = item.symbol;\n      group.add(mesh);\n      atomPositions.push({\n        mesh,\n        symbol: item.symbol,\n        pos: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](x, y, z)\n      });\n      atoms.push(mesh);\n      atomIndex++;\n    }\n  });\n  for (let i = 0; i < atomPositions.length; i++) {\n    for (let j = i + 1; j < atomPositions.length; j++) {\n      const dist = atomPositions[i].pos.distanceTo(atomPositions[j].pos);\n      if (dist < 1.2) {\n        const bondGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](0.04, 0.04, dist, 8);\n        const bondMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n          color: 0x888888,\n          metalness: 0.5,\n          roughness: 0.5\n        });\n        const bond = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](bondGeo, bondMat);\n        const midX = (atomPositions[i].pos.x + atomPositions[j].pos.x) / 2;\n        const midY = (atomPositions[i].pos.y + atomPositions[j].pos.y) / 2;\n        const midZ = (atomPositions[i].pos.z + atomPositions[j].pos.z) / 2;\n        bond.position.set(midX, midY, midZ);\n        bond.lookAt(atomPositions[j].pos);\n        bond.rotateX(Math.PI / 2);\n        group.add(bond);\n      }\n    }\n  }\n  return group;\n}\nfunction createCrystalLattice(element) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const gridSize = 3;\n  const spacing = 0.8;\n  const atomGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.15, 16, 16);\n  const atomMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: element.color,\n    metalness: 0.6,\n    roughness: 0.4\n  });\n  for (let x = 0; x < gridSize; x++) {\n    for (let y = 0; y < gridSize; y++) {\n      for (let z = 0; z < gridSize; z++) {\n        const atom = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](atomGeo, atomMat);\n        atom.position.set((x - gridSize / 2) * spacing, (y - gridSize / 2) * spacing, (z - gridSize / 2) * spacing);\n        group.add(atom);\n      }\n    }\n  }\n  return group;\n}\nfunction createThemedElementDisplay(element, type = 'standard') {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const baseSize = 1.0;\n  switch (type) {\n    case 'cosmic':\n      return createCosmicDisplay(element, baseSize);\n    case 'solar':\n      return createSolarDisplay(element, baseSize);\n    case 'metallic':\n      return createMetallicDisplay(element, baseSize);\n    case 'crystalline':\n      return createCrystallineDisplay(element, baseSize);\n    case 'gaseous':\n      return createGaseousDisplay(element, baseSize);\n    case 'radioactive':\n      return createRadioactiveDisplay(element, baseSize);\n    case 'biological':\n      return createBiologicalDisplay(element, baseSize);\n    case 'energy':\n      return createEnergyDisplay(element, baseSize);\n    default:\n      return createPlaceholderModel(element);\n  }\n}\nfunction createCosmicDisplay(element, size) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const outerGlowGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size * 1.5, 32, 32);\n  const outerGlowMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: element.color,\n    transparent: true,\n    opacity: 0.15\n  });\n  const outerGlow = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](outerGlowGeo, outerGlowMat);\n  group.add(outerGlow);\n  const coreGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size * 0.6, 32, 32);\n  const coreMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: 0xffffff,\n    emissive: element.color,\n    emissiveIntensity: 0.8\n  });\n  const core = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](coreGeo, coreMat);\n  group.add(core);\n  const particlesGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BufferGeometry\"]();\n  const particleCount = 100;\n  const positions = new Float32Array(particleCount * 3);\n  for (let i = 0; i < particleCount; i++) {\n    const theta = Math.random() * Math.PI * 2;\n    const phi = Math.random() * Math.PI;\n    const r = size * (1.5 + Math.random() * 0.5);\n    positions[i * 3] = r * Math.sin(phi) * Math.cos(theta);\n    positions[i * 3 + 1] = r * Math.sin(phi) * Math.sin(theta);\n    positions[i * 3 + 2] = r * Math.cos(phi);\n  }\n  particlesGeo.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_0__[\"BufferAttribute\"](positions, 3));\n  const particlesMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"PointsMaterial\"]({\n    color: element.color,\n    size: 0.03,\n    transparent: true,\n    opacity: 0.6\n  });\n  const particles = new three__WEBPACK_IMPORTED_MODULE_0__[\"Points\"](particlesGeo, particlesMat);\n  group.add(particles);\n  return group;\n}\nfunction createSolarDisplay(element, size) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const coronaGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size * 1.3, 32, 32);\n  const coronaMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: _data_elements_js__WEBPACK_IMPORTED_MODULE_3__[\"NOBLE_GAS_COLORS\"][element.symbol] || 0xffaa00,\n    transparent: true,\n    opacity: 0.2\n  });\n  const corona = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](coronaGeo, coronaMat);\n  group.add(corona);\n  const surfaceGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size, 32, 32);\n  const surfaceMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: _data_elements_js__WEBPACK_IMPORTED_MODULE_3__[\"NOBLE_GAS_COLORS\"][element.symbol] || 0xffaa00,\n    emissive: _data_elements_js__WEBPACK_IMPORTED_MODULE_3__[\"NOBLE_GAS_COLORS\"][element.symbol] || 0xffaa00,\n    emissiveIntensity: 0.5,\n    metalness: 0.3,\n    roughness: 0.7\n  });\n  const surface = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](surfaceGeo, surfaceMat);\n  group.add(surface);\n  return group;\n}\nfunction createMetallicDisplay(element, size) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const mainGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"IcosahedronGeometry\"](size, 2);\n  const mainMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: element.color,\n    metalness: 0.9,\n    roughness: 0.1,\n    envMapIntensity: 1.0\n  });\n  const main = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](mainGeo, mainMat);\n  group.add(main);\n  const highlightGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"IcosahedronGeometry\"](size * 1.05, 1);\n  const highlightMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xffffff,\n    transparent: true,\n    opacity: 0.1,\n    wireframe: true\n  });\n  const highlight = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](highlightGeo, highlightMat);\n  group.add(highlight);\n  return group;\n}\nfunction createCrystallineDisplay(element, size) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const crystalGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"OctahedronGeometry\"](size, 1);\n  const crystalMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: element.color,\n    metalness: 0.4,\n    roughness: 0.3,\n    transparent: true,\n    opacity: 0.85\n  });\n  const crystal = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](crystalGeo, crystalMat);\n  group.add(crystal);\n  const innerGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"OctahedronGeometry\"](size * 0.6, 0);\n  const innerMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xffffff,\n    transparent: true,\n    opacity: 0.3\n  });\n  const inner = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](innerGeo, innerMat);\n  group.add(inner);\n  return group;\n}\nfunction createGaseousDisplay(element, size) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const blobGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size, 32, 32);\n  const blobMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: _data_elements_js__WEBPACK_IMPORTED_MODULE_3__[\"NOBLE_GAS_COLORS\"][element.symbol] || element.color,\n    metalness: 0,\n    roughness: 1.0,\n    transparent: true,\n    opacity: 0.6\n  });\n  const blob = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](blobGeo, blobMat);\n  group.add(blob);\n  for (let i = 0; i < 5; i++) {\n    const smallBlobGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size * 0.3, 16, 16);\n    const smallBlobMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: _data_elements_js__WEBPACK_IMPORTED_MODULE_3__[\"NOBLE_GAS_COLORS\"][element.symbol] || element.color,\n      transparent: true,\n      opacity: 0.3\n    });\n    const smallBlob = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](smallBlobGeo, smallBlobMat);\n    const angle = i / 5 * Math.PI * 2;\n    smallBlob.position.set(Math.cos(angle) * size * 1.2, Math.sin(angle * 0.5) * size * 0.3, Math.sin(angle) * size * 1.2);\n    group.add(smallBlob);\n  }\n  return group;\n}\nfunction createRadioactiveDisplay(element, size) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const coreGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size * 0.6, 32, 32);\n  const coreMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: element.color,\n    emissive: 0x00ff00,\n    emissiveIntensity: 0.5,\n    metalness: 0.6,\n    roughness: 0.4\n  });\n  const core = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](coreGeo, coreMat);\n  group.add(core);\n  const pulseGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size, 32, 32);\n  const pulseMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x00ff00,\n    transparent: true,\n    opacity: 0.2\n  });\n  const pulse = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](pulseGeo, pulseMat);\n  group.add(pulse);\n  return group;\n}\nfunction createBiologicalDisplay(element, size) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const organicGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"TorusKnotGeometry\"](size * 0.5, 0.1, 64, 8, 2, 3);\n  const organicMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: element.color,\n    metalness: 0.2,\n    roughness: 0.8\n  });\n  const organic = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](organicGeo, organicMat);\n  organic.rotation.x = Math.PI / 4;\n  group.add(organic);\n  const cellGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size * 0.2, 16, 16);\n  const cellMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: element.color,\n    transparent: true,\n    opacity: 0.4\n  });\n  for (let i = 0; i < 6; i++) {\n    const cell = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](cellGeo, cellMat);\n    const angle = i / 6 * Math.PI * 2;\n    cell.position.set(Math.cos(angle) * size, Math.sin(angle) * size * 0.3, Math.sin(angle) * size);\n    group.add(cell);\n  }\n  return group;\n}\nfunction createEnergyDisplay(element, size) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const energyGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"OctahedronGeometry\"](size, 1);\n  const energyMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: element.color,\n    emissive: element.color,\n    emissiveIntensity: 0.6,\n    metalness: 0.3,\n    roughness: 0.5\n  });\n  const energy = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](energyGeo, energyMat);\n  group.add(energy);\n  const rays = [];\n  for (let i = 0; i < 8; i++) {\n    const rayGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](0.02, 0.01, size * 1.5, 8);\n    const rayMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: element.color,\n      transparent: true,\n      opacity: 0.4\n    });\n    const ray = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](rayGeo, rayMat);\n    const angle = i / 8 * Math.PI * 2;\n    const elevation = i % 2 * Math.PI / 3 - Math.PI / 6;\n    ray.position.set(Math.cos(angle) * Math.cos(elevation) * size * 0.8, Math.sin(elevation) * size * 0.8, Math.sin(angle) * Math.cos(elevation) * size * 0.8);\n    ray.lookAt(ray.position.clone().multiplyScalar(2));\n    group.add(ray);\n    rays.push(ray);\n  }\n  return group;\n}\nfunction optimizeModelForVR(model) {\n  model.traverse(child => {\n    if (child.isMesh) {\n      child.castShadow = false;\n      child.receiveShadow = false;\n      if (child.material) {\n        child.material.side = three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"];\n        child.material.needsUpdate = true;\n        child.material.transparent = child.material.opacity < 1;\n        child.material.depthWrite = !child.material.transparent;\n        child.material.depthTest = child.material.transparent ? three__WEBPACK_IMPORTED_MODULE_0__[\"DepthTest\"] : three__WEBPACK_IMPORTED_MODULE_0__[\"DepthTest\"].Always;\n      }\n    }\n    if (child.isLight) {\n      child.castShadow = false;\n      child.distance = 30;\n      child.intensity *= 0.7;\n    }\n  });\n  model.traverse(child => {\n    if (child.isMesh && child.geometry) {\n      child.geometry.computeBoundingSphere();\n    }\n  });\n  return model;\n}\nconst ASSET_PATHS = {\n  elementModels: {\n    'H': 'assets/elements/hydrogen.glb',\n    'C': 'assets/elements/carbon.glb',\n    'Fe': 'assets/elements/iron.glb',\n    'Au': 'assets/elements/gold.glb',\n    'U': 'assets/elements/uranium.glb',\n    'Na': 'assets/elements/sodium.glb',\n    'He': 'assets/elements/helium.glb',\n    'O': 'assets/elements/oxygen.glb',\n    'N': 'assets/elements/nitrogen.glb',\n    'S': 'assets/elements/sulfur.glb',\n    'Cu': 'assets/elements/copper.glb',\n    'Al': 'assets/elements/aluminum.glb',\n    'Si': 'assets/elements/silicon.glb',\n    'Ca': 'assets/elements/calcium.glb',\n    'Mg': 'assets/elements/magnesium.glb'\n  },\n  moleculeModels: {\n    'H2O': 'assets/molecules/water.glb',\n    'CO2': 'assets/molecules/carbon_dioxide.glb',\n    'CH4': 'assets/molecules/methane.glb',\n    'NaCl': 'assets/molecules/salt.glb',\n    'O2': 'assets/molecules/oxygen.glb',\n    'N2': 'assets/molecules/nitrogen.glb',\n    'C6H12O6': 'assets/molecules/glucose.glb',\n    'DNA': 'assets/molecules/dna.glb',\n    'NH3': 'assets/molecules/ammonia.glb'\n  },\n  compoundModels: {\n    'steel': 'assets/compounds/steel.glb',\n    'bronze': 'assets/compounds/bronze.glb',\n    'brass': 'assets/compounds/brass.glb',\n    'quartz': 'assets/compounds/quartz.glb',\n    'diamond': 'assets/compounds/diamond.glb',\n    'graphite': 'assets/compounds/graphite.glb'\n  }\n};\nfunction getElementModelPath(elementSymbol) {\n  return ASSET_PATHS.elementModels[elementSymbol] || null;\n}\nfunction getMoleculeModelPath(formula) {\n  return ASSET_PATHS.moleculeModels[formula] || null;\n}\nfunction getCompoundModelPath(compoundName) {\n  return ASSET_PATHS.compoundModels[compoundName] || null;\n}\nfunction loadElementModel(element, callback) {\n  const modelPath = getElementModelPath(element.symbol);\n  if (modelPath) {\n    loadModel(modelPath, (scene, error) => {\n      if (error) {\n        console.warn(`Failed to load model for ${element.symbol}, using procedural`);\n        callback(createThemedElementDisplay(element, element.theme || 'standard'), null);\n      } else {\n        const optimized = optimizeModelForVR(scene);\n        optimized.scale.set(0.5, 0.5, 0.5);\n        callback(optimized, null);\n      }\n    });\n  } else {\n    const themed = createThemedElementDisplay(element, element.theme || 'standard');\n    callback(themed, null);\n  }\n}\nfunction loadMoleculeModel(formula, elementData, callback) {\n  const modelPath = getMoleculeModelPath(formula);\n  if (modelPath) {\n    loadModel(modelPath, (scene, error) => {\n      if (error) {\n        console.warn(`Failed to load molecule ${formula}, using procedural`);\n        callback(createMoleculeModel(formula, elementData), null);\n      } else {\n        const optimized = optimizeModelForVR(scene);\n        optimized.scale.set(0.5, 0.5, 0.5);\n        callback(optimized, null);\n      }\n    });\n  } else {\n    const procedural = createMoleculeModel(formula, elementData);\n    callback(procedural, null);\n  }\n}\nfunction createElementDisplay(element, displayType = 'standard') {\n  const displayMap = {\n    'cosmic': () => createThemedElementDisplay(element, 'cosmic'),\n    'solar': () => createThemedElementDisplay(element, 'solar'),\n    'energy': () => createThemedElementDisplay(element, 'energy'),\n    'metallic': () => createThemedElementDisplay(element, 'metallic'),\n    'crystalline': () => createThemedElementDisplay(element, 'crystalline'),\n    'gaseous': () => createThemedElementDisplay(element, 'gaseous'),\n    'radioactive': () => createThemedElementDisplay(element, 'radioactive'),\n    'biological': () => createThemedElementDisplay(element, 'biological'),\n    'industry': () => createThemedElementDisplay(element, 'metallic'),\n    'technology': () => createThemedElementDisplay(element, 'metallic'),\n    'toxic': () => createThemedElementDisplay(element, 'metallic'),\n    'precious': () => createThemedElementDisplay(element, 'metallic'),\n    'historical': () => createThemedElementDisplay(element, 'metallic'),\n    'medical': () => createThemedElementDisplay(element, 'metallic'),\n    'nuclear': () => createThemedElementDisplay(element, 'radioactive'),\n    'space': () => createThemedElementDisplay(element, 'cosmic'),\n    'research': () => createThemedElementDisplay(element, 'metallic'),\n    'light': () => createThemedElementDisplay(element, 'cosmic'),\n    'fire': () => createThemedElementDisplay(element, 'energy'),\n    'volcano': () => createThemedElementDisplay(element, 'radioactive'),\n    'swimming': () => createThemedElementDisplay(element, 'gaseous'),\n    'welding': () => createThemedElementDisplay(element, 'gaseous'),\n    'skeleton': () => createThemedElementDisplay(element, 'biological'),\n    'forge': () => createThemedElementDisplay(element, 'metallic'),\n    'electric': () => createThemedElementDisplay(element, 'metallic'),\n    'treasure': () => createThemedElementDisplay(element, 'metallic'),\n    'kitchen': () => createThemedElementDisplay(element, 'metallic'),\n    'silicon': () => createThemedElementDisplay(element, 'crystalline'),\n    'desert': () => createThemedElementDisplay(element, 'crystalline'),\n    'breath': () => createThemedElementDisplay(element, 'gaseous'),\n    'atmosphere': () => createThemedElementDisplay(element, 'gaseous'),\n    'protection': () => createThemedElementDisplay(element, 'metallic'),\n    'lights': () => createThemedElementDisplay(element, 'solar')\n  };\n  const displayFn = displayMap[displayType] || displayMap['standard'];\n  return displayFn ? displayFn() : createPlaceholderModel(element);\n}\nfunction scaleModelForVR(model, targetScale = 1.0) {\n  const bbox = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]().setFromObject(model);\n  const size = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n  bbox.getSize(size);\n  const maxDim = Math.max(size.x, size.y, size.z);\n  const scaleFactor = targetScale / maxDim;\n  model.scale.multiplyScalar(scaleFactor);\n  return model;\n}\nfunction positionModelAt(model, position = {\n  x: 0,\n  y: 0,\n  z: 0\n}, lookAt = null) {\n  model.position.set(position.x, position.y, position.z);\n  if (lookAt) {\n    const target = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](lookAt.x, lookAt.y, lookAt.z);\n    model.lookAt(target);\n  }\n  return model;\n}\nfunction createModelPedestal(size = 1.0, color = 0x333333) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const baseGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](size * 0.6, size * 0.8, size * 0.2, 32);\n  const baseMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: color,\n    metalness: 0.3,\n    roughness: 0.7\n  });\n  const base = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](baseGeo, baseMat);\n  base.position.y = 0;\n  group.add(base);\n  const pillarGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](size * 0.4, size * 0.5, size * 1.0, 32);\n  const pillarMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: 0x444444,\n    metalness: 0.2,\n    roughness: 0.6\n  });\n  const pillar = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](pillarGeo, pillarMat);\n  pillar.position.y = size * 0.6;\n  group.add(pillar);\n  const topGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](size * 0.5, size * 0.6, size * 0.15, 32);\n  const topMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: color,\n    metalness: 0.5,\n    roughness: 0.4\n  });\n  const top = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](topGeo, topMat);\n  top.position.y = size * 1.7;\n  group.add(top);\n  return group;\n}\nfunction createInteractiveHotspot(size = 0.2, color = 0xff6b6b) {\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const sphereGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](size, 16, 16);\n  const sphereMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: color,\n    transparent: true,\n    opacity: 0.6\n  });\n  const sphere = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](sphereGeo, sphereMat);\n  group.add(sphere);\n  const ringGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"RingGeometry\"](size * 1.5, size * 1.5, 32);\n  const ringMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: color,\n    transparent: true,\n    opacity: 0.3,\n    side: three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"]\n  });\n  const ring = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](ringGeo, ringMat);\n  ring.rotation.x = Math.PI / 2;\n  group.add(ring);\n  group.userData.interactive = true;\n  group.userData.hotspotType = 'info';\n  return group;\n}\nfunction batchOptimizeModels(models) {\n  const scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n  models.forEach(model => {\n    scene.add(model);\n  });\n  scene.traverse(child => {\n    if (child.isMesh) {\n      child.geometry.computeBoundingSphere();\n    }\n  });\n  return scene;\n}\nfunction createLODModel(baseModel, levels = 3) {\n  const lodGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const distances = [0, 5, 10, 20];\n  for (let level = 0; level < levels; level++) {\n    const clone = baseModel.clone();\n    const simplifyFactor = level / (levels - 1);\n    clone.traverse(child => {\n      if (child.isMesh && child.geometry) {\n        const originalVertices = child.geometry.attributes.position.count;\n        const targetVertices = Math.floor(originalVertices * (1 - simplifyFactor * 0.5));\n        if (child.geometry.index) {\n          child.geometry.setDrawRange(0, targetVertices);\n        }\n        if (child.material) {\n          const simplifiedMat = child.material.clone();\n          simplifiedMat.wireframe = level === levels - 1;\n          child.material = simplifiedMat;\n        }\n      }\n    });\n    clone.position.set(0, 0, 0);\n    lodGroup.add(clone);\n  }\n  return lodGroup;\n}\nclass VRObjectPool {\n  constructor() {\n    this.pools = new Map();\n    this.maxSize = 50;\n  }\n  get(type, key) {\n    const poolKey = `${type}_${key}`;\n    if (!this.pools.has(poolKey)) {\n      this.pools.set(poolKey, []);\n    }\n    const pool = this.pools.get(poolKey);\n    return pool.length > 0 ? pool.pop() : null;\n  }\n  release(type, key, object) {\n    const poolKey = `${type}_${key}`;\n    if (!this.pools.has(poolKey)) {\n      this.pools.set(poolKey, []);\n    }\n    const pool = this.pools.get(poolKey);\n    if (pool.length < this.maxSize) {\n      object.visible = false;\n      object.position.set(0, 0, 0);\n      object.rotation.set(0, 0, 0);\n      pool.push(object);\n    } else {\n      object.traverse(child => {\n        if (child.geometry) child.geometry.dispose();\n        if (child.material) child.material.dispose();\n      });\n    }\n  }\n  dispose() {\n    this.pools.forEach(pool => {\n      pool.forEach(object => {\n        object.traverse(child => {\n          if (child.geometry) child.geometry.dispose();\n          if (child.material) child.material.dispose();\n        });\n      });\n    });\n    this.pools.clear();\n  }\n}\nfunction optimizeForMobileVR(model) {\n  const simplified = model.clone();\n  simplified.traverse(child => {\n    if (child.isMesh) {\n      if (child.geometry) {\n        child.geometry.computeVertexNormals();\n        if (child.geometry.attributes.uv) {\n          const uv = child.geometry.attributes.uv;\n          for (let i = 0; i < uv.count; i++) {\n            uv.setXY(i, Math.round(uv.getX(i) * 64) / 64, Math.round(uv.getY(i) * 64) / 64);\n          }\n          uv.needsUpdate = true;\n        }\n      }\n      if (child.material) {\n        if (child.material.map) {\n          if (child.material.map.image) {\n            const canvas = document.createElement('canvas');\n            canvas.width = 64;\n            canvas.height = 64;\n            const ctx = canvas.getContext('2d');\n            ctx.drawImage(child.material.map.image, 0, 0, 64, 64);\n            const texture = new three__WEBPACK_IMPORTED_MODULE_0__[\"CanvasTexture\"](canvas);\n            child.material.map = texture;\n          }\n        }\n        child.material.side = three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"];\n        if (Array.isArray(child.material)) {\n          child.material.forEach(mat => {\n            mat.side = three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"];\n          });\n        }\n      }\n    }\n  });\n  return simplified;\n}\nfunction createDistanceCuller(models, camera) {\n  return {\n    update: function () {\n      const frustum = new three__WEBPACK_IMPORTED_MODULE_0__[\"Frustum\"]();\n      frustum.setFromProjectionMatrix(camera.projectionMatrix);\n      frustum.multiplyMatrices(camera.matrixWorldInverse, frustum);\n      models.forEach(model => {\n        if (model.userData.boundingSphere) {\n          model.visible = frustum.intersectsSphere(model.userData.boundingSphere);\n        } else {\n          const sphere = new three__WEBPACK_IMPORTED_MODULE_0__[\"Sphere\"]();\n          sphere.setFromObject(model);\n          model.userData.boundingSphere = sphere;\n          model.visible = frustum.intersectsSphere(sphere);\n        }\n      });\n    }\n  };\n}\nfunction measureModelPerformance(model) {\n  const stats = {\n    vertices: 0,\n    triangles: 0,\n    materials: 0,\n    drawCalls: 0\n  };\n  model.traverse(child => {\n    if (child.isMesh) {\n      if (child.geometry) {\n        if (child.geometry.attributes.position) {\n          stats.vertices += child.geometry.attributes.position.count;\n        }\n        if (child.geometry.index) {\n          stats.triangles += child.geometry.index.count / 3;\n        } else {\n          stats.triangles += child.geometry.attributes.position.count / 3;\n        }\n      }\n      if (child.material) {\n        const mats = Array.isArray(child.material) ? child.material : [child.material];\n        stats.materials += mats.length;\n        stats.drawCalls++;\n      }\n    }\n  });\n  return stats;\n}\nfunction validateModelForVR(model, warnings = []) {\n  const stats = measureModelPerformance(model);\n  if (stats.triangles > 100000) {\n    warnings.push({\n      type: 'high_poly',\n      message: `Model has ${stats.triangles.toLocaleString()} triangles. Consider simplifying.`,\n      severity: 'warning'\n    });\n  }\n  if (stats.triangles > 50000) {\n    warnings.push({\n      type: 'medium_poly',\n      message: `Model has ${stats.triangles.toLocaleString()} triangles. Recommended: <50k for VR.`,\n      severity: 'info'\n    });\n  }\n  if (stats.materials > 10) {\n    warnings.push({\n      type: 'high_materials',\n      message: `Model uses ${stats.materials} materials. Consider batching.`,\n      severity: 'warning'\n    });\n  }\n  const hasAnimation = model.animations && model.animations.length > 0;\n  if (hasAnimation && stats.triangles > 20000) {\n    warnings.push({\n      type: 'animated_poly',\n      message: `Animated model has ${stats.triangles.toLocaleString()} triangles. High for VR animation.`,\n      severity: 'warning'\n    });\n  }\n  model.userData.validationWarnings = warnings;\n  model.userData.performanceStats = stats;\n  return {\n    stats,\n    warnings\n  };\n}\nfunction createBillboard(text, color, size = 1) {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  canvas.width = 512;\n  canvas.height = 256;\n  ctx.font = `${size * 60}px Arial`;\n  ctx.fillStyle = color || '#ffffff';\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  ctx.fillText(text, 256, 128);\n  const texture = new three__WEBPACK_IMPORTED_MODULE_0__[\"CanvasTexture\"](canvas);\n  texture.needsUpdate = true;\n  const geo = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](1, 0.5);\n  const mat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    map: texture,\n    transparent: true,\n    side: three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"]\n  });\n  const mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geo, mat);\n  mesh.position.set(0, 0, 0);\n  const group = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  group.add(mesh);\n  return group;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL21vZGVsTG9hZGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9tb2RlbExvYWRlci5qcz9mZmEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXIuanMnO1xyXG5pbXBvcnQgeyBEUkFDT0xvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0RSQUNPTG9hZGVyLmpzJztcclxuaW1wb3J0IHsgTk9CTEVfR0FTX0NPTE9SUyB9IGZyb20gJy4uL2RhdGEvZWxlbWVudHMuanMnO1xyXG5cclxuY29uc3QgbG9hZGVycyA9IHtcclxuICBnbHRmOiBuZXcgR0xURkxvYWRlcigpLFxyXG4gIGRyYWNvOiBuZXcgRFJBQ09Mb2FkZXIoKVxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRNb2RlbChtb2RlbFBhdGgsIGNhbGxiYWNrKSB7XHJcbiAgY29uc3QgZXh0ZW5zaW9uID0gbW9kZWxQYXRoLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgc3dpdGNoKGV4dGVuc2lvbikge1xyXG4gICAgY2FzZSAnZ2x0Zic6XHJcbiAgICBsb2FkZXJzLmdsdGYubG9hZChcclxuICAgICAgbW9kZWxQYXRoLFxyXG4gICAgICAoZ2x0ZikgPT4ge1xyXG4gICAgICAgIGNhbGxiYWNrKGdsdGYuc2NlbmUsIG51bGwsIG51bGwpO1xyXG4gICAgICB9LFxyXG4gICAgICAoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIEdMVEYgbW9kZWw6JywgZXJyb3IpO1xyXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGVycm9yLCBudWxsKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdnbGInOlxyXG4gICAgICBsb2FkZXJzLmdsdGYubG9hZChcclxuICAgICAgICBtb2RlbFBhdGgsXHJcbiAgICAgICAgKGdsdGYpID0+IHtcclxuICAgICAgICAgIGNhbGxiYWNrKGdsdGYuc2NlbmUsIG51bGwsIG51bGwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIEdMQiBtb2RlbDonLCBlcnJvcik7XHJcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCBlcnJvciwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGNvbnNvbGUud2FybignVW5rbm93biBtb2RlbCBmb3JtYXQ6JywgZXh0ZW5zaW9uKTtcclxuICAgICAgY2FsbGJhY2sobnVsbCwgbmV3IEVycm9yKCdVbmtub3duIG1vZGVsIGZvcm1hdCcpLCBudWxsKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQbGFjZWhvbGRlck1vZGVsKGVsZW1lbnQpIHtcclxuICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG4gIGxldCBnZW8sIG1hdCwgbWVzaDtcclxuXHJcbiAgc3dpdGNoKGVsZW1lbnQuc3ltYm9sKSB7XHJcbiAgICBjYXNlICdIJzpcclxuICAgICAgZ2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuMywgMzIsIDMyKTtcclxuICAgICAgbWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtjb2xvcjogZWxlbWVudC5jb2xvciwgbWV0YWxuZXNzOiAwLjEsIHJvdWdobmVzczogMC44fSk7XHJcbiAgICAgIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW8sIG1hdCk7XHJcbiAgICAgIG1lc2gucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG4gICAgICBncm91cC5hZGQobWVzaCk7XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgJ0MnOlxyXG4gICAgICBnZW8gPSBuZXcgVEhSRUUuT2N0YWhlZHJvbkdlb21ldHJ5KDAuMywgMSk7XHJcbiAgICAgIG1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7Y29sb3I6IDB4MzMzMzMzLCBtZXRhbG5lc3M6IDAuMiwgcm91Z2huZXNzOiAwLjZ9KTtcclxuICAgICAgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKGdlbywgbWF0KTtcclxuICAgICAgbWVzaC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XHJcbiAgICAgIGdyb3VwLmFkZChtZXNoKTtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSAnRmUnOlxyXG4gICAgICBnZW8gPSBuZXcgVEhSRUUuSWNvc2FoZWRyb25HZW9tZXRyeSgwLjMsIDEpO1xyXG4gICAgICBtYXQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe2NvbG9yOiAweDRhNGE0YSwgbWV0YWxuZXNzOiAwLjgsIHJvdWdobmVzczogMC4zfSk7XHJcbiAgICAgIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW8sIG1hdCk7XHJcbiAgICAgIG1lc2gucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG4gICAgICBncm91cC5hZGQobWVzaCk7XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgJ0F1JzpcclxuICAgICAgZ2VvID0gbmV3IFRIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnkoMC4zLCAxKTtcclxuICAgICAgbWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgICBjb2xvcjogMHhGRkQ3MDAsXHJcbiAgICAgICAgbWV0YWxuZXNzOiAwLjksXHJcbiAgICAgICAgcm91Z2huZXNzOiAwLjEsXHJcbiAgICAgICAgZW1pc3NpdmU6IDB4RkZENzAwLFxyXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjFcclxuICAgICAgfSk7XHJcbiAgICAgIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW8sIG1hdCk7XHJcbiAgICAgIG1lc2gucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG4gICAgICBncm91cC5hZGQobWVzaCk7XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgJ1UnOlxyXG4gICAgICBnZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMC4zNSwgMzIsIDMyKTtcclxuICAgICAgbWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgICBjb2xvcjogMHgyZDVhMmQsXHJcbiAgICAgICAgbWV0YWxuZXNzOiAwLjcsXHJcbiAgICAgICAgcm91Z2huZXNzOiAwLjQsXHJcbiAgICAgICAgZW1pc3NpdmU6IDB4MDBmZjAwLFxyXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjJcclxuICAgICAgfSk7XHJcbiAgICAgIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW8sIG1hdCk7XHJcbiAgICAgIG1lc2gucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG4gICAgICBncm91cC5hZGQobWVzaCk7XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgJ05hJzpcclxuICAgICAgZ2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuMywgMzIsIDMyKTtcclxuICAgICAgbWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgICBjb2xvcjogZWxlbWVudC5jb2xvcixcclxuICAgICAgICBtZXRhbG5lc3M6IDAuOSxcclxuICAgICAgICByb3VnaG5lc3M6IDAuMlxyXG4gICAgICB9KTtcclxuICAgICAgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKGdlbywgbWF0KTtcclxuICAgICAgbWVzaC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XHJcbiAgICAgIGdyb3VwLmFkZChtZXNoKTtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSAnSGUnOlxyXG4gICAgICBnZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMC4yNSwgMzIsIDMyKTtcclxuICAgICAgbWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgICBjb2xvcjogTk9CTEVfR0FTX0NPTE9SU1tlbGVtZW50LnN5bWJvbF0gfHwgZWxlbWVudC5jb2xvcixcclxuICAgICAgICBtZXRhbG5lc3M6IDAsXHJcbiAgICAgICAgcm91Z2huZXNzOiAwLjEsXHJcbiAgICAgICAgZW1pc3NpdmU6IE5PQkxFX0dBU19DT0xPUlNbZWxlbWVudC5zeW1ib2xdIHx8IGVsZW1lbnQuY29sb3IsXHJcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IDAuMTVcclxuICAgICAgfSk7XHJcbiAgICAgIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW8sIG1hdCk7XHJcbiAgICAgIG1lc2gucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG4gICAgICBncm91cC5hZGQobWVzaCk7XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGdlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjMsIDMyLCAzMik7XHJcbiAgICAgIG1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICAgICAgY29sb3I6IGVsZW1lbnQuY29sb3IsXHJcbiAgICAgICAgbWV0YWxuZXNzOiBlbGVtZW50Lmdyb3VwID09PSAnbWV0YWwnIHx8IGVsZW1lbnQuZ3JvdXAgPT09ICd0cmFuc2l0aW9uJyA/IDAuNyA6IDAuMSxcclxuICAgICAgICByb3VnaG5lc3M6IGVsZW1lbnQuZ3JvdXAgPT09ICdtZXRhbCcgfHwgZWxlbWVudC5ncm91cCA9PT0gJ3RyYW5zaXRpb24nID8gMC4zIDogMC43XHJcbiAgICAgIH0pO1xyXG4gICAgICBtZXNoID0gbmV3IFRIUkVFLk1lc2goZ2VvLCBtYXQpO1xyXG4gICAgICBtZXNoLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcclxuICAgICAgZ3JvdXAuYWRkKG1lc2gpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGdyb3VwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTW9sZWN1bGVNb2RlbChmb3JtdWxhLCBlbGVtZW50RGF0YSkge1xyXG4gIGNvbnN0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcbiAgY29uc3QgYXRvbXMgPSBbXTtcclxuXHJcbiAgY29uc3QgcGFyc2VGb3JtdWxhID0gKGZvcm11bGEpID0+IHtcclxuICAgIGNvbnN0IGVsZW1lbnRzID0gW107XHJcbiAgICBjb25zdCByZWdleCA9IC8oW0EtWl1bYS16XT8pKFxcZCopL2c7XHJcbiAgICBsZXQgbWF0Y2g7XHJcbiAgICB3aGlsZSAoKG1hdGNoID0gcmVnZXguZXhlYyhmb3JtdWxhKSkgIT09IG51bGwpIHtcclxuICAgICAgZWxlbWVudHMucHVzaCh7XHJcbiAgICAgICAgc3ltYm9sOiBtYXRjaFsxXSxcclxuICAgICAgICBjb3VudDogbWF0Y2hbMl0gPyBwYXJzZUludChtYXRjaFsyXSkgOiAxXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVsZW1lbnRzO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHBhcnNlZEZvcm11bGEgPSBwYXJzZUZvcm11bGEoZm9ybXVsYSk7XHJcblxyXG4gIGNvbnN0IGdldEVsZW1lbnRDb2xvciA9IChzeW1ib2wpID0+IHtcclxuICAgIGNvbnN0IGVsZW1EYXRhID0gZWxlbWVudERhdGEgJiYgZWxlbWVudERhdGEuZmluZChlID0+IGUuc3ltYm9sID09PSBzeW1ib2wpO1xyXG4gICAgcmV0dXJuIGVsZW1EYXRhICYmIGVsZW1EYXRhLmNvbG9yIHx8IDB4ZmZmZmZmO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGF0b21Qb3NpdGlvbnMgPSBbXTtcclxuICBsZXQgYXRvbUluZGV4ID0gMDtcclxuXHJcbiAgcGFyc2VkRm9ybXVsYS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtLmNvdW50OyBpKyspIHtcclxuICAgICAgbGV0IHgsIHksIHo7XHJcblxyXG4gICAgICBpZiAocGFyc2VkRm9ybXVsYS5sZW5ndGggPT09IDEgJiYgaXRlbS5jb3VudCA9PT0gMSkge1xyXG4gICAgICAgIHggPSAwOyB5ID0gMDsgeiA9IDA7XHJcbiAgICAgIH0gZWxzZSBpZiAocGFyc2VkRm9ybXVsYS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICBjb25zdCBhbmdsZSA9IGF0b21JbmRleCAqIE1hdGguUEk7XHJcbiAgICAgICAgeCA9IE1hdGguY29zKGFuZ2xlKSAqIDAuNjtcclxuICAgICAgICB5ID0gMDtcclxuICAgICAgICB6ID0gTWF0aC5zaW4oYW5nbGUpICogMC42O1xyXG4gICAgICB9IGVsc2UgaWYgKHBhcnNlZEZvcm11bGEubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgeCA9IChhdG9tSW5kZXggJSAzKSAtIDE7XHJcbiAgICAgICAgeSA9IDA7XHJcbiAgICAgICAgeiA9IE1hdGguZmxvb3IoYXRvbUluZGV4IC8gMykgKiAwLjYgLSAwLjM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcGhpID0gTWF0aC5hY29zKC0xICsgKDIgKiBhdG9tSW5kZXgpIC8gcGFyc2VkRm9ybXVsYS5yZWR1Y2UoKHN1bSwgcCkgPT4gc3VtICsgcC5jb3VudCwgMCkpO1xyXG4gICAgICAgIGNvbnN0IHRoZXRhID0gTWF0aC5zcXJ0KHBhcnNlZEZvcm11bGEucmVkdWNlKChzdW0sIHApID0+IHN1bSArIHAuY291bnQsIDApICogTWF0aC5QSSkgKiBwaGk7XHJcbiAgICAgICAgeCA9IDAuNyAqIE1hdGguY29zKHRoZXRhKSAqIE1hdGguc2luKHBoaSk7XHJcbiAgICAgICAgeSA9IDAuNyAqIE1hdGguc2luKHRoZXRhKSAqIE1hdGguc2luKHBoaSk7XHJcbiAgICAgICAgeiA9IDAuNyAqIE1hdGguY29zKHBoaSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGdlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjI1LCAxNiwgMTYpO1xyXG4gICAgICBjb25zdCBtYXQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xyXG4gICAgICAgIGNvbG9yOiBnZXRFbGVtZW50Q29sb3IoaXRlbS5zeW1ib2wpLFxyXG4gICAgICAgIG1ldGFsbmVzczogMC4zLFxyXG4gICAgICAgIHJvdWdobmVzczogMC42XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk1lc2goZ2VvLCBtYXQpO1xyXG4gICAgICBtZXNoLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcclxuICAgICAgbWVzaC51c2VyRGF0YS5lbGVtZW50U3ltYm9sID0gaXRlbS5zeW1ib2w7XHJcbiAgICAgIGdyb3VwLmFkZChtZXNoKTtcclxuICAgICAgYXRvbVBvc2l0aW9ucy5wdXNoKHttZXNoLCBzeW1ib2w6IGl0ZW0uc3ltYm9sLCBwb3M6IG5ldyBUSFJFRS5WZWN0b3IzKHgsIHksIHopfSk7XHJcbiAgICAgIGF0b21zLnB1c2gobWVzaCk7XHJcbiAgICAgIGF0b21JbmRleCsrO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGF0b21Qb3NpdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGF0b21Qb3NpdGlvbnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgY29uc3QgZGlzdCA9IGF0b21Qb3NpdGlvbnNbaV0ucG9zLmRpc3RhbmNlVG8oYXRvbVBvc2l0aW9uc1tqXS5wb3MpO1xyXG4gICAgICBpZiAoZGlzdCA8IDEuMikge1xyXG4gICAgICAgIGNvbnN0IGJvbmRHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLjA0LCAwLjA0LCBkaXN0LCA4KTtcclxuICAgICAgICBjb25zdCBib25kTWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtjb2xvcjogMHg4ODg4ODgsIG1ldGFsbmVzczogMC41LCByb3VnaG5lc3M6IDAuNX0pO1xyXG4gICAgICAgIGNvbnN0IGJvbmQgPSBuZXcgVEhSRUUuTWVzaChib25kR2VvLCBib25kTWF0KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWlkWCA9IChhdG9tUG9zaXRpb25zW2ldLnBvcy54ICsgYXRvbVBvc2l0aW9uc1tqXS5wb3MueCkgLyAyO1xyXG4gICAgICAgIGNvbnN0IG1pZFkgPSAoYXRvbVBvc2l0aW9uc1tpXS5wb3MueSArIGF0b21Qb3NpdGlvbnNbal0ucG9zLnkpIC8gMjtcclxuICAgICAgICBjb25zdCBtaWRaID0gKGF0b21Qb3NpdGlvbnNbaV0ucG9zLnogKyBhdG9tUG9zaXRpb25zW2pdLnBvcy56KSAvIDI7XHJcblxyXG4gICAgICAgIGJvbmQucG9zaXRpb24uc2V0KG1pZFgsIG1pZFksIG1pZFopO1xyXG4gICAgICAgIGJvbmQubG9va0F0KGF0b21Qb3NpdGlvbnNbal0ucG9zKTtcclxuICAgICAgICBib25kLnJvdGF0ZVgoTWF0aC5QSSAvIDIpO1xyXG4gICAgICAgIGdyb3VwLmFkZChib25kKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGdyb3VwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ3J5c3RhbExhdHRpY2UoZWxlbWVudCkge1xyXG4gIGNvbnN0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcbiAgY29uc3QgZ3JpZFNpemUgPSAzO1xyXG4gIGNvbnN0IHNwYWNpbmcgPSAwLjg7XHJcbiAgY29uc3QgYXRvbUdlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjE1LCAxNiwgMTYpO1xyXG4gIGNvbnN0IGF0b21NYXQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xyXG4gICAgY29sb3I6IGVsZW1lbnQuY29sb3IsXHJcbiAgICBtZXRhbG5lc3M6IDAuNixcclxuICAgIHJvdWdobmVzczogMC40XHJcbiAgfSk7XHJcblxyXG4gIGZvciAobGV0IHggPSAwOyB4IDwgZ3JpZFNpemU7IHgrKykge1xyXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBncmlkU2l6ZTsgeSsrKSB7XHJcbiAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgZ3JpZFNpemU7IHorKykge1xyXG4gICAgICAgIGNvbnN0IGF0b20gPSBuZXcgVEhSRUUuTWVzaChhdG9tR2VvLCBhdG9tTWF0KTtcclxuICAgICAgICBhdG9tLnBvc2l0aW9uLnNldChcclxuICAgICAgICAgICh4IC0gZ3JpZFNpemUgLyAyKSAqIHNwYWNpbmcsXHJcbiAgICAgICAgICAoeSAtIGdyaWRTaXplIC8gMikgKiBzcGFjaW5nLFxyXG4gICAgICAgICAgKHogLSBncmlkU2l6ZSAvIDIpICogc3BhY2luZ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgZ3JvdXAuYWRkKGF0b20pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZ3JvdXA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCB0eXBlID0gJ3N0YW5kYXJkJykge1xyXG4gIGNvbnN0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcbiAgY29uc3QgYmFzZVNpemUgPSAxLjA7XHJcblxyXG4gIHN3aXRjaCh0eXBlKSB7XHJcbiAgICBjYXNlICdjb3NtaWMnOlxyXG4gICAgICByZXR1cm4gY3JlYXRlQ29zbWljRGlzcGxheShlbGVtZW50LCBiYXNlU2l6ZSk7XHJcbiAgICBjYXNlICdzb2xhcic6XHJcbiAgICAgIHJldHVybiBjcmVhdGVTb2xhckRpc3BsYXkoZWxlbWVudCwgYmFzZVNpemUpO1xyXG4gICAgY2FzZSAnbWV0YWxsaWMnOlxyXG4gICAgICByZXR1cm4gY3JlYXRlTWV0YWxsaWNEaXNwbGF5KGVsZW1lbnQsIGJhc2VTaXplKTtcclxuICAgIGNhc2UgJ2NyeXN0YWxsaW5lJzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUNyeXN0YWxsaW5lRGlzcGxheShlbGVtZW50LCBiYXNlU2l6ZSk7XHJcbiAgICBjYXNlICdnYXNlb3VzJzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUdhc2VvdXNEaXNwbGF5KGVsZW1lbnQsIGJhc2VTaXplKTtcclxuICAgIGNhc2UgJ3JhZGlvYWN0aXZlJzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZVJhZGlvYWN0aXZlRGlzcGxheShlbGVtZW50LCBiYXNlU2l6ZSk7XHJcbiAgICBjYXNlICdiaW9sb2dpY2FsJzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUJpb2xvZ2ljYWxEaXNwbGF5KGVsZW1lbnQsIGJhc2VTaXplKTtcclxuICAgIGNhc2UgJ2VuZXJneSc6XHJcbiAgICAgIHJldHVybiBjcmVhdGVFbmVyZ3lEaXNwbGF5KGVsZW1lbnQsIGJhc2VTaXplKTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVQbGFjZWhvbGRlck1vZGVsKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ29zbWljRGlzcGxheShlbGVtZW50LCBzaXplKSB7XHJcbiAgY29uc3QgZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcclxuXHJcbiAgY29uc3Qgb3V0ZXJHbG93R2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KHNpemUgKiAxLjUsIDMyLCAzMik7XHJcbiAgY29uc3Qgb3V0ZXJHbG93TWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgIGNvbG9yOiBlbGVtZW50LmNvbG9yLFxyXG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICBvcGFjaXR5OiAwLjE1XHJcbiAgfSk7XHJcbiAgY29uc3Qgb3V0ZXJHbG93ID0gbmV3IFRIUkVFLk1lc2gob3V0ZXJHbG93R2VvLCBvdXRlckdsb3dNYXQpO1xyXG4gIGdyb3VwLmFkZChvdXRlckdsb3cpO1xyXG5cclxuICBjb25zdCBjb3JlR2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KHNpemUgKiAwLjYsIDMyLCAzMik7XHJcbiAgY29uc3QgY29yZU1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogMHhmZmZmZmYsXHJcbiAgICBlbWlzc2l2ZTogZWxlbWVudC5jb2xvcixcclxuICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjhcclxuICB9KTtcclxuICBjb25zdCBjb3JlID0gbmV3IFRIUkVFLk1lc2goY29yZUdlbywgY29yZU1hdCk7XHJcbiAgZ3JvdXAuYWRkKGNvcmUpO1xyXG5cclxuICBjb25zdCBwYXJ0aWNsZXNHZW8gPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcclxuICBjb25zdCBwYXJ0aWNsZUNvdW50ID0gMTAwO1xyXG4gIGNvbnN0IHBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkocGFydGljbGVDb3VudCAqIDMpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydGljbGVDb3VudDsgaSsrKSB7XHJcbiAgICBjb25zdCB0aGV0YSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMjtcclxuICAgIGNvbnN0IHBoaSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJO1xyXG4gICAgY29uc3QgciA9IHNpemUgKiAoMS41ICsgTWF0aC5yYW5kb20oKSAqIDAuNSk7XHJcbiAgICBwb3NpdGlvbnNbaSAqIDNdID0gciAqIE1hdGguc2luKHBoaSkgKiBNYXRoLmNvcyh0aGV0YSk7XHJcbiAgICBwb3NpdGlvbnNbaSAqIDMgKyAxXSA9IHIgKiBNYXRoLnNpbihwaGkpICogTWF0aC5zaW4odGhldGEpO1xyXG4gICAgcG9zaXRpb25zW2kgKiAzICsgMl0gPSByICogTWF0aC5jb3MocGhpKTtcclxuICB9XHJcbiAgcGFydGljbGVzR2VvLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9ucywgMykpO1xyXG4gIGNvbnN0IHBhcnRpY2xlc01hdCA9IG5ldyBUSFJFRS5Qb2ludHNNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogZWxlbWVudC5jb2xvcixcclxuICAgIHNpemU6IDAuMDMsXHJcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgIG9wYWNpdHk6IDAuNlxyXG4gIH0pO1xyXG4gIGNvbnN0IHBhcnRpY2xlcyA9IG5ldyBUSFJFRS5Qb2ludHMocGFydGljbGVzR2VvLCBwYXJ0aWNsZXNNYXQpO1xyXG4gIGdyb3VwLmFkZChwYXJ0aWNsZXMpO1xyXG5cclxuICByZXR1cm4gZ3JvdXA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVNvbGFyRGlzcGxheShlbGVtZW50LCBzaXplKSB7XHJcbiAgY29uc3QgZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcclxuXHJcbiAgY29uc3QgY29yb25hR2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KHNpemUgKiAxLjMsIDMyLCAzMik7XHJcbiAgY29uc3QgY29yb25hTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgIGNvbG9yOiBOT0JMRV9HQVNfQ09MT1JTW2VsZW1lbnQuc3ltYm9sXSB8fCAweGZmYWEwMCxcclxuICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgb3BhY2l0eTogMC4yXHJcbiAgfSk7XHJcbiAgY29uc3QgY29yb25hID0gbmV3IFRIUkVFLk1lc2goY29yb25hR2VvLCBjb3JvbmFNYXQpO1xyXG4gIGdyb3VwLmFkZChjb3JvbmEpO1xyXG5cclxuICBjb25zdCBzdXJmYWNlR2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KHNpemUsIDMyLCAzMik7XHJcbiAgY29uc3Qgc3VyZmFjZU1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogTk9CTEVfR0FTX0NPTE9SU1tlbGVtZW50LnN5bWJvbF0gfHwgMHhmZmFhMDAsXHJcbiAgICBlbWlzc2l2ZTogTk9CTEVfR0FTX0NPTE9SU1tlbGVtZW50LnN5bWJvbF0gfHwgMHhmZmFhMDAsXHJcbiAgICBlbWlzc2l2ZUludGVuc2l0eTogMC41LFxyXG4gICAgbWV0YWxuZXNzOiAwLjMsXHJcbiAgICByb3VnaG5lc3M6IDAuN1xyXG4gIH0pO1xyXG4gIGNvbnN0IHN1cmZhY2UgPSBuZXcgVEhSRUUuTWVzaChzdXJmYWNlR2VvLCBzdXJmYWNlTWF0KTtcclxuICBncm91cC5hZGQoc3VyZmFjZSk7XHJcblxyXG4gIHJldHVybiBncm91cDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTWV0YWxsaWNEaXNwbGF5KGVsZW1lbnQsIHNpemUpIHtcclxuICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG5cclxuICBjb25zdCBtYWluR2VvID0gbmV3IFRIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnkoc2l6ZSwgMik7XHJcbiAgY29uc3QgbWFpbk1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogZWxlbWVudC5jb2xvcixcclxuICAgIG1ldGFsbmVzczogMC45LFxyXG4gICAgcm91Z2huZXNzOiAwLjEsXHJcbiAgICBlbnZNYXBJbnRlbnNpdHk6IDEuMFxyXG4gIH0pO1xyXG4gIGNvbnN0IG1haW4gPSBuZXcgVEhSRUUuTWVzaChtYWluR2VvLCBtYWluTWF0KTtcclxuICBncm91cC5hZGQobWFpbik7XHJcblxyXG4gIGNvbnN0IGhpZ2hsaWdodEdlbyA9IG5ldyBUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5KHNpemUgKiAxLjA1LCAxKTtcclxuICBjb25zdCBoaWdobGlnaHRNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgY29sb3I6IDB4ZmZmZmZmLFxyXG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICBvcGFjaXR5OiAwLjEsXHJcbiAgICB3aXJlZnJhbWU6IHRydWVcclxuICB9KTtcclxuICBjb25zdCBoaWdobGlnaHQgPSBuZXcgVEhSRUUuTWVzaChoaWdobGlnaHRHZW8sIGhpZ2hsaWdodE1hdCk7XHJcbiAgZ3JvdXAuYWRkKGhpZ2hsaWdodCk7XHJcblxyXG4gIHJldHVybiBncm91cDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ3J5c3RhbGxpbmVEaXNwbGF5KGVsZW1lbnQsIHNpemUpIHtcclxuICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG4gIGNvbnN0IGNyeXN0YWxHZW8gPSBuZXcgVEhSRUUuT2N0YWhlZHJvbkdlb21ldHJ5KHNpemUsIDEpO1xyXG4gIGNvbnN0IGNyeXN0YWxNYXQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xyXG4gICAgY29sb3I6IGVsZW1lbnQuY29sb3IsXHJcbiAgICBtZXRhbG5lc3M6IDAuNCxcclxuICAgIHJvdWdobmVzczogMC4zLFxyXG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICBvcGFjaXR5OiAwLjg1XHJcbiAgfSk7XHJcbiAgY29uc3QgY3J5c3RhbCA9IG5ldyBUSFJFRS5NZXNoKGNyeXN0YWxHZW8sIGNyeXN0YWxNYXQpO1xyXG4gIGdyb3VwLmFkZChjcnlzdGFsKTtcclxuXHJcbiAgY29uc3QgaW5uZXJHZW8gPSBuZXcgVEhSRUUuT2N0YWhlZHJvbkdlb21ldHJ5KHNpemUgKiAwLjYsIDApO1xyXG4gIGNvbnN0IGlubmVyTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgIGNvbG9yOiAweGZmZmZmZixcclxuICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgb3BhY2l0eTogMC4zXHJcbiAgfSk7XHJcbiAgY29uc3QgaW5uZXIgPSBuZXcgVEhSRUUuTWVzaChpbm5lckdlbywgaW5uZXJNYXQpO1xyXG4gIGdyb3VwLmFkZChpbm5lcik7XHJcblxyXG4gIHJldHVybiBncm91cDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlR2FzZW91c0Rpc3BsYXkoZWxlbWVudCwgc2l6ZSkge1xyXG4gIGNvbnN0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcblxyXG4gIGNvbnN0IGJsb2JHZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoc2l6ZSwgMzIsIDMyKTtcclxuICBjb25zdCBibG9iTWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgIGNvbG9yOiBOT0JMRV9HQVNfQ09MT1JTW2VsZW1lbnQuc3ltYm9sXSB8fCBlbGVtZW50LmNvbG9yLFxyXG4gICAgbWV0YWxuZXNzOiAwLFxyXG4gICAgcm91Z2huZXNzOiAxLjAsXHJcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgIG9wYWNpdHk6IDAuNlxyXG4gIH0pO1xyXG4gIGNvbnN0IGJsb2IgPSBuZXcgVEhSRUUuTWVzaChibG9iR2VvLCBibG9iTWF0KTtcclxuICBncm91cC5hZGQoYmxvYik7XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICBjb25zdCBzbWFsbEJsb2JHZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoc2l6ZSAqIDAuMywgMTYsIDE2KTtcclxuICAgIGNvbnN0IHNtYWxsQmxvYk1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgIGNvbG9yOiBOT0JMRV9HQVNfQ09MT1JTW2VsZW1lbnQuc3ltYm9sXSB8fCBlbGVtZW50LmNvbG9yLFxyXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgb3BhY2l0eTogMC4zXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHNtYWxsQmxvYiA9IG5ldyBUSFJFRS5NZXNoKHNtYWxsQmxvYkdlbywgc21hbGxCbG9iTWF0KTtcclxuICAgIGNvbnN0IGFuZ2xlID0gKGkgLyA1KSAqIE1hdGguUEkgKiAyO1xyXG4gICAgc21hbGxCbG9iLnBvc2l0aW9uLnNldChcclxuICAgICAgTWF0aC5jb3MoYW5nbGUpICogc2l6ZSAqIDEuMixcclxuICAgICAgTWF0aC5zaW4oYW5nbGUgKiAwLjUpICogc2l6ZSAqIDAuMyxcclxuICAgICAgTWF0aC5zaW4oYW5nbGUpICogc2l6ZSAqIDEuMlxyXG4gICAgKTtcclxuICAgIGdyb3VwLmFkZChzbWFsbEJsb2IpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGdyb3VwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVSYWRpb2FjdGl2ZURpc3BsYXkoZWxlbWVudCwgc2l6ZSkge1xyXG4gIGNvbnN0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcblxyXG4gIGNvbnN0IGNvcmVHZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoc2l6ZSAqIDAuNiwgMzIsIDMyKTtcclxuICBjb25zdCBjb3JlTWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgIGNvbG9yOiBlbGVtZW50LmNvbG9yLFxyXG4gICAgZW1pc3NpdmU6IDB4MDBmZjAwLFxyXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDAuNSxcclxuICAgIG1ldGFsbmVzczogMC42LFxyXG4gICAgcm91Z2huZXNzOiAwLjRcclxuICB9KTtcclxuICBjb25zdCBjb3JlID0gbmV3IFRIUkVFLk1lc2goY29yZUdlbywgY29yZU1hdCk7XHJcbiAgZ3JvdXAuYWRkKGNvcmUpO1xyXG5cclxuICBjb25zdCBwdWxzZUdlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeShzaXplLCAzMiwgMzIpO1xyXG4gIGNvbnN0IHB1bHNlTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgIGNvbG9yOiAweDAwZmYwMCxcclxuICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgb3BhY2l0eTogMC4yXHJcbiAgfSk7XHJcbiAgY29uc3QgcHVsc2UgPSBuZXcgVEhSRUUuTWVzaChwdWxzZUdlbywgcHVsc2VNYXQpO1xyXG4gIGdyb3VwLmFkZChwdWxzZSk7XHJcblxyXG4gIHJldHVybiBncm91cDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQmlvbG9naWNhbERpc3BsYXkoZWxlbWVudCwgc2l6ZSkge1xyXG4gIGNvbnN0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcblxyXG4gIGNvbnN0IG9yZ2FuaWNHZW8gPSBuZXcgVEhSRUUuVG9ydXNLbm90R2VvbWV0cnkoc2l6ZSAqIDAuNSwgMC4xLCA2NCwgOCwgMiwgMyk7XHJcbiAgY29uc3Qgb3JnYW5pY01hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogZWxlbWVudC5jb2xvcixcclxuICAgIG1ldGFsbmVzczogMC4yLFxyXG4gICAgcm91Z2huZXNzOiAwLjhcclxuICB9KTtcclxuICBjb25zdCBvcmdhbmljID0gbmV3IFRIUkVFLk1lc2gob3JnYW5pY0dlbywgb3JnYW5pY01hdCk7XHJcbiAgb3JnYW5pYy5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDQ7XHJcbiAgZ3JvdXAuYWRkKG9yZ2FuaWMpO1xyXG5cclxuICBjb25zdCBjZWxsR2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KHNpemUgKiAwLjIsIDE2LCAxNik7XHJcbiAgY29uc3QgY2VsbE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogZWxlbWVudC5jb2xvcixcclxuICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgb3BhY2l0eTogMC40XHJcbiAgfSk7XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICBjb25zdCBjZWxsID0gbmV3IFRIUkVFLk1lc2goY2VsbEdlbywgY2VsbE1hdCk7XHJcbiAgICBjb25zdCBhbmdsZSA9IChpIC8gNikgKiBNYXRoLlBJICogMjtcclxuICAgIGNlbGwucG9zaXRpb24uc2V0KFxyXG4gICAgICBNYXRoLmNvcyhhbmdsZSkgKiBzaXplLFxyXG4gICAgICBNYXRoLnNpbihhbmdsZSkgKiBzaXplICogMC4zLFxyXG4gICAgICBNYXRoLnNpbihhbmdsZSkgKiBzaXplXHJcbiAgICApO1xyXG4gICAgZ3JvdXAuYWRkKGNlbGwpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGdyb3VwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFbmVyZ3lEaXNwbGF5KGVsZW1lbnQsIHNpemUpIHtcclxuICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG5cclxuICBjb25zdCBlbmVyZ3lHZW8gPSBuZXcgVEhSRUUuT2N0YWhlZHJvbkdlb21ldHJ5KHNpemUsIDEpO1xyXG4gIGNvbnN0IGVuZXJneU1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogZWxlbWVudC5jb2xvcixcclxuICAgIGVtaXNzaXZlOiBlbGVtZW50LmNvbG9yLFxyXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDAuNixcclxuICAgIG1ldGFsbmVzczogMC4zLFxyXG4gICAgcm91Z2huZXNzOiAwLjVcclxuICB9KTtcclxuICBjb25zdCBlbmVyZ3kgPSBuZXcgVEhSRUUuTWVzaChlbmVyZ3lHZW8sIGVuZXJneU1hdCk7XHJcbiAgZ3JvdXAuYWRkKGVuZXJneSk7XHJcblxyXG4gIGNvbnN0IHJheXMgPSBbXTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xyXG4gICAgY29uc3QgcmF5R2VvID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMC4wMiwgMC4wMSwgc2l6ZSAqIDEuNSwgOCk7XHJcbiAgICBjb25zdCByYXlNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICBjb2xvcjogZWxlbWVudC5jb2xvcixcclxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgIG9wYWNpdHk6IDAuNFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCByYXkgPSBuZXcgVEhSRUUuTWVzaChyYXlHZW8sIHJheU1hdCk7XHJcbiAgICBjb25zdCBhbmdsZSA9IChpIC8gOCkgKiBNYXRoLlBJICogMjtcclxuICAgIGNvbnN0IGVsZXZhdGlvbiA9IChpICUgMikgKiBNYXRoLlBJIC8gMyAtIE1hdGguUEkgLyA2O1xyXG4gICAgcmF5LnBvc2l0aW9uLnNldChcclxuICAgICAgTWF0aC5jb3MoYW5nbGUpICogTWF0aC5jb3MoZWxldmF0aW9uKSAqIHNpemUgKiAwLjgsXHJcbiAgICAgIE1hdGguc2luKGVsZXZhdGlvbikgKiBzaXplICogMC44LFxyXG4gICAgICBNYXRoLnNpbihhbmdsZSkgKiBNYXRoLmNvcyhlbGV2YXRpb24pICogc2l6ZSAqIDAuOFxyXG4gICAgKTtcclxuICAgIHJheS5sb29rQXQocmF5LnBvc2l0aW9uLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoMikpO1xyXG4gICAgZ3JvdXAuYWRkKHJheSk7XHJcbiAgICByYXlzLnB1c2gocmF5KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBncm91cDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9wdGltaXplTW9kZWxGb3JWUihtb2RlbCkge1xyXG4gIG1vZGVsLnRyYXZlcnNlKGNoaWxkID0+IHtcclxuICAgIGlmIChjaGlsZC5pc01lc2gpIHtcclxuICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IGZhbHNlO1xyXG4gICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XHJcblxyXG4gICAgICBpZiAoY2hpbGQubWF0ZXJpYWwpIHtcclxuICAgICAgICBjaGlsZC5tYXRlcmlhbC5zaWRlID0gVEhSRUUuRG91YmxlU2lkZTtcclxuICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgICBjaGlsZC5tYXRlcmlhbC50cmFuc3BhcmVudCA9IGNoaWxkLm1hdGVyaWFsLm9wYWNpdHkgPCAxO1xyXG4gICAgICBjaGlsZC5tYXRlcmlhbC5kZXB0aFdyaXRlID0gIWNoaWxkLm1hdGVyaWFsLnRyYW5zcGFyZW50O1xyXG4gICAgICBjaGlsZC5tYXRlcmlhbC5kZXB0aFRlc3QgPSBjaGlsZC5tYXRlcmlhbC50cmFuc3BhcmVudFxyXG4gICAgICAgICAgPyBUSFJFRS5EZXB0aFRlc3RcclxuICAgICAgICAgIDogVEhSRUUuRGVwdGhUZXN0LkFsd2F5cztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGlsZC5pc0xpZ2h0KSB7XHJcbiAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSBmYWxzZTtcclxuICAgICAgY2hpbGQuZGlzdGFuY2UgPSAzMDtcclxuICAgICAgY2hpbGQuaW50ZW5zaXR5ICo9IDAuNztcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgbW9kZWwudHJhdmVyc2UoY2hpbGQgPT4ge1xyXG4gICAgaWYgKGNoaWxkLmlzTWVzaCAmJiBjaGlsZC5nZW9tZXRyeSkge1xyXG4gICAgICBjaGlsZC5nZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIG1vZGVsO1xyXG59XHJcblxyXG5jb25zdCBBU1NFVF9QQVRIUyA9IHtcclxuICBlbGVtZW50TW9kZWxzOiB7XHJcbiAgICAnSCc6ICdhc3NldHMvZWxlbWVudHMvaHlkcm9nZW4uZ2xiJyxcclxuICAgICdDJzogJ2Fzc2V0cy9lbGVtZW50cy9jYXJib24uZ2xiJyxcclxuICAgICdGZSc6ICdhc3NldHMvZWxlbWVudHMvaXJvbi5nbGInLFxyXG4gICAgJ0F1JzogJ2Fzc2V0cy9lbGVtZW50cy9nb2xkLmdsYicsXHJcbiAgICAnVSc6ICdhc3NldHMvZWxlbWVudHMvdXJhbml1bS5nbGInLFxyXG4gICAgJ05hJzogJ2Fzc2V0cy9lbGVtZW50cy9zb2RpdW0uZ2xiJyxcclxuICAgICdIZSc6ICdhc3NldHMvZWxlbWVudHMvaGVsaXVtLmdsYicsXHJcbiAgICAnTyc6ICdhc3NldHMvZWxlbWVudHMvb3h5Z2VuLmdsYicsXHJcbiAgICAnTic6ICdhc3NldHMvZWxlbWVudHMvbml0cm9nZW4uZ2xiJyxcclxuICAgICdTJzogJ2Fzc2V0cy9lbGVtZW50cy9zdWxmdXIuZ2xiJyxcclxuICAgICdDdSc6ICdhc3NldHMvZWxlbWVudHMvY29wcGVyLmdsYicsXHJcbiAgICAnQWwnOiAnYXNzZXRzL2VsZW1lbnRzL2FsdW1pbnVtLmdsYicsXHJcbiAgICAnU2knOiAnYXNzZXRzL2VsZW1lbnRzL3NpbGljb24uZ2xiJyxcclxuICAgICdDYSc6ICdhc3NldHMvZWxlbWVudHMvY2FsY2l1bS5nbGInLFxyXG4gICAgJ01nJzogJ2Fzc2V0cy9lbGVtZW50cy9tYWduZXNpdW0uZ2xiJyxcclxuICB9LFxyXG4gIG1vbGVjdWxlTW9kZWxzOiB7XHJcbiAgICAnSDJPJzogJ2Fzc2V0cy9tb2xlY3VsZXMvd2F0ZXIuZ2xiJyxcclxuICAgICdDTzInOiAnYXNzZXRzL21vbGVjdWxlcy9jYXJib25fZGlveGlkZS5nbGInLFxyXG4gICAgJ0NINCc6ICdhc3NldHMvbW9sZWN1bGVzL21ldGhhbmUuZ2xiJyxcclxuICAgICdOYUNsJzogJ2Fzc2V0cy9tb2xlY3VsZXMvc2FsdC5nbGInLFxyXG4gICAgJ08yJzogJ2Fzc2V0cy9tb2xlY3VsZXMvb3h5Z2VuLmdsYicsXHJcbiAgICAnTjInOiAnYXNzZXRzL21vbGVjdWxlcy9uaXRyb2dlbi5nbGInLFxyXG4gICAgJ0M2SDEyTzYnOiAnYXNzZXRzL21vbGVjdWxlcy9nbHVjb3NlLmdsYicsXHJcbiAgICAnRE5BJzogJ2Fzc2V0cy9tb2xlY3VsZXMvZG5hLmdsYicsXHJcbiAgICAnTkgzJzogJ2Fzc2V0cy9tb2xlY3VsZXMvYW1tb25pYS5nbGInLFxyXG4gIH0sXHJcbiAgY29tcG91bmRNb2RlbHM6IHtcclxuICAgICdzdGVlbCc6ICdhc3NldHMvY29tcG91bmRzL3N0ZWVsLmdsYicsXHJcbiAgICAnYnJvbnplJzogJ2Fzc2V0cy9jb21wb3VuZHMvYnJvbnplLmdsYicsXHJcbiAgICAnYnJhc3MnOiAnYXNzZXRzL2NvbXBvdW5kcy9icmFzcy5nbGInLFxyXG4gICAgJ3F1YXJ0eic6ICdhc3NldHMvY29tcG91bmRzL3F1YXJ0ei5nbGInLFxyXG4gICAgJ2RpYW1vbmQnOiAnYXNzZXRzL2NvbXBvdW5kcy9kaWFtb25kLmdsYicsXHJcbiAgICAnZ3JhcGhpdGUnOiAnYXNzZXRzL2NvbXBvdW5kcy9ncmFwaGl0ZS5nbGInLFxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50TW9kZWxQYXRoKGVsZW1lbnRTeW1ib2wpIHtcclxuICByZXR1cm4gQVNTRVRfUEFUSFMuZWxlbWVudE1vZGVsc1tlbGVtZW50U3ltYm9sXSB8fCBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9sZWN1bGVNb2RlbFBhdGgoZm9ybXVsYSkge1xyXG4gIHJldHVybiBBU1NFVF9QQVRIUy5tb2xlY3VsZU1vZGVsc1tmb3JtdWxhXSB8fCBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcG91bmRNb2RlbFBhdGgoY29tcG91bmROYW1lKSB7XHJcbiAgcmV0dXJuIEFTU0VUX1BBVEhTLmNvbXBvdW5kTW9kZWxzW2NvbXBvdW5kTmFtZV0gfHwgbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRFbGVtZW50TW9kZWwoZWxlbWVudCwgY2FsbGJhY2spIHtcclxuICBjb25zdCBtb2RlbFBhdGggPSBnZXRFbGVtZW50TW9kZWxQYXRoKGVsZW1lbnQuc3ltYm9sKTtcclxuXHJcbiAgaWYgKG1vZGVsUGF0aCkge1xyXG4gICAgbG9hZE1vZGVsKG1vZGVsUGF0aCwgKHNjZW5lLCBlcnJvcikgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBsb2FkIG1vZGVsIGZvciAke2VsZW1lbnQuc3ltYm9sfSwgdXNpbmcgcHJvY2VkdXJhbGApO1xyXG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsIGVsZW1lbnQudGhlbWUgfHwgJ3N0YW5kYXJkJyksIG51bGwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IG9wdGltaXplZCA9IG9wdGltaXplTW9kZWxGb3JWUihzY2VuZSk7XHJcbiAgICAgICAgb3B0aW1pemVkLnNjYWxlLnNldCgwLjUsIDAuNSwgMC41KTtcclxuICAgICAgICBjYWxsYmFjayhvcHRpbWl6ZWQsIG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgdGhlbWVkID0gY3JlYXRlVGhlbWVkRWxlbWVudERpc3BsYXkoZWxlbWVudCwgZWxlbWVudC50aGVtZSB8fCAnc3RhbmRhcmQnKTtcclxuICAgIGNhbGxiYWNrKHRoZW1lZCwgbnVsbCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZE1vbGVjdWxlTW9kZWwoZm9ybXVsYSwgZWxlbWVudERhdGEsIGNhbGxiYWNrKSB7XHJcbiAgY29uc3QgbW9kZWxQYXRoID0gZ2V0TW9sZWN1bGVNb2RlbFBhdGgoZm9ybXVsYSk7XHJcblxyXG4gIGlmIChtb2RlbFBhdGgpIHtcclxuICAgIGxvYWRNb2RlbChtb2RlbFBhdGgsIChzY2VuZSwgZXJyb3IpID0+IHtcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gbG9hZCBtb2xlY3VsZSAke2Zvcm11bGF9LCB1c2luZyBwcm9jZWR1cmFsYCk7XHJcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlTW9sZWN1bGVNb2RlbChmb3JtdWxhLCBlbGVtZW50RGF0YSksIG51bGwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IG9wdGltaXplZCA9IG9wdGltaXplTW9kZWxGb3JWUihzY2VuZSk7XHJcbiAgICAgICAgb3B0aW1pemVkLnNjYWxlLnNldCgwLjUsIDAuNSwgMC41KTtcclxuICAgICAgICBjYWxsYmFjayhvcHRpbWl6ZWQsIG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgcHJvY2VkdXJhbCA9IGNyZWF0ZU1vbGVjdWxlTW9kZWwoZm9ybXVsYSwgZWxlbWVudERhdGEpO1xyXG4gICAgY2FsbGJhY2socHJvY2VkdXJhbCwgbnVsbCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudERpc3BsYXkoZWxlbWVudCwgZGlzcGxheVR5cGUgPSAnc3RhbmRhcmQnKSB7XHJcbiAgY29uc3QgZGlzcGxheU1hcCA9IHtcclxuICAgICdjb3NtaWMnOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnY29zbWljJyksXHJcbiAgICAnc29sYXInOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnc29sYXInKSxcclxuICAgICdlbmVyZ3knOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnZW5lcmd5JyksXHJcbiAgICAnbWV0YWxsaWMnOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnbWV0YWxsaWMnKSxcclxuICAgICdjcnlzdGFsbGluZSc6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdjcnlzdGFsbGluZScpLFxyXG4gICAgJ2dhc2VvdXMnOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnZ2FzZW91cycpLFxyXG4gICAgJ3JhZGlvYWN0aXZlJzogKCkgPT4gY3JlYXRlVGhlbWVkRWxlbWVudERpc3BsYXkoZWxlbWVudCwgJ3JhZGlvYWN0aXZlJyksXHJcbiAgICAnYmlvbG9naWNhbCc6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdiaW9sb2dpY2FsJyksXHJcbiAgICAnaW5kdXN0cnknOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnbWV0YWxsaWMnKSxcclxuICAgICd0ZWNobm9sb2d5JzogKCkgPT4gY3JlYXRlVGhlbWVkRWxlbWVudERpc3BsYXkoZWxlbWVudCwgJ21ldGFsbGljJyksXHJcbiAgICAndG94aWMnOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnbWV0YWxsaWMnKSxcclxuICAgICdwcmVjaW91cyc6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdtZXRhbGxpYycpLFxyXG4gICAgJ2hpc3RvcmljYWwnOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnbWV0YWxsaWMnKSxcclxuICAgICdtZWRpY2FsJzogKCkgPT4gY3JlYXRlVGhlbWVkRWxlbWVudERpc3BsYXkoZWxlbWVudCwgJ21ldGFsbGljJyksXHJcbiAgICAnbnVjbGVhcic6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdyYWRpb2FjdGl2ZScpLFxyXG4gICAgJ3NwYWNlJzogKCkgPT4gY3JlYXRlVGhlbWVkRWxlbWVudERpc3BsYXkoZWxlbWVudCwgJ2Nvc21pYycpLFxyXG4gICAgJ3Jlc2VhcmNoJzogKCkgPT4gY3JlYXRlVGhlbWVkRWxlbWVudERpc3BsYXkoZWxlbWVudCwgJ21ldGFsbGljJyksXHJcbiAgICAnbGlnaHQnOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnY29zbWljJyksXHJcbiAgICAnZmlyZSc6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdlbmVyZ3knKSxcclxuICAgICd2b2xjYW5vJzogKCkgPT4gY3JlYXRlVGhlbWVkRWxlbWVudERpc3BsYXkoZWxlbWVudCwgJ3JhZGlvYWN0aXZlJyksXHJcbiAgICAnc3dpbW1pbmcnOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnZ2FzZW91cycpLFxyXG4gICAgJ3dlbGRpbmcnOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnZ2FzZW91cycpLFxyXG4gICAgJ3NrZWxldG9uJzogKCkgPT4gY3JlYXRlVGhlbWVkRWxlbWVudERpc3BsYXkoZWxlbWVudCwgJ2Jpb2xvZ2ljYWwnKSxcclxuICAgICdmb3JnZSc6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdtZXRhbGxpYycpLFxyXG4gICAgJ2VsZWN0cmljJzogKCkgPT4gY3JlYXRlVGhlbWVkRWxlbWVudERpc3BsYXkoZWxlbWVudCwgJ21ldGFsbGljJyksXHJcbiAgICAndHJlYXN1cmUnOiAoKSA9PiBjcmVhdGVUaGVtZWRFbGVtZW50RGlzcGxheShlbGVtZW50LCAnbWV0YWxsaWMnKSxcclxuICAgICdraXRjaGVuJzogKCkgPT4gY3JlYXRlVGhlbWVkRWxlbWVudERpc3BsYXkoZWxlbWVudCwgJ21ldGFsbGljJyksXHJcbiAgICAnc2lsaWNvbic6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdjcnlzdGFsbGluZScpLFxyXG4gICAgJ2Rlc2VydCc6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdjcnlzdGFsbGluZScpLFxyXG4gICAgJ2JyZWF0aCc6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdnYXNlb3VzJyksXHJcbiAgICAnYXRtb3NwaGVyZSc6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdnYXNlb3VzJyksXHJcbiAgICAncHJvdGVjdGlvbic6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdtZXRhbGxpYycpLFxyXG4gICAgJ2xpZ2h0cyc6ICgpID0+IGNyZWF0ZVRoZW1lZEVsZW1lbnREaXNwbGF5KGVsZW1lbnQsICdzb2xhcicpLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRpc3BsYXlGbiA9IGRpc3BsYXlNYXBbZGlzcGxheVR5cGVdIHx8IGRpc3BsYXlNYXBbJ3N0YW5kYXJkJ107XHJcbiAgcmV0dXJuIGRpc3BsYXlGbiA/IGRpc3BsYXlGbigpIDogY3JlYXRlUGxhY2Vob2xkZXJNb2RlbChlbGVtZW50KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlTW9kZWxGb3JWUihtb2RlbCwgdGFyZ2V0U2NhbGUgPSAxLjApIHtcclxuICBjb25zdCBiYm94ID0gbmV3IFRIUkVFLkJveDMoKS5zZXRGcm9tT2JqZWN0KG1vZGVsKTtcclxuICBjb25zdCBzaXplID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICBiYm94LmdldFNpemUoc2l6ZSk7XHJcblxyXG4gIGNvbnN0IG1heERpbSA9IE1hdGgubWF4KHNpemUueCwgc2l6ZS55LCBzaXplLnopO1xyXG4gIGNvbnN0IHNjYWxlRmFjdG9yID0gdGFyZ2V0U2NhbGUgLyBtYXhEaW07XHJcblxyXG4gIG1vZGVsLnNjYWxlLm11bHRpcGx5U2NhbGFyKHNjYWxlRmFjdG9yKTtcclxuXHJcbiAgcmV0dXJuIG1vZGVsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcG9zaXRpb25Nb2RlbEF0KG1vZGVsLCBwb3NpdGlvbiA9IHt4OiAwLCB5OiAwLCB6OiAwfSwgbG9va0F0ID0gbnVsbCkge1xyXG4gIG1vZGVsLnBvc2l0aW9uLnNldChwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBwb3NpdGlvbi56KTtcclxuXHJcbiAgaWYgKGxvb2tBdCkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMobG9va0F0LngsIGxvb2tBdC55LCBsb29rQXQueik7XHJcbiAgICBtb2RlbC5sb29rQXQodGFyZ2V0KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBtb2RlbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vZGVsUGVkZXN0YWwoc2l6ZSA9IDEuMCwgY29sb3IgPSAweDMzMzMzMykge1xyXG4gIGNvbnN0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcblxyXG4gIGNvbnN0IGJhc2VHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeShzaXplICogMC42LCBzaXplICogMC44LCBzaXplICogMC4yLCAzMik7XHJcbiAgY29uc3QgYmFzZU1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogY29sb3IsXHJcbiAgICBtZXRhbG5lc3M6IDAuMyxcclxuICAgIHJvdWdobmVzczogMC43XHJcbiAgfSk7XHJcbiAgY29uc3QgYmFzZSA9IG5ldyBUSFJFRS5NZXNoKGJhc2VHZW8sIGJhc2VNYXQpO1xyXG4gIGJhc2UucG9zaXRpb24ueSA9IDA7XHJcbiAgZ3JvdXAuYWRkKGJhc2UpO1xyXG5cclxuICBjb25zdCBwaWxsYXJHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeShzaXplICogMC40LCBzaXplICogMC41LCBzaXplICogMS4wLCAzMik7XHJcbiAgY29uc3QgcGlsbGFyTWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgIGNvbG9yOiAweDQ0NDQ0NCxcclxuICAgIG1ldGFsbmVzczogMC4yLFxyXG4gICAgcm91Z2huZXNzOiAwLjZcclxuICB9KTtcclxuICBjb25zdCBwaWxsYXIgPSBuZXcgVEhSRUUuTWVzaChwaWxsYXJHZW8sIHBpbGxhck1hdCk7XHJcbiAgcGlsbGFyLnBvc2l0aW9uLnkgPSBzaXplICogMC42O1xyXG4gIGdyb3VwLmFkZChwaWxsYXIpO1xyXG5cclxuICBjb25zdCB0b3BHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeShzaXplICogMC41LCBzaXplICogMC42LCBzaXplICogMC4xNSwgMzIpO1xyXG4gIGNvbnN0IHRvcE1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogY29sb3IsXHJcbiAgICBtZXRhbG5lc3M6IDAuNSxcclxuICAgIHJvdWdobmVzczogMC40XHJcbiAgfSk7XHJcbiAgY29uc3QgdG9wID0gbmV3IFRIUkVFLk1lc2godG9wR2VvLCB0b3BNYXQpO1xyXG4gIHRvcC5wb3NpdGlvbi55ID0gc2l6ZSAqIDEuNztcclxuICBncm91cC5hZGQodG9wKTtcclxuXHJcbiAgcmV0dXJuIGdyb3VwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW50ZXJhY3RpdmVIb3RzcG90KHNpemUgPSAwLjIsIGNvbG9yID0gMHhmZjZiNmIpIHtcclxuICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG5cclxuICBjb25zdCBzcGhlcmVHZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoc2l6ZSwgMTYsIDE2KTtcclxuICBjb25zdCBzcGhlcmVNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgY29sb3I6IGNvbG9yLFxyXG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICBvcGFjaXR5OiAwLjZcclxuICB9KTtcclxuICBjb25zdCBzcGhlcmUgPSBuZXcgVEhSRUUuTWVzaChzcGhlcmVHZW8sIHNwaGVyZU1hdCk7XHJcbiAgZ3JvdXAuYWRkKHNwaGVyZSk7XHJcblxyXG4gIGNvbnN0IHJpbmdHZW8gPSBuZXcgVEhSRUUuUmluZ0dlb21ldHJ5KHNpemUgKiAxLjUsIHNpemUgKiAxLjUsIDMyKTtcclxuICBjb25zdCByaW5nTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgIGNvbG9yOiBjb2xvcixcclxuICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgb3BhY2l0eTogMC4zLFxyXG4gICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZVxyXG4gIH0pO1xyXG4gIGNvbnN0IHJpbmcgPSBuZXcgVEhSRUUuTWVzaChyaW5nR2VvLCByaW5nTWF0KTtcclxuICByaW5nLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcclxuICBncm91cC5hZGQocmluZyk7XHJcblxyXG4gIGdyb3VwLnVzZXJEYXRhLmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICBncm91cC51c2VyRGF0YS5ob3RzcG90VHlwZSA9ICdpbmZvJztcclxuXHJcbiAgcmV0dXJuIGdyb3VwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmF0Y2hPcHRpbWl6ZU1vZGVscyhtb2RlbHMpIHtcclxuICBjb25zdCBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG5cclxuICBtb2RlbHMuZm9yRWFjaChtb2RlbCA9PiB7XHJcbiAgICBzY2VuZS5hZGQobW9kZWwpO1xyXG4gIH0pO1xyXG5cclxuICBzY2VuZS50cmF2ZXJzZShjaGlsZCA9PiB7XHJcbiAgICBpZiAoY2hpbGQuaXNNZXNoKSB7XHJcbiAgICAgIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gc2NlbmU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMT0RNb2RlbChiYXNlTW9kZWwsIGxldmVscyA9IDMpIHtcclxuICBjb25zdCBsb2RHcm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG4gIGNvbnN0IGRpc3RhbmNlcyA9IFswLCA1LCAxMCwgMjBdO1xyXG5cclxuICBmb3IgKGxldCBsZXZlbCA9IDA7IGxldmVsIDwgbGV2ZWxzOyBsZXZlbCsrKSB7XHJcbiAgICBjb25zdCBjbG9uZSA9IGJhc2VNb2RlbC5jbG9uZSgpO1xyXG4gICAgY29uc3Qgc2ltcGxpZnlGYWN0b3IgPSBsZXZlbCAvIChsZXZlbHMgLSAxKTtcclxuXHJcbiAgICBjbG9uZS50cmF2ZXJzZShjaGlsZCA9PiB7XHJcbiAgICAgIGlmIChjaGlsZC5pc01lc2ggJiYgY2hpbGQuZ2VvbWV0cnkpIHtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbFZlcnRpY2VzID0gY2hpbGQuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudDtcclxuICAgICAgICBjb25zdCB0YXJnZXRWZXJ0aWNlcyA9IE1hdGguZmxvb3Iob3JpZ2luYWxWZXJ0aWNlcyAqICgxIC0gc2ltcGxpZnlGYWN0b3IgKiAwLjUpKTtcclxuXHJcbiAgICAgICAgaWYgKGNoaWxkLmdlb21ldHJ5LmluZGV4KSB7XHJcbiAgICAgICAgICBjaGlsZC5nZW9tZXRyeS5zZXREcmF3UmFuZ2UoMCwgdGFyZ2V0VmVydGljZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoaWxkLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICBjb25zdCBzaW1wbGlmaWVkTWF0ID0gY2hpbGQubWF0ZXJpYWwuY2xvbmUoKTtcclxuICAgICAgICAgIHNpbXBsaWZpZWRNYXQud2lyZWZyYW1lID0gbGV2ZWwgPT09IGxldmVscyAtIDE7XHJcbiAgICAgICAgICBjaGlsZC5tYXRlcmlhbCA9IHNpbXBsaWZpZWRNYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjbG9uZS5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XHJcbiAgICBsb2RHcm91cC5hZGQoY2xvbmUpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGxvZEdyb3VwO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVlJPYmplY3RQb29sIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMucG9vbHMgPSBuZXcgTWFwKCk7XHJcbiAgICB0aGlzLm1heFNpemUgPSA1MDtcclxuICB9XHJcblxyXG4gIGdldCh0eXBlLCBrZXkpIHtcclxuICAgIGNvbnN0IHBvb2xLZXkgPSBgJHt0eXBlfV8ke2tleX1gO1xyXG4gICAgaWYgKCF0aGlzLnBvb2xzLmhhcyhwb29sS2V5KSkge1xyXG4gICAgICB0aGlzLnBvb2xzLnNldChwb29sS2V5LCBbXSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcG9vbCA9IHRoaXMucG9vbHMuZ2V0KHBvb2xLZXkpO1xyXG4gICAgcmV0dXJuIHBvb2wubGVuZ3RoID4gMCA/IHBvb2wucG9wKCkgOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmVsZWFzZSh0eXBlLCBrZXksIG9iamVjdCkge1xyXG4gICAgY29uc3QgcG9vbEtleSA9IGAke3R5cGV9XyR7a2V5fWA7XHJcbiAgICBpZiAoIXRoaXMucG9vbHMuaGFzKHBvb2xLZXkpKSB7XHJcbiAgICAgIHRoaXMucG9vbHMuc2V0KHBvb2xLZXksIFtdKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwb29sID0gdGhpcy5wb29scy5nZXQocG9vbEtleSk7XHJcbiAgICBpZiAocG9vbC5sZW5ndGggPCB0aGlzLm1heFNpemUpIHtcclxuICAgICAgb2JqZWN0LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgb2JqZWN0LnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcclxuICAgICAgb2JqZWN0LnJvdGF0aW9uLnNldCgwLCAwLCAwKTtcclxuICAgICAgcG9vbC5wdXNoKG9iamVjdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvYmplY3QudHJhdmVyc2UoY2hpbGQgPT4ge1xyXG4gICAgICAgIGlmIChjaGlsZC5nZW9tZXRyeSkgY2hpbGQuZ2VvbWV0cnkuZGlzcG9zZSgpO1xyXG4gICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbCkgY2hpbGQubWF0ZXJpYWwuZGlzcG9zZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7XHJcbiAgICB0aGlzLnBvb2xzLmZvckVhY2gocG9vbCA9PiB7XHJcbiAgICAgIHBvb2wuZm9yRWFjaChvYmplY3QgPT4ge1xyXG4gICAgICAgIG9iamVjdC50cmF2ZXJzZShjaGlsZCA9PiB7XHJcbiAgICAgICAgICBpZiAoY2hpbGQuZ2VvbWV0cnkpIGNoaWxkLmdlb21ldHJ5LmRpc3Bvc2UoKTtcclxuICAgICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbCkgY2hpbGQubWF0ZXJpYWwuZGlzcG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5wb29scy5jbGVhcigpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9wdGltaXplRm9yTW9iaWxlVlIobW9kZWwpIHtcclxuICBjb25zdCBzaW1wbGlmaWVkID0gbW9kZWwuY2xvbmUoKTtcclxuXHJcbiAgc2ltcGxpZmllZC50cmF2ZXJzZShjaGlsZCA9PiB7XHJcbiAgICBpZiAoY2hpbGQuaXNNZXNoKSB7XHJcbiAgICAgIGlmIChjaGlsZC5nZW9tZXRyeSkge1xyXG4gICAgICAgIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XHJcblxyXG4gICAgICAgIGlmIChjaGlsZC5nZW9tZXRyeS5hdHRyaWJ1dGVzLnV2KSB7XHJcbiAgICAgICAgICBjb25zdCB1diA9IGNoaWxkLmdlb21ldHJ5LmF0dHJpYnV0ZXMudXY7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHV2LmNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgdXYuc2V0WFkoaSwgTWF0aC5yb3VuZCh1di5nZXRYKGkpICogNjQpIC8gNjQsIE1hdGgucm91bmQodXYuZ2V0WShpKSAqIDY0KSAvIDY0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHV2Lm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjaGlsZC5tYXRlcmlhbCkge1xyXG4gICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbC5tYXApIHtcclxuICAgICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbC5tYXAuaW1hZ2UpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IDY0O1xyXG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gNjQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGNoaWxkLm1hdGVyaWFsLm1hcC5pbWFnZSwgMCwgMCwgNjQsIDY0KTtcclxuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBUSFJFRS5DYW52YXNUZXh0dXJlKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm1hcCA9IHRleHR1cmU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjaGlsZC5tYXRlcmlhbC5zaWRlID0gVEhSRUUuRG91YmxlU2lkZTtcclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGQubWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5mb3JFYWNoKG1hdCA9PiB7XHJcbiAgICAgICAgICAgIG1hdC5zaWRlID0gVEhSRUUuRG91YmxlU2lkZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gc2ltcGxpZmllZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURpc3RhbmNlQ3VsbGVyKG1vZGVscywgY2FtZXJhKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IGZydXN0dW0gPSBuZXcgVEhSRUUuRnJ1c3R1bSgpO1xyXG4gICAgICBmcnVzdHVtLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KTtcclxuICAgICAgZnJ1c3R1bS5tdWx0aXBseU1hdHJpY2VzKGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UsIGZydXN0dW0pO1xyXG5cclxuICAgICAgbW9kZWxzLmZvckVhY2gobW9kZWwgPT4ge1xyXG4gICAgICAgIGlmIChtb2RlbC51c2VyRGF0YS5ib3VuZGluZ1NwaGVyZSkge1xyXG4gICAgICAgICAgbW9kZWwudmlzaWJsZSA9IGZydXN0dW0uaW50ZXJzZWN0c1NwaGVyZShtb2RlbC51c2VyRGF0YS5ib3VuZGluZ1NwaGVyZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHNwaGVyZSA9IG5ldyBUSFJFRS5TcGhlcmUoKTtcclxuICAgICAgICAgIHNwaGVyZS5zZXRGcm9tT2JqZWN0KG1vZGVsKTtcclxuICAgICAgICAgIG1vZGVsLnVzZXJEYXRhLmJvdW5kaW5nU3BoZXJlID0gc3BoZXJlO1xyXG4gICAgICAgICAgbW9kZWwudmlzaWJsZSA9IGZydXN0dW0uaW50ZXJzZWN0c1NwaGVyZShzcGhlcmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmVNb2RlbFBlcmZvcm1hbmNlKG1vZGVsKSB7XHJcbiAgY29uc3Qgc3RhdHMgPSB7XHJcbiAgICB2ZXJ0aWNlczogMCxcclxuICAgIHRyaWFuZ2xlczogMCxcclxuICAgIG1hdGVyaWFsczogMCxcclxuICAgIGRyYXdDYWxsczogMFxyXG4gIH07XHJcblxyXG4gIG1vZGVsLnRyYXZlcnNlKGNoaWxkID0+IHtcclxuICAgIGlmIChjaGlsZC5pc01lc2gpIHtcclxuICAgICAgaWYgKGNoaWxkLmdlb21ldHJ5KSB7XHJcbiAgICAgICAgaWYgKGNoaWxkLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24pIHtcclxuICAgICAgICAgIHN0YXRzLnZlcnRpY2VzICs9IGNoaWxkLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjaGlsZC5nZW9tZXRyeS5pbmRleCkge1xyXG4gICAgICAgICAgc3RhdHMudHJpYW5nbGVzICs9IGNoaWxkLmdlb21ldHJ5LmluZGV4LmNvdW50IC8gMztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc3RhdHMudHJpYW5nbGVzICs9IGNoaWxkLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQgLyAzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGNoaWxkLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgY29uc3QgbWF0cyA9IEFycmF5LmlzQXJyYXkoY2hpbGQubWF0ZXJpYWwpID8gY2hpbGQubWF0ZXJpYWwgOiBbY2hpbGQubWF0ZXJpYWxdO1xyXG4gICAgICAgIHN0YXRzLm1hdGVyaWFscyArPSBtYXRzLmxlbmd0aDtcclxuICAgICAgICBzdGF0cy5kcmF3Q2FsbHMrKztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gc3RhdHM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU1vZGVsRm9yVlIobW9kZWwsIHdhcm5pbmdzID0gW10pIHtcclxuICBjb25zdCBzdGF0cyA9IG1lYXN1cmVNb2RlbFBlcmZvcm1hbmNlKG1vZGVsKTtcclxuXHJcbiAgaWYgKHN0YXRzLnRyaWFuZ2xlcyA+IDEwMDAwMCkge1xyXG4gICAgd2FybmluZ3MucHVzaCh7XHJcbiAgICAgIHR5cGU6ICdoaWdoX3BvbHknLFxyXG4gICAgICBtZXNzYWdlOiBgTW9kZWwgaGFzICR7c3RhdHMudHJpYW5nbGVzLnRvTG9jYWxlU3RyaW5nKCl9IHRyaWFuZ2xlcy4gQ29uc2lkZXIgc2ltcGxpZnlpbmcuYCxcclxuICAgICAgc2V2ZXJpdHk6ICd3YXJuaW5nJ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAoc3RhdHMudHJpYW5nbGVzID4gNTAwMDApIHtcclxuICAgIHdhcm5pbmdzLnB1c2goe1xyXG4gICAgICB0eXBlOiAnbWVkaXVtX3BvbHknLFxyXG4gICAgICBtZXNzYWdlOiBgTW9kZWwgaGFzICR7c3RhdHMudHJpYW5nbGVzLnRvTG9jYWxlU3RyaW5nKCl9IHRyaWFuZ2xlcy4gUmVjb21tZW5kZWQ6IDw1MGsgZm9yIFZSLmAsXHJcbiAgICAgIHNldmVyaXR5OiAnaW5mbydcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHN0YXRzLm1hdGVyaWFscyA+IDEwKSB7XHJcbiAgICB3YXJuaW5ncy5wdXNoKHtcclxuICAgICAgdHlwZTogJ2hpZ2hfbWF0ZXJpYWxzJyxcclxuICAgICAgbWVzc2FnZTogYE1vZGVsIHVzZXMgJHtzdGF0cy5tYXRlcmlhbHN9IG1hdGVyaWFscy4gQ29uc2lkZXIgYmF0Y2hpbmcuYCxcclxuICAgICAgc2V2ZXJpdHk6ICd3YXJuaW5nJ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBoYXNBbmltYXRpb24gPSBtb2RlbC5hbmltYXRpb25zICYmIG1vZGVsLmFuaW1hdGlvbnMubGVuZ3RoID4gMDtcclxuICBpZiAoaGFzQW5pbWF0aW9uICYmIHN0YXRzLnRyaWFuZ2xlcyA+IDIwMDAwKSB7XHJcbiAgICB3YXJuaW5ncy5wdXNoKHtcclxuICAgICAgdHlwZTogJ2FuaW1hdGVkX3BvbHknLFxyXG4gICAgICBtZXNzYWdlOiBgQW5pbWF0ZWQgbW9kZWwgaGFzICR7c3RhdHMudHJpYW5nbGVzLnRvTG9jYWxlU3RyaW5nKCl9IHRyaWFuZ2xlcy4gSGlnaCBmb3IgVlIgYW5pbWF0aW9uLmAsXHJcbiAgICAgIHNldmVyaXR5OiAnd2FybmluZydcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbW9kZWwudXNlckRhdGEudmFsaWRhdGlvbldhcm5pbmdzID0gd2FybmluZ3M7XHJcbiAgbW9kZWwudXNlckRhdGEucGVyZm9ybWFuY2VTdGF0cyA9IHN0YXRzO1xyXG5cclxuICByZXR1cm4ge3N0YXRzLCB3YXJuaW5nc307XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCaWxsYm9hcmQodGV4dCwgY29sb3IsIHNpemUgPSAxKSB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgY2FudmFzLndpZHRoID0gNTEyO1xyXG4gIGNhbnZhcy5oZWlnaHQgPSAyNTY7XHJcblxyXG4gIGN0eC5mb250ID0gYCR7c2l6ZSAqIDYwfXB4IEFyaWFsYDtcclxuICBjdHguZmlsbFN0eWxlID0gY29sb3IgfHwgJyNmZmZmZmYnO1xyXG4gIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgY3R4LmZpbGxUZXh0KHRleHQsIDI1NiwgMTI4KTtcclxuXHJcbiAgY29uc3QgdGV4dHVyZSA9IG5ldyBUSFJFRS5DYW52YXNUZXh0dXJlKGNhbnZhcyk7XHJcbiAgdGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcblxyXG4gIGNvbnN0IGdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEsIDAuNSk7XHJcbiAgY29uc3QgbWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgIG1hcDogdGV4dHVyZSxcclxuICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZVxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk1lc2goZ2VvLCBtYXQpO1xyXG4gIG1lc2gucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG5cclxuICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG4gIGdyb3VwLmFkZChtZXNoKTtcclxuXHJcbiAgcmV0dXJuIGdyb3VwO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/modelLoader.js\n");

/***/ }),

/***/ "./src/lib/shaders.js":
/*!****************************!*\
  !*** ./src/lib/shaders.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  door_frag: `\nuniform float time;\nuniform float selected;\nuniform sampler2D tex;\nvarying vec2 vUv;\n\nvoid main( void ) {\n  float t = time;\n  vec2 uv = vUv * 2.0 - 1.0;\n  vec2 puv = vec2(length(uv.xy), atan(uv.x, uv.y));\n  vec4 col = texture2D(tex, vec2(log(puv.x) + t / 5.0, puv.y / 3.1415926 ));\n  float glow = (1.0 - puv.x) * (0.5 + (sin(t) + 2.0 ) / 4.0);\n  // blue glow\n  col += vec4(118.0/255.0, 144.0/255.0, 219.0/255.0, 1.0) * (0.4 + glow * 1.0);\n  // white glow\n  col += vec4(0.2) * smoothstep(0.0, 2.0, glow * glow);\n  gl_FragColor = col;\n\n}\n`,\n  zoom_frag: `\nuniform float time;\nuniform sampler2D tex;\nuniform vec2 zoomPos;\nuniform float zoomAmount;\nuniform float zoomRatio;\nvarying vec2 vUv;\n\nvoid main( void ) {\n  float t = time;\n  vec2 uv = vec2(vUv.x - 0.5, (1.0 - vUv.y) - 0.5);\n  vec2 texUv = uv * vec2(zoomRatio, 1.0);\n  vec4 col = texture2D(tex, zoomPos + texUv * zoomAmount);\n  float dist = length(uv) * 2.0;\n  col.a = smoothstep(0.0, 0.1, 1.0 - dist);\n  float aura = smoothstep(0.80, 1.0, dist);\n  col.rgb += aura * 0.3;\n  gl_FragColor = col;\n}\n`,\n  basic_vert: `\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvoid main()\n{\n  vUv = uv;\n  vPosition = position;\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_Position = projectionMatrix * mvPosition;\n}\n`,\n  panoball_vert: `\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec3 vWorldPos;\nuniform float time;\nuniform float selected;\n\nmat4 inverse(mat4 m) {\n  float\n      a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n      a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n      a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n      a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n      b00 = a00 * a11 - a01 * a10,\n      b01 = a00 * a12 - a02 * a10,\n      b02 = a00 * a13 - a03 * a10,\n      b03 = a01 * a12 - a02 * a11,\n      b04 = a01 * a13 - a03 * a11,\n      b05 = a02 * a13 - a03 * a12,\n      b06 = a20 * a31 - a21 * a30,\n      b07 = a20 * a32 - a22 * a30,\n      b08 = a20 * a33 - a23 * a30,\n      b09 = a21 * a32 - a22 * a31,\n      b10 = a21 * a33 - a23 * a31,\n      b11 = a22 * a33 - a23 * a32,\n\n      det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  return mat4(\n      a11 * b11 - a12 * b10 + a13 * b09,\n      a02 * b10 - a01 * b11 - a03 * b09,\n      a31 * b05 - a32 * b04 + a33 * b03,\n      a22 * b04 - a21 * b05 - a23 * b03,\n      a12 * b08 - a10 * b11 - a13 * b07,\n      a00 * b11 - a02 * b08 + a03 * b07,\n      a32 * b02 - a30 * b05 - a33 * b01,\n      a20 * b05 - a22 * b02 + a23 * b01,\n      a10 * b10 - a11 * b08 + a13 * b06,\n      a01 * b08 - a00 * b10 - a03 * b06,\n      a30 * b04 - a31 * b02 + a33 * b00,\n      a21 * b02 - a20 * b04 - a23 * b00,\n      a11 * b07 - a10 * b09 - a12 * b06,\n      a00 * b09 - a01 * b07 + a02 * b06,\n      a31 * b01 - a30 * b03 - a32 * b00,\n      a20 * b03 - a21 * b01 + a22 * b00) / det;\n}\n\n\nmat4 transpose(in mat4 m) {\n  vec4 i0 = m[0];\n  vec4 i1 = m[1];\n  vec4 i2 = m[2];\n  vec4 i3 = m[3];\n\n  return mat4(\n    vec4(i0.x, i1.x, i2.x, i3.x),\n    vec4(i0.y, i1.y, i2.y, i3.y),\n    vec4(i0.z, i1.z, i2.z, i3.z),\n    vec4(i0.w, i1.w, i2.w, i3.w)\n  );\n}\n\nvoid main()\n{\n  vUv = uv;\n\n  vPosition = position;\n\n  vec3 offset = vec3(\n    sin(position.x * 50.0 + time),\n    sin(position.y * 10.0 + time * 2.0),\n    cos(position.z * 40.0 + time)\n  ) * 0.003;\n\n  vPosition *= 1.0 + selected * 0.2;\n\n  vNormal = normalize(inverse(transpose(modelMatrix)) * vec4(normalize(normal), 1.0)).xyz;\n  vWorldPos = (modelMatrix * vec4(vPosition, 1.0)).xyz;\n\n  vec4 mvPosition = modelViewMatrix * vec4(vPosition + offset, 1.0);\n  gl_Position = projectionMatrix * mvPosition;\n}\n`,\n  panoball_frag: `\nuniform sampler2D tex, texfx;\nuniform float time;\nuniform float selected;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec3 vWorldPos;\n\n\nvoid main( void ) {\n  vec2 uv = vUv;\n  //uv.y =  1.0 - uv.y;\n\n  vec3 eye = normalize(cameraPosition - vWorldPos);\n  float fresnel = abs(dot(eye, vNormal));\n  float shift = pow((1.0 - fresnel), 4.0) * 0.05;\n\n  vec3 col = vec3(\n    texture2D(tex, uv - shift).r,\n    texture2D(tex, uv).g,\n    texture2D(tex, uv + shift).b\n  );\n\n  col = mix(col * 0.7, vec3(1.0), 0.7 - fresnel);\n\n  col += selected * 0.3;\n\n  float t = time * 0.4 + vPosition.x + vPosition.z;\n  uv = vec2(vUv.x + t * 0.2, vUv.y + t);\n  vec3 fx = texture2D(texfx, uv).rgb * 0.4;\n\n\n  gl_FragColor = vec4(col + fx, 1.0);\n}\n`,\n  beam_frag: `\nuniform float time;\nuniform sampler2D tex;\nvarying vec2 vUv;\n\nvoid main( void ) {\n  float t = time;\n  vec4 col = texture2D(tex, vec2(vUv.x, vUv.y * 3.0 + time * 2.0));\n  col *= vUv.y;\n  gl_FragColor = col;\n}\n`\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL3NoYWRlcnMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3NoYWRlcnMuanM/YTRjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbmRvb3JfZnJhZyA6IGBcclxudW5pZm9ybSBmbG9hdCB0aW1lO1xyXG51bmlmb3JtIGZsb2F0IHNlbGVjdGVkO1xyXG51bmlmb3JtIHNhbXBsZXIyRCB0ZXg7XHJcbnZhcnlpbmcgdmVjMiB2VXY7XHJcblxyXG52b2lkIG1haW4oIHZvaWQgKSB7XHJcbiAgZmxvYXQgdCA9IHRpbWU7XHJcbiAgdmVjMiB1diA9IHZVdiAqIDIuMCAtIDEuMDtcclxuICB2ZWMyIHB1diA9IHZlYzIobGVuZ3RoKHV2Lnh5KSwgYXRhbih1di54LCB1di55KSk7XHJcbiAgdmVjNCBjb2wgPSB0ZXh0dXJlMkQodGV4LCB2ZWMyKGxvZyhwdXYueCkgKyB0IC8gNS4wLCBwdXYueSAvIDMuMTQxNTkyNiApKTtcclxuICBmbG9hdCBnbG93ID0gKDEuMCAtIHB1di54KSAqICgwLjUgKyAoc2luKHQpICsgMi4wICkgLyA0LjApO1xyXG4gIC8vIGJsdWUgZ2xvd1xyXG4gIGNvbCArPSB2ZWM0KDExOC4wLzI1NS4wLCAxNDQuMC8yNTUuMCwgMjE5LjAvMjU1LjAsIDEuMCkgKiAoMC40ICsgZ2xvdyAqIDEuMCk7XHJcbiAgLy8gd2hpdGUgZ2xvd1xyXG4gIGNvbCArPSB2ZWM0KDAuMikgKiBzbW9vdGhzdGVwKDAuMCwgMi4wLCBnbG93ICogZ2xvdyk7XHJcbiAgZ2xfRnJhZ0NvbG9yID0gY29sO1xyXG5cclxufVxyXG5gLFxyXG5cclxuem9vbV9mcmFnIDogYFxyXG51bmlmb3JtIGZsb2F0IHRpbWU7XHJcbnVuaWZvcm0gc2FtcGxlcjJEIHRleDtcclxudW5pZm9ybSB2ZWMyIHpvb21Qb3M7XHJcbnVuaWZvcm0gZmxvYXQgem9vbUFtb3VudDtcclxudW5pZm9ybSBmbG9hdCB6b29tUmF0aW87XHJcbnZhcnlpbmcgdmVjMiB2VXY7XHJcblxyXG52b2lkIG1haW4oIHZvaWQgKSB7XHJcbiAgZmxvYXQgdCA9IHRpbWU7XHJcbiAgdmVjMiB1diA9IHZlYzIodlV2LnggLSAwLjUsICgxLjAgLSB2VXYueSkgLSAwLjUpO1xyXG4gIHZlYzIgdGV4VXYgPSB1diAqIHZlYzIoem9vbVJhdGlvLCAxLjApO1xyXG4gIHZlYzQgY29sID0gdGV4dHVyZTJEKHRleCwgem9vbVBvcyArIHRleFV2ICogem9vbUFtb3VudCk7XHJcbiAgZmxvYXQgZGlzdCA9IGxlbmd0aCh1dikgKiAyLjA7XHJcbiAgY29sLmEgPSBzbW9vdGhzdGVwKDAuMCwgMC4xLCAxLjAgLSBkaXN0KTtcclxuICBmbG9hdCBhdXJhID0gc21vb3Roc3RlcCgwLjgwLCAxLjAsIGRpc3QpO1xyXG4gIGNvbC5yZ2IgKz0gYXVyYSAqIDAuMztcclxuICBnbF9GcmFnQ29sb3IgPSBjb2w7XHJcbn1cclxuYCxcclxuXHJcbmJhc2ljX3ZlcnQgOiBgXHJcbnZhcnlpbmcgdmVjMiB2VXY7XHJcbnZhcnlpbmcgdmVjMyB2UG9zaXRpb247XHJcbnZvaWQgbWFpbigpXHJcbntcclxuICB2VXYgPSB1djtcclxuICB2UG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICB2ZWM0IG12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLjApO1xyXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XHJcbn1cclxuYCxcclxuXHJcbnBhbm9iYWxsX3ZlcnQgOiBgXHJcbnZhcnlpbmcgdmVjMiB2VXY7XHJcbnZhcnlpbmcgdmVjMyB2UG9zaXRpb247XHJcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xyXG52YXJ5aW5nIHZlYzMgdldvcmxkUG9zO1xyXG51bmlmb3JtIGZsb2F0IHRpbWU7XHJcbnVuaWZvcm0gZmxvYXQgc2VsZWN0ZWQ7XHJcblxyXG5tYXQ0IGludmVyc2UobWF0NCBtKSB7XHJcbiAgZmxvYXRcclxuICAgICAgYTAwID0gbVswXVswXSwgYTAxID0gbVswXVsxXSwgYTAyID0gbVswXVsyXSwgYTAzID0gbVswXVszXSxcclxuICAgICAgYTEwID0gbVsxXVswXSwgYTExID0gbVsxXVsxXSwgYTEyID0gbVsxXVsyXSwgYTEzID0gbVsxXVszXSxcclxuICAgICAgYTIwID0gbVsyXVswXSwgYTIxID0gbVsyXVsxXSwgYTIyID0gbVsyXVsyXSwgYTIzID0gbVsyXVszXSxcclxuICAgICAgYTMwID0gbVszXVswXSwgYTMxID0gbVszXVsxXSwgYTMyID0gbVszXVsyXSwgYTMzID0gbVszXVszXSxcclxuXHJcbiAgICAgIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMCxcclxuICAgICAgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwLFxyXG4gICAgICBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTAsXHJcbiAgICAgIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMSxcclxuICAgICAgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExLFxyXG4gICAgICBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTIsXHJcbiAgICAgIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMCxcclxuICAgICAgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwLFxyXG4gICAgICBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzAsXHJcbiAgICAgIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMSxcclxuICAgICAgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxLFxyXG4gICAgICBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzIsXHJcblxyXG4gICAgICBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XHJcblxyXG4gIHJldHVybiBtYXQ0KFxyXG4gICAgICBhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDksXHJcbiAgICAgIGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSxcclxuICAgICAgYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzLFxyXG4gICAgICBhMjIgKiBiMDQgLSBhMjEgKiBiMDUgLSBhMjMgKiBiMDMsXHJcbiAgICAgIGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNyxcclxuICAgICAgYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3LFxyXG4gICAgICBhMzIgKiBiMDIgLSBhMzAgKiBiMDUgLSBhMzMgKiBiMDEsXHJcbiAgICAgIGEyMCAqIGIwNSAtIGEyMiAqIGIwMiArIGEyMyAqIGIwMSxcclxuICAgICAgYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2LFxyXG4gICAgICBhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYsXHJcbiAgICAgIGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCxcclxuICAgICAgYTIxICogYjAyIC0gYTIwICogYjA0IC0gYTIzICogYjAwLFxyXG4gICAgICBhMTEgKiBiMDcgLSBhMTAgKiBiMDkgLSBhMTIgKiBiMDYsXHJcbiAgICAgIGEwMCAqIGIwOSAtIGEwMSAqIGIwNyArIGEwMiAqIGIwNixcclxuICAgICAgYTMxICogYjAxIC0gYTMwICogYjAzIC0gYTMyICogYjAwLFxyXG4gICAgICBhMjAgKiBiMDMgLSBhMjEgKiBiMDEgKyBhMjIgKiBiMDApIC8gZGV0O1xyXG59XHJcblxyXG5cclxubWF0NCB0cmFuc3Bvc2UoaW4gbWF0NCBtKSB7XHJcbiAgdmVjNCBpMCA9IG1bMF07XHJcbiAgdmVjNCBpMSA9IG1bMV07XHJcbiAgdmVjNCBpMiA9IG1bMl07XHJcbiAgdmVjNCBpMyA9IG1bM107XHJcblxyXG4gIHJldHVybiBtYXQ0KFxyXG4gICAgdmVjNChpMC54LCBpMS54LCBpMi54LCBpMy54KSxcclxuICAgIHZlYzQoaTAueSwgaTEueSwgaTIueSwgaTMueSksXHJcbiAgICB2ZWM0KGkwLnosIGkxLnosIGkyLnosIGkzLnopLFxyXG4gICAgdmVjNChpMC53LCBpMS53LCBpMi53LCBpMy53KVxyXG4gICk7XHJcbn1cclxuXHJcbnZvaWQgbWFpbigpXHJcbntcclxuICB2VXYgPSB1djtcclxuXHJcbiAgdlBvc2l0aW9uID0gcG9zaXRpb247XHJcblxyXG4gIHZlYzMgb2Zmc2V0ID0gdmVjMyhcclxuICAgIHNpbihwb3NpdGlvbi54ICogNTAuMCArIHRpbWUpLFxyXG4gICAgc2luKHBvc2l0aW9uLnkgKiAxMC4wICsgdGltZSAqIDIuMCksXHJcbiAgICBjb3MocG9zaXRpb24ueiAqIDQwLjAgKyB0aW1lKVxyXG4gICkgKiAwLjAwMztcclxuXHJcbiAgdlBvc2l0aW9uICo9IDEuMCArIHNlbGVjdGVkICogMC4yO1xyXG5cclxuICB2Tm9ybWFsID0gbm9ybWFsaXplKGludmVyc2UodHJhbnNwb3NlKG1vZGVsTWF0cml4KSkgKiB2ZWM0KG5vcm1hbGl6ZShub3JtYWwpLCAxLjApKS54eXo7XHJcbiAgdldvcmxkUG9zID0gKG1vZGVsTWF0cml4ICogdmVjNCh2UG9zaXRpb24sIDEuMCkpLnh5ejtcclxuXHJcbiAgdmVjNCBtdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNCh2UG9zaXRpb24gKyBvZmZzZXQsIDEuMCk7XHJcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbXZQb3NpdGlvbjtcclxufVxyXG5gLFxyXG5cclxucGFub2JhbGxfZnJhZyA6IGBcclxudW5pZm9ybSBzYW1wbGVyMkQgdGV4LCB0ZXhmeDtcclxudW5pZm9ybSBmbG9hdCB0aW1lO1xyXG51bmlmb3JtIGZsb2F0IHNlbGVjdGVkO1xyXG52YXJ5aW5nIHZlYzIgdlV2O1xyXG52YXJ5aW5nIHZlYzMgdlBvc2l0aW9uO1xyXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcclxudmFyeWluZyB2ZWMzIHZXb3JsZFBvcztcclxuXHJcblxyXG52b2lkIG1haW4oIHZvaWQgKSB7XHJcbiAgdmVjMiB1diA9IHZVdjtcclxuICAvL3V2LnkgPSAgMS4wIC0gdXYueTtcclxuXHJcbiAgdmVjMyBleWUgPSBub3JtYWxpemUoY2FtZXJhUG9zaXRpb24gLSB2V29ybGRQb3MpO1xyXG4gIGZsb2F0IGZyZXNuZWwgPSBhYnMoZG90KGV5ZSwgdk5vcm1hbCkpO1xyXG4gIGZsb2F0IHNoaWZ0ID0gcG93KCgxLjAgLSBmcmVzbmVsKSwgNC4wKSAqIDAuMDU7XHJcblxyXG4gIHZlYzMgY29sID0gdmVjMyhcclxuICAgIHRleHR1cmUyRCh0ZXgsIHV2IC0gc2hpZnQpLnIsXHJcbiAgICB0ZXh0dXJlMkQodGV4LCB1dikuZyxcclxuICAgIHRleHR1cmUyRCh0ZXgsIHV2ICsgc2hpZnQpLmJcclxuICApO1xyXG5cclxuICBjb2wgPSBtaXgoY29sICogMC43LCB2ZWMzKDEuMCksIDAuNyAtIGZyZXNuZWwpO1xyXG5cclxuICBjb2wgKz0gc2VsZWN0ZWQgKiAwLjM7XHJcblxyXG4gIGZsb2F0IHQgPSB0aW1lICogMC40ICsgdlBvc2l0aW9uLnggKyB2UG9zaXRpb24uejtcclxuICB1diA9IHZlYzIodlV2LnggKyB0ICogMC4yLCB2VXYueSArIHQpO1xyXG4gIHZlYzMgZnggPSB0ZXh0dXJlMkQodGV4ZngsIHV2KS5yZ2IgKiAwLjQ7XHJcblxyXG5cclxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbCArIGZ4LCAxLjApO1xyXG59XHJcbmAsXHJcblxyXG5iZWFtX2ZyYWcgOiBgXHJcbnVuaWZvcm0gZmxvYXQgdGltZTtcclxudW5pZm9ybSBzYW1wbGVyMkQgdGV4O1xyXG52YXJ5aW5nIHZlYzIgdlV2O1xyXG5cclxudm9pZCBtYWluKCB2b2lkICkge1xyXG4gIGZsb2F0IHQgPSB0aW1lO1xyXG4gIHZlYzQgY29sID0gdGV4dHVyZTJEKHRleCwgdmVjMih2VXYueCwgdlV2LnkgKiAzLjAgKyB0aW1lICogMi4wKSk7XHJcbiAgY29sICo9IHZVdi55O1xyXG4gIGdsX0ZyYWdDb2xvciA9IGNvbDtcclxufVxyXG5gLFxyXG5cclxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/shaders.js\n");

/***/ }),

/***/ "./src/lib/slideshow.js":
/*!******************************!*\
  !*** ./src/lib/slideshow.js ***!
  \******************************/
/*! exports provided: slideshow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"slideshow\", function() { return slideshow; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nconst PATH_TIME = 3; // 3 secs per path\n\nvar slideshow = {};\nslideshow.paths = [\n//'hall'\n[{\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 1.6, 0),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 1, -100),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, -0.1),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0.04, 0, 0)\n}, {\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](4.5, 1.6, -3),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](100, 0, 0),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, -0.15),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0)\n}, {\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 1.6, 0),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](50, 0, -40),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0.12, 0),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0.1, 0)\n}, {\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](3, 2.4, -4),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-50, 0, 40),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, -0.12, 0),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, -0.1, 0)\n}],\n//'sound'\n[{\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 1.6, 0),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, -100),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0.1, 0, 0.1),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0.01, 0)\n}],\n//'photogrammetry'\n[{\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 1.2, 0.8),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-100, 0.5, 0),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, -0.2),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0)\n}, {\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-1, 1, -1.6),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-40, 0, 100),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-0.05, 0, 0),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0)\n}],\n//'vertigo'\n[{\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 1.6, 0),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, -10),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-0.01, 0.07, 0)\n}, {\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 1.6, -0.4),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 6),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0.1),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0.07, 0, 0)\n}],\n//'panoramastereo'\n[{\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-100, 0, 0),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0.03, 0.05, 0)\n}],\n//'panorama1'\n[],\n//'panorama2'\n[{\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-100, 0, 0),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0.01, 0.1, 0)\n}],\n//'panorama3'\n[],\n//'panorama4'\n[{\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-100, 0, 0),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](-0.07, -0.05, 0)\n}],\n//'panorama5'\n[{\n  from: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0),\n  lookAt: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](100, 0, 80),\n  velocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, 0, 0),\n  angularVelocity: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0, -0.02, 0)\n}]];\nslideshow.setup = function (context) {\n  this.room = undefined;\n  this.path = undefined;\n  this.next(context);\n  context.camera.position.set(0, 1.6, 0);\n  context.cameraRig.position.set(0, 0, 2);\n  context.goto = this.room;\n};\nslideshow.next = function (context) {\n  this.time = PATH_TIME + Math.random() * PATH_TIME / 2;\n  if (this.room === undefined) {\n    this.room = 0;\n    this.path = 0;\n  } else {\n    this.path++;\n    if (this.path >= this.paths[this.room].length) {\n      // find next room with paths\n      do {\n        this.room++;\n        if (this.room >= this.paths.length) {\n          this.room = 0;\n          context.cameraRig.position.set(0, 0, 2);\n        }\n      } while (!this.paths[this.room].length);\n      var camera = context.renderer.xr.getCamera(context.camera);\n      camera.position.set(0, 1.6, 0);\n      context.goto = this.room;\n      this.path = 0;\n    }\n  }\n  this.reset = true;\n};\nslideshow.execute = function (context, delta, time) {\n  const path = this.paths[this.room][this.path];\n  if (this.reset) {\n    this.reset = false;\n    // init camera settings\n    context.camera.position.copy(path.from);\n    context.camera.rotation.set(0, 0, 0);\n    context.camera.lookAt(path.lookAt);\n  }\n  context.camera.position.addScaledVector(path.velocity, delta);\n  context.camera.rotation.x += path.angularVelocity.x * delta;\n  context.camera.rotation.y += path.angularVelocity.y * delta;\n  context.camera.rotation.z += path.angularVelocity.z * delta;\n  this.time -= delta;\n  if (this.time < 0) {\n    this.next(context);\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL3NsaWRlc2hvdy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWIvc2xpZGVzaG93LmpzPzc0ZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5jb25zdCBQQVRIX1RJTUUgPSAzOyAvLyAzIHNlY3MgcGVyIHBhdGhcblxudmFyIHNsaWRlc2hvdyA9IHt9O1xuXG5zbGlkZXNob3cucGF0aHMgPSBbXG4gIC8vJ2hhbGwnXG4gIFtcbiAgICB7XG4gICAgICBmcm9tOiBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLjYsIDApLFxuICAgICAgbG9va0F0OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAtMTAwKSxcbiAgICAgIHZlbG9jaXR5OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMC4xKSxcbiAgICAgIGFuZ3VsYXJWZWxvY2l0eTogbmV3IFRIUkVFLlZlY3RvcjMoMC4wNCwgMCwgMClcbiAgICB9LFxuICAgIHtcbiAgICAgIGZyb206IG5ldyBUSFJFRS5WZWN0b3IzKDQuNSwgMS42LCAtMyksXG4gICAgICBsb29rQXQ6IG5ldyBUSFJFRS5WZWN0b3IzKDEwMCwgMCwgMCksXG4gICAgICB2ZWxvY2l0eTogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgLTAuMTUpLFxuICAgICAgYW5ndWxhclZlbG9jaXR5OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKVxuICAgIH0sXG4gICAge1xuICAgICAgZnJvbTogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMS42LCAwKSxcbiAgICAgIGxvb2tBdDogbmV3IFRIUkVFLlZlY3RvcjMoNTAsIDAsIC00MCksXG4gICAgICB2ZWxvY2l0eTogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMC4xMiwgMCksXG4gICAgICBhbmd1bGFyVmVsb2NpdHk6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAuMSwgMClcbiAgICB9LFxuICAgIHtcbiAgICAgIGZyb206IG5ldyBUSFJFRS5WZWN0b3IzKDMsIDIuNCwgLTQpLFxuICAgICAgbG9va0F0OiBuZXcgVEhSRUUuVmVjdG9yMygtNTAsIDAsIDQwKSxcbiAgICAgIHZlbG9jaXR5OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAtMC4xMiwgMCksXG4gICAgICBhbmd1bGFyVmVsb2NpdHk6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIC0wLjEsIDApXG4gICAgfVxuICBdLFxuICAvLydzb3VuZCdcbiAgW1xuICAgIHtcbiAgICAgIGZyb206IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEuNiwgMCksXG4gICAgICBsb29rQXQ6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIC0xMDApLFxuICAgICAgdmVsb2NpdHk6IG5ldyBUSFJFRS5WZWN0b3IzKDAuMSwgMCwgMC4xKSxcbiAgICAgIGFuZ3VsYXJWZWxvY2l0eTogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMC4wMSwgMClcbiAgICB9LFxuICBdLFxuICAvLydwaG90b2dyYW1tZXRyeSdcbiAgW1xuICAgIHtcbiAgICAgIGZyb206IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEuMiwgMC44KSxcbiAgICAgIGxvb2tBdDogbmV3IFRIUkVFLlZlY3RvcjMoLTEwMCwgMC41LCAwKSxcbiAgICAgIHZlbG9jaXR5OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMC4yKSxcbiAgICAgIGFuZ3VsYXJWZWxvY2l0eTogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMClcbiAgICB9LFxuICAgIHtcbiAgICAgIGZyb206IG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAxLCAtMS42KSxcbiAgICAgIGxvb2tBdDogbmV3IFRIUkVFLlZlY3RvcjMoLTQwLCAwLCAxMDApLFxuICAgICAgdmVsb2NpdHk6IG5ldyBUSFJFRS5WZWN0b3IzKC0wLjA1LCAwLCAwKSxcbiAgICAgIGFuZ3VsYXJWZWxvY2l0eTogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMClcbiAgICB9XG4gIF0sXG4gIC8vJ3ZlcnRpZ28nXG4gIFtcbiAgICB7XG4gICAgICBmcm9tOiBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLjYsIDApLFxuICAgICAgbG9va0F0OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMTApLFxuICAgICAgdmVsb2NpdHk6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApLFxuICAgICAgYW5ndWxhclZlbG9jaXR5OiBuZXcgVEhSRUUuVmVjdG9yMygtMC4wMSwgMC4wNywgMClcbiAgICB9LFxuICAgIHtcbiAgICAgIGZyb206IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEuNiwgLTAuNCksXG4gICAgICBsb29rQXQ6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDYpLFxuICAgICAgdmVsb2NpdHk6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDAuMSksXG4gICAgICBhbmd1bGFyVmVsb2NpdHk6IG5ldyBUSFJFRS5WZWN0b3IzKDAuMDcsIDAsIDApXG4gICAgfVxuICBdLFxuICAvLydwYW5vcmFtYXN0ZXJlbydcbiAgW1xuICAgIHtcbiAgICAgIGZyb206IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApLFxuICAgICAgbG9va0F0OiBuZXcgVEhSRUUuVmVjdG9yMygtMTAwLCAwLCAwKSxcbiAgICAgIHZlbG9jaXR5OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSxcbiAgICAgIGFuZ3VsYXJWZWxvY2l0eTogbmV3IFRIUkVFLlZlY3RvcjMoMC4wMywgMC4wNSwgMClcbiAgICB9XG4gIF0sXG4gIC8vJ3Bhbm9yYW1hMSdcbiAgW1xuICBdLFxuICAvLydwYW5vcmFtYTInXG4gIFtcbiAgICAgIHtcbiAgICAgIGZyb206IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApLFxuICAgICAgbG9va0F0OiBuZXcgVEhSRUUuVmVjdG9yMygtMTAwLCAwLCAwKSxcbiAgICAgIHZlbG9jaXR5OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSxcbiAgICAgIGFuZ3VsYXJWZWxvY2l0eTogbmV3IFRIUkVFLlZlY3RvcjMoMC4wMSwgMC4xLCAwKVxuICAgIH1cbiAgXSxcbiAgLy8ncGFub3JhbWEzJ1xuICBbXG4gIF0sXG4gIC8vJ3Bhbm9yYW1hNCdcbiAgW1xuICAgIHtcbiAgICAgIGZyb206IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApLFxuICAgICAgbG9va0F0OiBuZXcgVEhSRUUuVmVjdG9yMygtMTAwLCAwLCAwKSxcbiAgICAgIHZlbG9jaXR5OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSxcbiAgICAgIGFuZ3VsYXJWZWxvY2l0eTogbmV3IFRIUkVFLlZlY3RvcjMoLTAuMDcsIC0wLjA1LCAwKVxuICAgIH1cbiAgXSxcbiAgLy8ncGFub3JhbWE1J1xuICBbXG4gICAge1xuICAgICAgZnJvbTogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCksXG4gICAgICBsb29rQXQ6IG5ldyBUSFJFRS5WZWN0b3IzKDEwMCwgMCwgODApLFxuICAgICAgdmVsb2NpdHk6IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApLFxuICAgICAgYW5ndWxhclZlbG9jaXR5OiBuZXcgVEhSRUUuVmVjdG9yMygwLCAtMC4wMiwgMClcbiAgICB9XG4gIF1cbl07XG5cbnNsaWRlc2hvdy5zZXR1cCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gIHRoaXMucm9vbSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5wYXRoID0gdW5kZWZpbmVkO1xuICB0aGlzLm5leHQoY29udGV4dCk7XG4gIGNvbnRleHQuY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAxLjYsIDApO1xuICBjb250ZXh0LmNhbWVyYVJpZy5wb3NpdGlvbi5zZXQoMCwgMCwgMik7XG4gIGNvbnRleHQuZ290byA9IHRoaXMucm9vbTtcbn07XG5cbnNsaWRlc2hvdy5uZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgdGhpcy50aW1lID0gUEFUSF9USU1FICsgTWF0aC5yYW5kb20oKSAqIFBBVEhfVElNRSAvIDI7XG4gIGlmICh0aGlzLnJvb20gPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMucm9vbSA9IDA7XG4gICAgdGhpcy5wYXRoID0gMDtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnBhdGggKys7XG4gICAgaWYgKHRoaXMucGF0aCA+PSB0aGlzLnBhdGhzW3RoaXMucm9vbV0ubGVuZ3RoKXtcbiAgICAgIC8vIGZpbmQgbmV4dCByb29tIHdpdGggcGF0aHNcbiAgICAgIGRvIHtcbiAgICAgICAgdGhpcy5yb29tICsrO1xuICAgICAgICBpZiAodGhpcy5yb29tID49IHRoaXMucGF0aHMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5yb29tID0gMDtcbiAgICAgICAgICBjb250ZXh0LmNhbWVyYVJpZy5wb3NpdGlvbi5zZXQoMCwgMCwgMik7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKCF0aGlzLnBhdGhzW3RoaXMucm9vbV0ubGVuZ3RoKTtcbiAgICAgIHZhciBjYW1lcmEgPSBjb250ZXh0LnJlbmRlcmVyLnhyLmdldENhbWVyYShjb250ZXh0LmNhbWVyYSk7XG4gICAgICBjYW1lcmEucG9zaXRpb24uc2V0KDAsIDEuNiwgMCk7XG4gICAgICBjb250ZXh0LmdvdG8gPSB0aGlzLnJvb207XG4gICAgICB0aGlzLnBhdGggPSAwO1xuICAgIH1cbiAgfVxuICB0aGlzLnJlc2V0ID0gdHJ1ZTtcbn07XG5cbnNsaWRlc2hvdy5leGVjdXRlID0gZnVuY3Rpb24gKGNvbnRleHQsIGRlbHRhLCB0aW1lKSB7XG4gIGNvbnN0IHBhdGggPSB0aGlzLnBhdGhzW3RoaXMucm9vbV1bdGhpcy5wYXRoXTtcbiAgaWYgKHRoaXMucmVzZXQpIHtcbiAgICB0aGlzLnJlc2V0ID0gZmFsc2U7XG4gICAgLy8gaW5pdCBjYW1lcmEgc2V0dGluZ3NcbiAgICBjb250ZXh0LmNhbWVyYS5wb3NpdGlvbi5jb3B5KHBhdGguZnJvbSk7XG4gICAgY29udGV4dC5jYW1lcmEucm90YXRpb24uc2V0KDAsIDAsIDApO1xuICAgIGNvbnRleHQuY2FtZXJhLmxvb2tBdChwYXRoLmxvb2tBdCk7XG4gIH1cbiAgY29udGV4dC5jYW1lcmEucG9zaXRpb24uYWRkU2NhbGVkVmVjdG9yKHBhdGgudmVsb2NpdHksIGRlbHRhKTtcbiAgY29udGV4dC5jYW1lcmEucm90YXRpb24ueCArPSBwYXRoLmFuZ3VsYXJWZWxvY2l0eS54ICogZGVsdGE7XG4gIGNvbnRleHQuY2FtZXJhLnJvdGF0aW9uLnkgKz0gcGF0aC5hbmd1bGFyVmVsb2NpdHkueSAqIGRlbHRhO1xuICBjb250ZXh0LmNhbWVyYS5yb3RhdGlvbi56ICs9IHBhdGguYW5ndWxhclZlbG9jaXR5LnogKiBkZWx0YTtcbiAgdGhpcy50aW1lIC09IGRlbHRhO1xuICBpZiAodGhpcy50aW1lIDwgMCkge1xuICAgIHRoaXMubmV4dChjb250ZXh0KTtcbiAgfVxufTtcblxuZXhwb3J0IHtzbGlkZXNob3d9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/slideshow.js\n");

/***/ }),

/***/ "./src/rooms/ElementRoom.js":
/*!**********************************!*\
  !*** ./src/rooms/ElementRoom.js ***!
  \**********************************/
/*! exports provided: setup, enter, exit, execute */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setup\", function() { return setup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enter\", function() { return enter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"exit\", function() { return exit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"execute\", function() { return execute; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n/* harmony import */ var _data_elements_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/elements.js */ \"./src/data/elements.js\");\n/* harmony import */ var _lib_AudioManager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/AudioManager.js */ \"./src/lib/AudioManager.js\");\n/* harmony import */ var _lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/modelLoader.js */ \"./src/lib/modelLoader.js\");\n\n\n\n\n\nconsole.log('[ElementRoom] Module loaded, ELEMENTS:', typeof _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"], 'has ELEMENTS:', 'ELEMENTS' in {\n  ELEMENTS: _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"],\n  GROUP_COLORS: _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"GROUP_COLORS\"]\n});\nvar scene;\nvar elementData;\nvar atomModel;\nvar infoPanelMesh;\nvar experimentStations = [];\nvar audioManager;\nvar setupCalled = false;\nasync function setup(ctx, elementSymbol) {\n  console.log('[ElementRoom] setup called for:', elementSymbol);\n  console.log('[ElementRoom] ELEMENTS available:', typeof _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"], 'length:', _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"] ? _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"].length : 'N/A');\n  elementData = _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"].find(e => e.symbol === elementSymbol);\n  console.log('[ElementRoom] elementData found:', !!elementData, elementData);\n  if (!elementData) {\n    console.error('[ElementRoom] Element not found:', elementSymbol);\n    return;\n  }\n  scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n  console.log('[ElementRoom] Scene created:', scene);\n  const themeColor = elementData.color;\n  const bgColor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](themeColor).multiplyScalar(0.15);\n  scene.background = bgColor;\n  createFloor(ctx, themeColor);\n  createAtomModel(ctx, elementData);\n  createInfoPanel(ctx, elementData);\n  createExperimentStations(ctx, elementData);\n  setupLighting(ctx, themeColor);\n  createTeleportZone(ctx);\n  audioManager = new _lib_AudioManager_js__WEBPACK_IMPORTED_MODULE_3__[\"AudioManager\"](ctx);\n  await audioManager.init();\n  scene.userData.teleportZone = teleportFloorMesh;\n  scene.userData.atomModel = atomModel;\n  scene.userData.elementData = elementData;\n  setupCalled = true;\n  console.log('[ElementRoom] Setup complete for:', elementSymbol);\n}\nfunction createFloor(ctx, themeColor) {\n  const floorGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](10, 10, 0.2, 64);\n  const floorMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](themeColor).multiplyScalar(0.1)\n  });\n  const floor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](floorGeo, floorMat);\n  floor.position.y = -0.1;\n  scene.add(floor);\n}\nfunction createAtomModel(ctx, element) {\n  atomModel = Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_4__[\"createElementDisplay\"])(element, element.theme || 'standard');\n  atomModel.position.y = 2;\n  atomModel.scale.set(1.5, 1.5, 1.5);\n  const nucleusGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.5, 32, 32);\n  const nucleusMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n    color: element.color,\n    metalness: 0.5,\n    roughness: 0.5,\n    emissive: element.color,\n    emissiveIntensity: 0.2\n  });\n  const nucleusMesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](nucleusGeo, nucleusMat);\n  nucleusMesh.position.set(0, 0, 0);\n  nucleusMesh.userData.nucleus = true;\n  atomModel.add(nucleusMesh);\n  const electronCount = element.atomicNumber;\n  const shells = [2, 8, 18, 32, 50, 72];\n  let electronsPlaced = 0;\n  let shellRadius = 1.0;\n  while (electronsPlaced < electronCount) {\n    const maxInShell = shells[Math.min(Math.floor(shellRadius / 1.0), shells.length - 1)];\n    const electronsInShell = Math.min(maxInShell, electronCount - electronsPlaced);\n    const shellGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"TorusGeometry\"](shellRadius, 0.02, 16, 64);\n    const shellMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: element.color,\n      transparent: true,\n      opacity: 0.2\n    });\n    const shell = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](shellGeo, shellMat);\n    shell.rotation.x = Math.PI / 2;\n    shell.userData.shell = true;\n    atomModel.add(shell);\n    for (let i = 0; i < electronsInShell; i++) {\n      const angle = i / electronsInShell * Math.PI * 2;\n      const electronGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.08, 16, 16);\n      const electronMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n        color: 0xffffff,\n        emissive: 0xffffff,\n        emissiveIntensity: 0.5\n      });\n      const electron = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](electronGeo, electronMat);\n      electron.position.x = Math.cos(angle) * shellRadius;\n      electron.position.z = Math.sin(angle) * shellRadius;\n      electron.userData = {\n        angle: angle,\n        shellRadius: shellRadius,\n        speed: 1.5 + Math.random() * 0.5,\n        electron: true\n      };\n      atomModel.add(electron);\n    }\n    electronsPlaced += electronsInShell;\n    shellRadius += 0.5;\n  }\n  scene.add(atomModel);\n}\nfunction createInfoPanel(ctx, element) {\n  console.log('[ElementRoom] createInfoPanel called, ctx.world:', !!ctx.world);\n  if (!ctx.world) {\n    console.error('[ElementRoom] ctx.world is not available!');\n    return;\n  }\n  const panelGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](3, 4, 0.1);\n  const panelMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x2a2a3a,\n    transparent: true,\n    opacity: 0.9\n  });\n  infoPanelMesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](panelGeo, panelMat);\n  infoPanelMesh.position.set(-4, 2, 0);\n  infoPanelMesh.lookAt(0, 2, 0);\n  scene.add(infoPanelMesh);\n  const titleGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2.6, 0.5);\n  const titleMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: element.color\n  });\n  const titlePlate = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](titleGeo, titleMat);\n  titlePlate.position.set(0, 1.5, 0.06);\n  titlePlate.name = 'titlePlate';\n  infoPanelMesh.add(titlePlate);\n  const descGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2.6, 2.8);\n  const descMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x1a1a2a\n  });\n  const descPlate = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](descGeo, descMat);\n  descPlate.position.set(0, -0.3, 0.06);\n  descPlate.name = 'descPlate';\n  infoPanelMesh.add(descPlate);\n  console.log('[ElementRoom] Creating title text entity');\n  const titleTextEntity = ctx.world.createEntity();\n  titleTextEntity.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"], {\n    text: `${element.symbol} - ${element.name}\\nGruppe: ${element.group}\\nPeriode: ${element.period}\\nBlock: ${element.block}\\nGruppe: ${element.groupNumber}`,\n    color: '#ffffff',\n    fontSize: 0.1,\n    anchor: 'center',\n    baseline: 'middle',\n    textAlign: 'center'\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"ParentObject3D\"], {\n    value: titlePlate\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"], {\n    x: 0,\n    y: 0,\n    z: 0.01\n  });\n  console.log('[ElementRoom] Creating desc text entity');\n  const descTextEntity = ctx.world.createEntity();\n  descTextEntity.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"], {\n    text: `Ordnungszahl: ${element.atomicNumber}\\nAtommasse: ${element.mass}\\nGruppe: ${element.group}\\nPeriode: ${element.period}\\nBlock: ${element.block}\\nGruppe: ${element.groupNumber}\\nTheme: ${element.theme}\\n\\n${element.description}`,\n    color: '#cccccc',\n    fontSize: 0.05,\n    anchor: 'center',\n    baseline: 'top',\n    textAlign: 'center',\n    maxWidth: 2.4,\n    lineHeight: 1.4\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"ParentObject3D\"], {\n    value: descPlate\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"], {\n    x: 0,\n    y: 1.2,\n    z: 0.01\n  });\n  infoPanelMesh.userData.textEntities = [titleTextEntity, descTextEntity];\n  console.log('[ElementRoom] Text entities created:', infoPanelMesh.userData.textEntities.length);\n}\nfunction createExperimentStations(ctx, element) {\n  const stationRadius = 6;\n  const experiments = element.experiments || [];\n  experiments.forEach((expId, index) => {\n    const angle = index / Math.max(experiments.length, 1) * Math.PI * 2;\n    const x = Math.cos(angle) * stationRadius;\n    const z = Math.sin(angle) * stationRadius;\n    const stationGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](0.8, 0.8, 0.5, 16);\n    const stationMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](element.color).multiplyScalar(0.8),\n      transparent: true,\n      opacity: 0.6\n    });\n    const station = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](stationGeo, stationMat);\n    station.position.set(x, 0.25, z);\n    station.userData.experimentId = expId;\n    station.userData.element = element;\n    const iconGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.2, 16, 16);\n    const iconMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: 0xffffff\n    });\n    const icon = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](iconGeo, iconMat);\n    icon.position.set(0, 0.6, 0);\n    station.add(icon);\n    scene.add(station);\n    experimentStations.push(station);\n  });\n}\nfunction setupLighting(ctx, themeColor) {\n  const ambientLight = new three__WEBPACK_IMPORTED_MODULE_0__[\"AmbientLight\"](0xffffff, 0.3);\n  scene.add(ambientLight);\n  const pointLight1 = new three__WEBPACK_IMPORTED_MODULE_0__[\"PointLight\"](themeColor, 0.8, 15);\n  pointLight1.position.set(5, 5, 5);\n  scene.add(pointLight1);\n  const pointLight2 = new three__WEBPACK_IMPORTED_MODULE_0__[\"PointLight\"](themeColor, 0.8, 15);\n  pointLight2.position.set(-5, 5, -5);\n  scene.add(pointLight2);\n}\nvar teleportFloorMesh;\nfunction createTeleportZone(ctx) {\n  const teleportGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneBufferGeometry\"](20, 20);\n  const teleportMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    visible: false\n  });\n  teleportFloorMesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](teleportGeo, teleportMat);\n  teleportFloorMesh.rotation.x = -Math.PI / 2;\n  teleportFloorMesh.position.y = 0.001;\n  scene.add(teleportFloorMesh);\n}\nfunction enter(ctx) {\n  console.log('[ElementRoom] enter called, setupCalled:', setupCalled, 'scene:', !!scene);\n  if (!scene) {\n    console.error('[ElementRoom] Scene is undefined, skipping enter');\n    return;\n  }\n  if (!setupCalled) {\n    console.error('[ElementRoom] Setup was not called before enter!');\n    return;\n  }\n  ctx.scene.add(scene);\n  ctx.renderer.setClearColor(scene.background);\n  ctx.raycontrol.activateState('elementExperiments');\n  ctx.raycontrol.activateState('elementTeleport');\n  ctx.raycontrol.activateState('elementInfoPanel');\n  ctx.raycontrol.addState('elementExperiments', {\n    colliderMesh: experimentStations,\n    controller: 'primary',\n    onHover: (intersection, active) => {\n      const station = intersection.object;\n      station.scale.setScalar(active ? 1.2 : 1);\n    },\n    onHoverLeave: () => {},\n    onSelectStart: (intersection, e) => {\n      console.log('Experiment:', intersection.object.userData.experimentId);\n    },\n    onSelectEnd: intersection => {}\n  });\n  ctx.raycontrol.addState('elementInfoPanel', {\n    colliderMesh: [infoPanelMesh],\n    controller: 'primary',\n    onHover: (intersection, active) => {},\n    onHoverLeave: () => {},\n    onSelectStart: (intersection, e) => {\n      const panel = intersection.object;\n      const descComp = panel.userData.textEntities[1].getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"]);\n      descComp.fontSize = 0.07;\n    },\n    onSelectEnd: intersection => {\n      const panel = intersection.object;\n      const descComp = panel.userData.textEntities[1].getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"]);\n      descComp.fontSize = 0.05;\n    }\n  });\n  ctx.raycontrol.addState('elementTeleport', {\n    colliderMesh: teleportFloorMesh,\n    controller: 'primary',\n    onHover: (intersection, active) => {\n      ctx.teleport.onHover(intersection.point, active);\n    },\n    onHoverLeave: () => {\n      ctx.teleport.onHoverLeave();\n    },\n    onSelectStart: (intersection, e) => {\n      ctx.teleport.onSelectStart(e);\n    },\n    onSelectEnd: intersection => {\n      ctx.teleport.onSelectEnd(intersection.point);\n    }\n  });\n}\nfunction exit(ctx) {\n  ctx.raycontrol.deactivateState('elementExperiments');\n  ctx.raycontrol.deactivateState('elementTeleport');\n  ctx.raycontrol.deactivateState('elementInfoPanel');\n  ctx.scene.remove(scene);\n}\nvar experimentInteractions = [];\nfunction createExperimentInteractions(ctx, element) {\n  const experiments = element.experiments || [];\n  experiments.forEach(expId => {\n    const interaction = {\n      id: expId,\n      type: getExperimentType(expId),\n      setup: () => setupExperiment(ctx, expId, element),\n      execute: (delta, time) => executeExperiment(ctx, expId, delta, time)\n    };\n    experimentInteractions.push(interaction);\n  });\n  scene.userData.experimentInteractions = experimentInteractions;\n}\nfunction getExperimentType(expId) {\n  if (['water', 'flame'].includes(expId)) return 'reaction';\n  if (['electric', 'magnetic'].includes(expId)) return 'electrical';\n  if (['battery', 'galvanic'].includes(expId)) return 'electrochemical';\n  if (['fusion', 'fission', 'decay'].includes(expId)) return 'nuclear';\n  if (['protein', 'dna', 'polymer'].includes(expId)) return 'organic';\n  if (['crystal', 'lattice'].includes(expId)) return 'crystal';\n  return 'general';\n}\nfunction setupExperiment(ctx, expId, element) {\n  const type = getExperimentType(expId);\n  const station = experimentStations.find(s => s.userData.experimentId === expId);\n  if (!station) return;\n  switch (type) {\n    case 'reaction':\n      setupReactionExperiment(station, element, expId);\n      break;\n    case 'electrical':\n      setupElectricalExperiment(station, element, expId);\n      break;\n    case 'electrochemical':\n      setupElectrochemicalExperiment(station, element, expId);\n      break;\n    case 'nuclear':\n      setupNuclearExperiment(station, element, expId);\n      break;\n    case 'organic':\n      setupOrganicExperiment(station, element, expId);\n      break;\n    case 'crystal':\n      setupCrystalExperiment(station, element, expId);\n      break;\n    default:\n      setupGeneralExperiment(station, element, expId);\n      break;\n  }\n}\nfunction setupReactionExperiment(station, element, expId) {\n  const isAlkali = ['alkali', 'alkalineEarth'].includes(element.group);\n  if (expId === 'water' && isAlkali) {\n    station.userData.waterLevel = 0;\n    station.userData.reactionState = 'idle';\n    const waterGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](1, 1, 3, 32);\n    const waterMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: 0x4a90e2,\n      transparent: true,\n      opacity: 0.5\n    });\n    const water = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](waterGeo, waterMat);\n    water.position.set(0, 1.5, 0.8);\n    water.name = 'water';\n    station.add(water);\n    station.userData.reactionMeshes = [water];\n  }\n  if (expId === 'flame' && isAlkali) {\n    station.userData.flameIntensity = 0;\n    station.userData.flameMeshes = [];\n    for (let i = 0; i < 3; i++) {\n      const flameGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"ConeGeometry\"](0.1, 0.5, 16);\n      const flameMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n        color: element.group === 'alkali' ? 0xFF6B6B : element.color,\n        transparent: true,\n        opacity: 0.7\n      });\n      const flame = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](flameGeo, flameMat);\n      flame.position.set(-0.3 + i * 0.3, 0.5, 0);\n      flame.name = `flame_${i}`;\n      station.add(flame);\n      station.userData.flameMeshes.push(flame);\n    }\n  }\n}\nfunction setupElectricalExperiment(station, element, expId) {\n  if (expId === 'conductivity') {\n    station.userData.conductivity = 0;\n    station.userData.circuitActive = false;\n    const wireGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](0.05, 0.05, 2, 8);\n    const wireMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: element.color\n    });\n    const wire = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](wireGeo, wireMat);\n    wire.position.set(0, 1.2, 0);\n    wire.rotation.x = Math.PI / 2;\n    station.add(wire);\n    station.userData.electricalMeshes = [wire];\n  }\n}\nfunction setupElectrochemicalExperiment(station, element, expId) {\n  if (expId === 'battery') {\n    station.userData.batteryLevel = 1.0;\n    station.userData.dischargeRate = 0.001;\n    const batteryGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](0.6, 1, 0.4);\n    const batteryMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: element.color,\n      transparent: true,\n      opacity: 0.8\n    });\n    const battery = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](batteryGeo, batteryMat);\n    battery.position.set(0, 1.5, 0);\n    battery.name = 'battery';\n    station.add(battery);\n    const chargeBarGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](0.5, 0.1, 0.05);\n    const chargeBarMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: 0x00ff00\n    });\n    const chargeBar = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](chargeBarGeo, chargeBarMat);\n    chargeBar.position.set(0, 2.1, 0);\n    station.add(chargeBar);\n    station.userData.batteryMeshes = [battery, chargeBar];\n  }\n}\nfunction setupNuclearExperiment(station, element, expId) {\n  if (expId === 'fission' && element.group === 'actinide') {\n    station.userData.fissionActive = false;\n    station.userData.particles = [];\n    const coreGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.3, 32, 32);\n    const coreMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: 0x4A69BD,\n      transparent: true,\n      opacity: 0.8\n    });\n    const core = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](coreGeo, coreMat);\n    core.position.set(0, 1.8, 0);\n    core.name = 'nucleus';\n    station.add(core);\n    station.userData.nuclearMeshes = [core];\n  }\n}\nfunction setupOrganicExperiment(station, element, expId) {\n  if (expId === 'dna') {\n    station.userData.dnaRotating = true;\n    station.userData.rotationSpeed = 0.5;\n    const helixGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n    const points = [];\n    for (let i = 0; i < 100; i++) {\n      const t = i / 100;\n      const angle = t * Math.PI * 2 * 3;\n      const y = (t - 0.5) * 2;\n      const x = Math.cos(angle) * 0.3;\n      const z = Math.sin(angle) * 0.3;\n      points.push(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](x, y + 1.2, z));\n    }\n    const curve = new three__WEBPACK_IMPORTED_MODULE_0__[\"CatmullRomCurve3\"](points);\n    const tubeGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"TubeGeometry\"](curve, 100, 0.1, 8, false);\n    const tubeMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: element.color\n    });\n    const helix = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](tubeGeo, tubeMat);\n    helixGroup.add(helix);\n    helixGroup.position.set(0, 1.5, 0);\n    helixGroup.name = 'dna';\n    station.add(helixGroup);\n    station.userData.organicMeshes = [helixGroup];\n  }\n}\nfunction setupCrystalExperiment(station, element, expId) {\n  if (expId === 'lattice') {\n    station.userData.latticeAnimating = false;\n    station.userData.highlightedAtom = null;\n    const latticeGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](1.5, 1.5, 1.5, 3, 3, 3);\n    const latticeMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: element.color,\n      wireframe: true,\n      transparent: true,\n      opacity: 0.4\n    });\n    const lattice = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](latticeGeo, latticeMat);\n    lattice.position.set(0, 1.5, 0);\n    lattice.name = 'lattice';\n    station.add(lattice);\n    const atomGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.1, 16, 16);\n    const atomMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: 0xffffff\n    });\n    const atoms = [];\n    for (let x = 0; x < 2; x++) {\n      for (let y = 0; y < 2; y++) {\n        for (let z = 0; z < 2; z++) {\n          const atom = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](atomGeo, atomMat);\n          atom.position.set((x - 0.5) * 0.7, (y - 0.5) * 0.7, (z - 0.5) * 0.7);\n          atom.name = `atom_${x}_${y}_${z}`;\n          atoms.push(atom);\n          lattice.add(atom);\n        }\n      }\n    }\n    station.userData.crystalMeshes = [lattice, ...atoms];\n  }\n}\nfunction setupGeneralExperiment(station, element, expId) {\n  station.userData.experimentActive = false;\n  station.userData.experimentProgress = 0;\n}\nfunction executeExperiment(ctx, expId, delta, time) {\n  const type = getExperimentType(expId);\n  switch (type) {\n    case 'reaction':\n      executeReactionExperiment(ctx, expId, delta, time);\n      break;\n    case 'electrical':\n      executeElectricalExperiment(ctx, expId, delta, time);\n      break;\n    case 'electrochemical':\n      executeElectrochemicalExperiment(ctx, expId, delta, time);\n      break;\n    case 'nuclear':\n      executeNuclearExperiment(ctx, expId, delta, time);\n      break;\n    case 'organic':\n      executeOrganicExperiment(ctx, expId, delta, time);\n      break;\n    case 'crystal':\n      executeCrystalExperiment(ctx, expId, delta, time);\n      break;\n    default:\n      executeGeneralExperiment(ctx, expId, delta, time);\n      break;\n  }\n}\nfunction executeReactionExperiment(ctx, expId, delta, time) {\n  experimentStations.forEach(station => {\n    if (station.userData.experimentId !== expId) return;\n    if (expId === 'water' && station.userData.reactionState === 'active') {\n      station.userData.reactionState = 'active';\n      audioManager.playSound('water_sizzle', 1);\n    }\n    if (expId === 'flame' && station.userData.flameIntensity < 1) {\n      station.userData.reactionState = 'active';\n      audioManager.playSound('flame', 0.7);\n    }\n  });\n}\nfunction executeElectricalExperiment(ctx, expId, delta, time) {\n  experimentStations.forEach(station => {\n    if (station.userData.experimentId !== expId) return;\n    if (expId === 'conductivity' && station.userData.circuitActive) {\n      station.userData.conductivity += delta * 0.1;\n      const wire = station.userData.electricalMeshes[0];\n      if (station.userData.conductivity >= 1) {\n        wire.material.color.setHex(0x00ff00);\n      } else {\n        wire.material.color.setHex(0xffffff);\n      }\n    }\n  });\n}\nfunction executeElectrochemicalExperiment(ctx, expId, delta, time) {\n  experimentStations.forEach(station => {\n    if (station.userData.experimentId !== expId) return;\n    if (expId === 'battery') {\n      station.userData.batteryLevel -= station.userData.dischargeRate;\n      if (station.userData.batteryLevel <= 0) {\n        station.userData.batteryLevel = 0;\n      }\n      const chargeBar = station.userData.batteryMeshes[1];\n      chargeBar.scale.x = station.userData.batteryLevel;\n    }\n  });\n}\nfunction executeNuclearExperiment(ctx, expId, delta, time) {\n  experimentStations.forEach(station => {\n    if (station.userData.experimentId !== expId || !station.userData.fissionActive) return;\n    if (expId === 'fission') {\n      const core = station.userData.nuclearMeshes[0];\n      core.material.opacity = 0.5 + Math.sin(time * 5) * 0.3;\n      core.rotation.y += delta * 2;\n    }\n  });\n}\nfunction executeOrganicExperiment(ctx, expId, delta, time) {\n  experimentStations.forEach(station => {\n    if (station.userData.experimentId !== expId) return;\n    if (expId === 'dna') {\n      const helixGroup = station.userData.organicMeshes[0];\n      helixGroup.rotation.y += delta * station.userData.rotationSpeed;\n    }\n  });\n}\nfunction executeCrystalExperiment(ctx, expId, delta, time) {\n  experimentStations.forEach(station => {\n    if (station.userData.experimentId !== expId) return;\n    if (expId === 'lattice' && !station.userData.latticeAnimating) return;\n    const lattice = station.userData.crystalMeshes[0];\n    lattice.rotation.y += delta * 0.3;\n  });\n}\nfunction executeGeneralExperiment(ctx, expId, delta, time) {}\nfunction execute(ctx, delta, time) {\n  if (atomModel) {\n    atomModel.children.forEach(child => {\n      if (child.userData.electron) {\n        const data = child.userData;\n        data.angle += data.speed * delta;\n        child.position.x = Math.cos(data.angle) * data.shellRadius;\n        child.position.z = Math.sin(data.angle) * data.shellRadius;\n      } else if (child.userData.nucleus) {\n        child.rotation.y += delta * 0.3;\n        const pulse = 1 + Math.sin(time * 2) * 0.05;\n        child.scale.setScalar(pulse);\n      } else if (child.userData.shell) {\n        child.rotation.x = Math.PI / 2 + Math.sin(time + child.position.x * 5) * 0.05;\n        child.rotation.z += delta * 0.1;\n      }\n    });\n    if (atomModel.userData.themedDisplay) {\n      atomModel.rotation.y += delta * 0.15;\n    }\n  }\n  experimentInteractions.forEach(interaction => {\n    interaction.execute(delta, time);\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcm9vbXMvRWxlbWVudFJvb20uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm9vbXMvRWxlbWVudFJvb20uanM/MmY1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBUZXh0LCBQb3NpdGlvbiwgUGFyZW50T2JqZWN0M0QsIE9iamVjdDNELCBDaGlsZHJlbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW5kZXguanMnO1xuaW1wb3J0IHsgRUxFTUVOVFMsIEdST1VQX0NPTE9SUyB9IGZyb20gJy4uL2RhdGEvZWxlbWVudHMuanMnO1xuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vbGliL0F1ZGlvTWFuYWdlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50RGlzcGxheSB9IGZyb20gJy4uL2xpYi9tb2RlbExvYWRlci5qcyc7XG5cbmNvbnNvbGUubG9nKCdbRWxlbWVudFJvb21dIE1vZHVsZSBsb2FkZWQsIEVMRU1FTlRTOicsIHR5cGVvZiBFTEVNRU5UUywgJ2hhcyBFTEVNRU5UUzonLCAnRUxFTUVOVFMnIGluIHtFTEVNRU5UUywgR1JPVVBfQ09MT1JTfSk7XG5cbnZhciBzY2VuZTtcbnZhciBlbGVtZW50RGF0YTtcbnZhciBhdG9tTW9kZWw7XG52YXIgaW5mb1BhbmVsTWVzaDtcbnZhciBleHBlcmltZW50U3RhdGlvbnMgPSBbXTtcbnZhciBhdWRpb01hbmFnZXI7XG52YXIgc2V0dXBDYWxsZWQgPSBmYWxzZTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldHVwKGN0eCwgZWxlbWVudFN5bWJvbCkge1xuICBjb25zb2xlLmxvZygnW0VsZW1lbnRSb29tXSBzZXR1cCBjYWxsZWQgZm9yOicsIGVsZW1lbnRTeW1ib2wpO1xuICBjb25zb2xlLmxvZygnW0VsZW1lbnRSb29tXSBFTEVNRU5UUyBhdmFpbGFibGU6JywgdHlwZW9mIEVMRU1FTlRTLCAnbGVuZ3RoOicsIEVMRU1FTlRTID8gRUxFTUVOVFMubGVuZ3RoIDogJ04vQScpO1xuICBlbGVtZW50RGF0YSA9IEVMRU1FTlRTLmZpbmQoZSA9PiBlLnN5bWJvbCA9PT0gZWxlbWVudFN5bWJvbCk7XG4gIGNvbnNvbGUubG9nKCdbRWxlbWVudFJvb21dIGVsZW1lbnREYXRhIGZvdW5kOicsICEhZWxlbWVudERhdGEsIGVsZW1lbnREYXRhKTtcbiAgaWYgKCFlbGVtZW50RGF0YSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tFbGVtZW50Um9vbV0gRWxlbWVudCBub3QgZm91bmQ6JywgZWxlbWVudFN5bWJvbCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgY29uc29sZS5sb2coJ1tFbGVtZW50Um9vbV0gU2NlbmUgY3JlYXRlZDonLCBzY2VuZSk7XG5cbiAgY29uc3QgdGhlbWVDb2xvciA9IGVsZW1lbnREYXRhLmNvbG9yO1xuICBjb25zdCBiZ0NvbG9yID0gbmV3IFRIUkVFLkNvbG9yKHRoZW1lQ29sb3IpLm11bHRpcGx5U2NhbGFyKDAuMTUpO1xuICBzY2VuZS5iYWNrZ3JvdW5kID0gYmdDb2xvcjtcblxuICBjcmVhdGVGbG9vcihjdHgsIHRoZW1lQ29sb3IpO1xuICBjcmVhdGVBdG9tTW9kZWwoY3R4LCBlbGVtZW50RGF0YSk7XG4gIGNyZWF0ZUluZm9QYW5lbChjdHgsIGVsZW1lbnREYXRhKTtcbiAgY3JlYXRlRXhwZXJpbWVudFN0YXRpb25zKGN0eCwgZWxlbWVudERhdGEpO1xuICBzZXR1cExpZ2h0aW5nKGN0eCwgdGhlbWVDb2xvcik7XG4gIGNyZWF0ZVRlbGVwb3J0Wm9uZShjdHgpO1xuXG4gIGF1ZGlvTWFuYWdlciA9IG5ldyBBdWRpb01hbmFnZXIoY3R4KTtcbiAgYXdhaXQgYXVkaW9NYW5hZ2VyLmluaXQoKTtcblxuICBzY2VuZS51c2VyRGF0YS50ZWxlcG9ydFpvbmUgPSB0ZWxlcG9ydEZsb29yTWVzaDtcbiAgc2NlbmUudXNlckRhdGEuYXRvbU1vZGVsID0gYXRvbU1vZGVsO1xuICBzY2VuZS51c2VyRGF0YS5lbGVtZW50RGF0YSA9IGVsZW1lbnREYXRhO1xuXG4gIHNldHVwQ2FsbGVkID0gdHJ1ZTtcbiAgY29uc29sZS5sb2coJ1tFbGVtZW50Um9vbV0gU2V0dXAgY29tcGxldGUgZm9yOicsIGVsZW1lbnRTeW1ib2wpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGbG9vcihjdHgsIHRoZW1lQ29sb3IpIHtcbiAgY29uc3QgZmxvb3JHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgxMCwgMTAsIDAuMiwgNjQpO1xyXG4gIGNvbnN0IGZsb29yTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgIGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IodGhlbWVDb2xvcikubXVsdGlwbHlTY2FsYXIoMC4xKVxyXG4gIH0pO1xyXG4gIGNvbnN0IGZsb29yID0gbmV3IFRIUkVFLk1lc2goZmxvb3JHZW8sIGZsb29yTWF0KTtcclxuICBmbG9vci5wb3NpdGlvbi55ID0gLTAuMTtcclxuICBzY2VuZS5hZGQoZmxvb3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVBdG9tTW9kZWwoY3R4LCBlbGVtZW50KSB7XHJcbiAgYXRvbU1vZGVsID0gY3JlYXRlRWxlbWVudERpc3BsYXkoZWxlbWVudCwgZWxlbWVudC50aGVtZSB8fCAnc3RhbmRhcmQnKTtcclxuICBhdG9tTW9kZWwucG9zaXRpb24ueSA9IDI7XHJcbiAgYXRvbU1vZGVsLnNjYWxlLnNldCgxLjUsIDEuNSwgMS41KTtcclxuXHJcbiAgY29uc3QgbnVjbGV1c0dlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjUsIDMyLCAzMik7XHJcbiAgY29uc3QgbnVjbGV1c01hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogZWxlbWVudC5jb2xvcixcclxuICAgIG1ldGFsbmVzczogMC41LFxyXG4gICAgcm91Z2huZXNzOiAwLjUsXHJcbiAgICBlbWlzc2l2ZTogZWxlbWVudC5jb2xvcixcclxuICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjJcclxuICB9KTtcclxuICBjb25zdCBudWNsZXVzTWVzaCA9IG5ldyBUSFJFRS5NZXNoKG51Y2xldXNHZW8sIG51Y2xldXNNYXQpO1xuICBudWNsZXVzTWVzaC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gIG51Y2xldXNNZXNoLnVzZXJEYXRhLm51Y2xldXMgPSB0cnVlO1xuICBhdG9tTW9kZWwuYWRkKG51Y2xldXNNZXNoKTtcblxyXG4gIGNvbnN0IGVsZWN0cm9uQ291bnQgPSBlbGVtZW50LmF0b21pY051bWJlcjtcclxuICBjb25zdCBzaGVsbHMgPSBbMiwgOCwgMTgsIDMyLCA1MCwgNzJdO1xyXG4gIGxldCBlbGVjdHJvbnNQbGFjZWQgPSAwO1xyXG4gIGxldCBzaGVsbFJhZGl1cyA9IDEuMDtcclxuXHJcbiAgd2hpbGUgKGVsZWN0cm9uc1BsYWNlZCA8IGVsZWN0cm9uQ291bnQpIHtcclxuICAgIGNvbnN0IG1heEluU2hlbGwgPSBzaGVsbHNbTWF0aC5taW4oTWF0aC5mbG9vcihzaGVsbFJhZGl1cyAvIDEuMCksIHNoZWxscy5sZW5ndGggLSAxKV07XHJcbiAgICBjb25zdCBlbGVjdHJvbnNJblNoZWxsID0gTWF0aC5taW4obWF4SW5TaGVsbCwgZWxlY3Ryb25Db3VudCAtIGVsZWN0cm9uc1BsYWNlZCk7XHJcblxyXG4gICAgY29uc3Qgc2hlbGxHZW8gPSBuZXcgVEhSRUUuVG9ydXNHZW9tZXRyeShzaGVsbFJhZGl1cywgMC4wMiwgMTYsIDY0KTtcclxuICAgIGNvbnN0IHNoZWxsTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgY29sb3I6IGVsZW1lbnQuY29sb3IsXHJcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgICBvcGFjaXR5OiAwLjJcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2hlbGwgPSBuZXcgVEhSRUUuTWVzaChzaGVsbEdlbywgc2hlbGxNYXQpO1xyXG4gICAgc2hlbGwucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xyXG4gICAgc2hlbGwudXNlckRhdGEuc2hlbGwgPSB0cnVlO1xyXG4gICAgYXRvbU1vZGVsLmFkZChzaGVsbCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVjdHJvbnNJblNoZWxsOyBpKyspIHtcclxuICAgICAgY29uc3QgYW5nbGUgPSAoaSAvIGVsZWN0cm9uc0luU2hlbGwpICogTWF0aC5QSSAqIDI7XHJcbiAgICAgIGNvbnN0IGVsZWN0cm9uR2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuMDgsIDE2LCAxNik7XHJcbiAgICAgIGNvbnN0IGVsZWN0cm9uTWF0ID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgICBjb2xvcjogMHhmZmZmZmYsXHJcbiAgICAgICAgZW1pc3NpdmU6IDB4ZmZmZmZmLFxyXG4gICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjVcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IGVsZWN0cm9uID0gbmV3IFRIUkVFLk1lc2goZWxlY3Ryb25HZW8sIGVsZWN0cm9uTWF0KTtcclxuXHJcbiAgICAgIGVsZWN0cm9uLnBvc2l0aW9uLnggPSBNYXRoLmNvcyhhbmdsZSkgKiBzaGVsbFJhZGl1cztcclxuICAgICAgZWxlY3Ryb24ucG9zaXRpb24ueiA9IE1hdGguc2luKGFuZ2xlKSAqIHNoZWxsUmFkaXVzO1xyXG4gICAgICBlbGVjdHJvbi51c2VyRGF0YSA9IHtcclxuICAgICAgICBhbmdsZTogYW5nbGUsXHJcbiAgICAgICAgc2hlbGxSYWRpdXM6IHNoZWxsUmFkaXVzLFxyXG4gICAgICAgIHNwZWVkOiAxLjUgKyBNYXRoLnJhbmRvbSgpICogMC41LFxyXG4gICAgICAgIGVsZWN0cm9uOiB0cnVlXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhdG9tTW9kZWwuYWRkKGVsZWN0cm9uKTtcclxuICAgIH1cclxuXHJcbiAgICBlbGVjdHJvbnNQbGFjZWQgKz0gZWxlY3Ryb25zSW5TaGVsbDtcclxuICAgIHNoZWxsUmFkaXVzICs9IDAuNTtcclxuICB9XHJcblxyXG4gIHNjZW5lLmFkZChhdG9tTW9kZWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVJbmZvUGFuZWwoY3R4LCBlbGVtZW50KSB7XG4gIGNvbnNvbGUubG9nKCdbRWxlbWVudFJvb21dIGNyZWF0ZUluZm9QYW5lbCBjYWxsZWQsIGN0eC53b3JsZDonLCAhIWN0eC53b3JsZCk7XG4gIGlmICghY3R4LndvcmxkKSB7XG4gICAgY29uc29sZS5lcnJvcignW0VsZW1lbnRSb29tXSBjdHgud29ybGQgaXMgbm90IGF2YWlsYWJsZSEnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBwYW5lbEdlbyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgzLCA0LCAwLjEpO1xuICBjb25zdCBwYW5lbE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgY29sb3I6IDB4MmEyYTNhLFxuICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgIG9wYWNpdHk6IDAuOVxuICB9KTtcbiAgaW5mb1BhbmVsTWVzaCA9IG5ldyBUSFJFRS5NZXNoKHBhbmVsR2VvLCBwYW5lbE1hdCk7XG4gIGluZm9QYW5lbE1lc2gucG9zaXRpb24uc2V0KC00LCAyLCAwKTtcbiAgaW5mb1BhbmVsTWVzaC5sb29rQXQoMCwgMiwgMCk7XG4gIHNjZW5lLmFkZChpbmZvUGFuZWxNZXNoKTtcblxuICBjb25zdCB0aXRsZUdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIuNiwgMC41KTtcbiAgY29uc3QgdGl0bGVNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiBlbGVtZW50LmNvbG9yfSk7XG4gIGNvbnN0IHRpdGxlUGxhdGUgPSBuZXcgVEhSRUUuTWVzaCh0aXRsZUdlbywgdGl0bGVNYXQpO1xuICB0aXRsZVBsYXRlLnBvc2l0aW9uLnNldCgwLCAxLjUsIDAuMDYpO1xuICB0aXRsZVBsYXRlLm5hbWUgPSAndGl0bGVQbGF0ZSc7XG4gIGluZm9QYW5lbE1lc2guYWRkKHRpdGxlUGxhdGUpO1xuXG4gIGNvbnN0IGRlc2NHZW8gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLjYsIDIuOCk7XG4gIGNvbnN0IGRlc2NNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDFhMWEyYX0pO1xuICBjb25zdCBkZXNjUGxhdGUgPSBuZXcgVEhSRUUuTWVzaChkZXNjR2VvLCBkZXNjTWF0KTtcbiAgZGVzY1BsYXRlLnBvc2l0aW9uLnNldCgwLCAtMC4zLCAwLjA2KTtcbiAgZGVzY1BsYXRlLm5hbWUgPSAnZGVzY1BsYXRlJztcbiAgaW5mb1BhbmVsTWVzaC5hZGQoZGVzY1BsYXRlKTtcblxuICBjb25zb2xlLmxvZygnW0VsZW1lbnRSb29tXSBDcmVhdGluZyB0aXRsZSB0ZXh0IGVudGl0eScpO1xuICBjb25zdCB0aXRsZVRleHRFbnRpdHkgPSBjdHgud29ybGQuY3JlYXRlRW50aXR5KCk7XG4gIHRpdGxlVGV4dEVudGl0eVxuICAgIC5hZGRDb21wb25lbnQoVGV4dCwge1xuICAgICAgdGV4dDogYCR7ZWxlbWVudC5zeW1ib2x9IC0gJHtlbGVtZW50Lm5hbWV9XFxuR3J1cHBlOiAke2VsZW1lbnQuZ3JvdXB9XFxuUGVyaW9kZTogJHtlbGVtZW50LnBlcmlvZH1cXG5CbG9jazogJHtlbGVtZW50LmJsb2NrfVxcbkdydXBwZTogJHtlbGVtZW50Lmdyb3VwTnVtYmVyfWAsXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgZm9udFNpemU6IDAuMSxcbiAgICAgIGFuY2hvcjogJ2NlbnRlcicsXG4gICAgICBiYXNlbGluZTogJ21pZGRsZScsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXG4gICAgfSlcbiAgICAuYWRkQ29tcG9uZW50KFBhcmVudE9iamVjdDNELCB7dmFsdWU6IHRpdGxlUGxhdGV9KVxuICAgIC5hZGRDb21wb25lbnQoUG9zaXRpb24sIHt4OiAwLCB5OiAwLCB6OiAwLjAxfSk7XG4gIFxuICBjb25zb2xlLmxvZygnW0VsZW1lbnRSb29tXSBDcmVhdGluZyBkZXNjIHRleHQgZW50aXR5Jyk7XG4gIGNvbnN0IGRlc2NUZXh0RW50aXR5ID0gY3R4LndvcmxkLmNyZWF0ZUVudGl0eSgpO1xuICBkZXNjVGV4dEVudGl0eVxuICAgIC5hZGRDb21wb25lbnQoVGV4dCwge1xuICAgICAgdGV4dDogYE9yZG51bmdzemFobDogJHtlbGVtZW50LmF0b21pY051bWJlcn1cXG5BdG9tbWFzc2U6ICR7ZWxlbWVudC5tYXNzfVxcbkdydXBwZTogJHtlbGVtZW50Lmdyb3VwfVxcblBlcmlvZGU6ICR7ZWxlbWVudC5wZXJpb2R9XFxuQmxvY2s6ICR7ZWxlbWVudC5ibG9ja31cXG5HcnVwcGU6ICR7ZWxlbWVudC5ncm91cE51bWJlcn1cXG5UaGVtZTogJHtlbGVtZW50LnRoZW1lfVxcblxcbiR7ZWxlbWVudC5kZXNjcmlwdGlvbn1gLFxuICAgICAgY29sb3I6ICcjY2NjY2NjJyxcbiAgICAgIGZvbnRTaXplOiAwLjA1LFxuICAgICAgYW5jaG9yOiAnY2VudGVyJyxcbiAgICAgIGJhc2VsaW5lOiAndG9wJyxcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICBtYXhXaWR0aDogMi40LFxuICAgICAgbGluZUhlaWdodDogMS40XG4gICAgfSlcbiAgICAuYWRkQ29tcG9uZW50KFBhcmVudE9iamVjdDNELCB7dmFsdWU6IGRlc2NQbGF0ZX0pXG4gICAgLmFkZENvbXBvbmVudChQb3NpdGlvbiwge3g6IDAsIHk6IDEuMiwgejogMC4wMX0pO1xuXG4gIGluZm9QYW5lbE1lc2gudXNlckRhdGEudGV4dEVudGl0aWVzID0gW3RpdGxlVGV4dEVudGl0eSwgZGVzY1RleHRFbnRpdHldO1xuICBjb25zb2xlLmxvZygnW0VsZW1lbnRSb29tXSBUZXh0IGVudGl0aWVzIGNyZWF0ZWQ6JywgaW5mb1BhbmVsTWVzaC51c2VyRGF0YS50ZXh0RW50aXRpZXMubGVuZ3RoKTtcbn1cblxyXG5mdW5jdGlvbiBjcmVhdGVFeHBlcmltZW50U3RhdGlvbnMoY3R4LCBlbGVtZW50KSB7XHJcbiAgY29uc3Qgc3RhdGlvblJhZGl1cyA9IDY7XHJcbiAgY29uc3QgZXhwZXJpbWVudHMgPSBlbGVtZW50LmV4cGVyaW1lbnRzIHx8IFtdO1xyXG5cclxuICBleHBlcmltZW50cy5mb3JFYWNoKChleHBJZCwgaW5kZXgpID0+IHtcclxuICAgIGNvbnN0IGFuZ2xlID0gKGluZGV4IC8gTWF0aC5tYXgoZXhwZXJpbWVudHMubGVuZ3RoLCAxKSkgKiBNYXRoLlBJICogMjtcclxuICAgIGNvbnN0IHggPSBNYXRoLmNvcyhhbmdsZSkgKiBzdGF0aW9uUmFkaXVzO1xyXG4gICAgY29uc3QgeiA9IE1hdGguc2luKGFuZ2xlKSAqIHN0YXRpb25SYWRpdXM7XHJcblxyXG4gICAgY29uc3Qgc3RhdGlvbkdlbyA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDAuOCwgMC44LCAwLjUsIDE2KTtcclxuICAgIGNvbnN0IHN0YXRpb25NYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICBjb2xvcjogbmV3IFRIUkVFLkNvbG9yKGVsZW1lbnQuY29sb3IpLm11bHRpcGx5U2NhbGFyKDAuOCksXHJcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgICBvcGFjaXR5OiAwLjZcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc3RhdGlvbiA9IG5ldyBUSFJFRS5NZXNoKHN0YXRpb25HZW8sIHN0YXRpb25NYXQpO1xyXG4gICAgc3RhdGlvbi5wb3NpdGlvbi5zZXQoeCwgMC4yNSwgeik7XHJcbiAgICBzdGF0aW9uLnVzZXJEYXRhLmV4cGVyaW1lbnRJZCA9IGV4cElkO1xyXG4gICAgc3RhdGlvbi51c2VyRGF0YS5lbGVtZW50ID0gZWxlbWVudDtcclxuXHJcbiAgICBjb25zdCBpY29uR2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuMiwgMTYsIDE2KTtcclxuICAgIGNvbnN0IGljb25NYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweGZmZmZmZn0pO1xyXG4gICAgY29uc3QgaWNvbiA9IG5ldyBUSFJFRS5NZXNoKGljb25HZW8sIGljb25NYXQpO1xyXG4gICAgaWNvbi5wb3NpdGlvbi5zZXQoMCwgMC42LCAwKTtcclxuICAgIHN0YXRpb24uYWRkKGljb24pO1xyXG5cclxuICAgIHNjZW5lLmFkZChzdGF0aW9uKTtcclxuICAgIGV4cGVyaW1lbnRTdGF0aW9ucy5wdXNoKHN0YXRpb24pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cExpZ2h0aW5nKGN0eCwgdGhlbWVDb2xvcikge1xyXG4gIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhmZmZmZmYsIDAuMyk7XHJcbiAgc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7XHJcblxyXG4gIGNvbnN0IHBvaW50TGlnaHQxID0gbmV3IFRIUkVFLlBvaW50TGlnaHQodGhlbWVDb2xvciwgMC44LCAxNSk7XHJcbiAgcG9pbnRMaWdodDEucG9zaXRpb24uc2V0KDUsIDUsIDUpO1xyXG4gIHNjZW5lLmFkZChwb2ludExpZ2h0MSk7XHJcblxyXG4gIGNvbnN0IHBvaW50TGlnaHQyID0gbmV3IFRIUkVFLlBvaW50TGlnaHQodGhlbWVDb2xvciwgMC44LCAxNSk7XHJcbiAgcG9pbnRMaWdodDIucG9zaXRpb24uc2V0KC01LCA1LCAtNSk7XHJcbiAgc2NlbmUuYWRkKHBvaW50TGlnaHQyKTtcclxufVxyXG5cclxudmFyIHRlbGVwb3J0Rmxvb3JNZXNoO1xuXG5mdW5jdGlvbiBjcmVhdGVUZWxlcG9ydFpvbmUoY3R4KSB7XG4gIGNvbnN0IHRlbGVwb3J0R2VvID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoMjAsIDIwKTtcbiAgY29uc3QgdGVsZXBvcnRNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe3Zpc2libGU6IGZhbHNlfSk7XG4gIHRlbGVwb3J0Rmxvb3JNZXNoID0gbmV3IFRIUkVFLk1lc2godGVsZXBvcnRHZW8sIHRlbGVwb3J0TWF0KTtcbiAgdGVsZXBvcnRGbG9vck1lc2gucm90YXRpb24ueCA9IC1NYXRoLlBJIC8gMjtcbiAgdGVsZXBvcnRGbG9vck1lc2gucG9zaXRpb24ueSA9IDAuMDAxO1xuICBzY2VuZS5hZGQodGVsZXBvcnRGbG9vck1lc2gpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW50ZXIoY3R4KSB7XG4gIGNvbnNvbGUubG9nKCdbRWxlbWVudFJvb21dIGVudGVyIGNhbGxlZCwgc2V0dXBDYWxsZWQ6Jywgc2V0dXBDYWxsZWQsICdzY2VuZTonLCAhIXNjZW5lKTtcbiAgaWYgKCFzY2VuZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tFbGVtZW50Um9vbV0gU2NlbmUgaXMgdW5kZWZpbmVkLCBza2lwcGluZyBlbnRlcicpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIXNldHVwQ2FsbGVkKSB7XG4gICAgY29uc29sZS5lcnJvcignW0VsZW1lbnRSb29tXSBTZXR1cCB3YXMgbm90IGNhbGxlZCBiZWZvcmUgZW50ZXIhJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGN0eC5zY2VuZS5hZGQoc2NlbmUpO1xuICBjdHgucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihzY2VuZS5iYWNrZ3JvdW5kKTtcbiAgY3R4LnJheWNvbnRyb2wuYWN0aXZhdGVTdGF0ZSgnZWxlbWVudEV4cGVyaW1lbnRzJyk7XG4gIGN0eC5yYXljb250cm9sLmFjdGl2YXRlU3RhdGUoJ2VsZW1lbnRUZWxlcG9ydCcpO1xuICBjdHgucmF5Y29udHJvbC5hY3RpdmF0ZVN0YXRlKCdlbGVtZW50SW5mb1BhbmVsJyk7XG5cclxuICBjdHgucmF5Y29udHJvbC5hZGRTdGF0ZSgnZWxlbWVudEV4cGVyaW1lbnRzJywge1xyXG4gICAgY29sbGlkZXJNZXNoOiBleHBlcmltZW50U3RhdGlvbnMsXHJcbiAgICBjb250cm9sbGVyOiAncHJpbWFyeScsXHJcbiAgICBvbkhvdmVyOiAoaW50ZXJzZWN0aW9uLCBhY3RpdmUpID0+IHtcclxuICAgICAgY29uc3Qgc3RhdGlvbiA9IGludGVyc2VjdGlvbi5vYmplY3Q7XHJcbiAgICAgIHN0YXRpb24uc2NhbGUuc2V0U2NhbGFyKGFjdGl2ZSA/IDEuMiA6IDEpO1xyXG4gICAgfSxcclxuICAgIG9uSG92ZXJMZWF2ZTogKCkgPT4ge30sXHJcbiAgICBvblNlbGVjdFN0YXJ0OiAoaW50ZXJzZWN0aW9uLCBlKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdFeHBlcmltZW50OicsIGludGVyc2VjdGlvbi5vYmplY3QudXNlckRhdGEuZXhwZXJpbWVudElkKTtcclxuICAgIH0sXHJcbiAgICBvblNlbGVjdEVuZDogKGludGVyc2VjdGlvbikgPT4ge31cclxuICB9KTtcclxuXHJcbiAgY3R4LnJheWNvbnRyb2wuYWRkU3RhdGUoJ2VsZW1lbnRJbmZvUGFuZWwnLCB7XHJcbiAgICBjb2xsaWRlck1lc2g6IFtpbmZvUGFuZWxNZXNoXSxcclxuICAgIGNvbnRyb2xsZXI6ICdwcmltYXJ5JyxcclxuICAgIG9uSG92ZXI6IChpbnRlcnNlY3Rpb24sIGFjdGl2ZSkgPT4ge30sXHJcbiAgICBvbkhvdmVyTGVhdmU6ICgpID0+IHt9LFxyXG4gICAgb25TZWxlY3RTdGFydDogKGludGVyc2VjdGlvbiwgZSkgPT4ge1xyXG4gICAgICBjb25zdCBwYW5lbCA9IGludGVyc2VjdGlvbi5vYmplY3Q7XHJcbiAgICAgIGNvbnN0IGRlc2NDb21wID0gcGFuZWwudXNlckRhdGEudGV4dEVudGl0aWVzWzFdLmdldENvbXBvbmVudChUZXh0KTtcclxuICAgICAgZGVzY0NvbXAuZm9udFNpemUgPSAwLjA3O1xyXG4gICAgfSxcclxuICAgIG9uU2VsZWN0RW5kOiAoaW50ZXJzZWN0aW9uKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBhbmVsID0gaW50ZXJzZWN0aW9uLm9iamVjdDtcclxuICAgICAgY29uc3QgZGVzY0NvbXAgPSBwYW5lbC51c2VyRGF0YS50ZXh0RW50aXRpZXNbMV0uZ2V0Q29tcG9uZW50KFRleHQpO1xyXG4gICAgICBkZXNjQ29tcC5mb250U2l6ZSA9IDAuMDU7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGN0eC5yYXljb250cm9sLmFkZFN0YXRlKCdlbGVtZW50VGVsZXBvcnQnLCB7XG4gICAgY29sbGlkZXJNZXNoOiB0ZWxlcG9ydEZsb29yTWVzaCxcbiAgICBjb250cm9sbGVyOiAncHJpbWFyeScsXG4gICAgb25Ib3ZlcjogKGludGVyc2VjdGlvbiwgYWN0aXZlKSA9PiB7XHJcbiAgICAgIGN0eC50ZWxlcG9ydC5vbkhvdmVyKGludGVyc2VjdGlvbi5wb2ludCwgYWN0aXZlKTtcclxuICAgIH0sXHJcbiAgICBvbkhvdmVyTGVhdmU6ICgpID0+IHtcclxuICAgICAgY3R4LnRlbGVwb3J0Lm9uSG92ZXJMZWF2ZSgpO1xyXG4gICAgfSxcclxuICAgIG9uU2VsZWN0U3RhcnQ6IChpbnRlcnNlY3Rpb24sIGUpID0+IHtcclxuICAgICAgY3R4LnRlbGVwb3J0Lm9uU2VsZWN0U3RhcnQoZSk7XHJcbiAgICB9LFxyXG4gICAgb25TZWxlY3RFbmQ6IChpbnRlcnNlY3Rpb24pID0+IHtcclxuICAgICAgY3R4LnRlbGVwb3J0Lm9uU2VsZWN0RW5kKGludGVyc2VjdGlvbi5wb2ludCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleGl0KGN0eCkge1xyXG4gIGN0eC5yYXljb250cm9sLmRlYWN0aXZhdGVTdGF0ZSgnZWxlbWVudEV4cGVyaW1lbnRzJyk7XHJcbiAgY3R4LnJheWNvbnRyb2wuZGVhY3RpdmF0ZVN0YXRlKCdlbGVtZW50VGVsZXBvcnQnKTtcclxuICBjdHgucmF5Y29udHJvbC5kZWFjdGl2YXRlU3RhdGUoJ2VsZW1lbnRJbmZvUGFuZWwnKTtcclxuICBjdHguc2NlbmUucmVtb3ZlKHNjZW5lKTtcclxufVxyXG5cclxudmFyIGV4cGVyaW1lbnRJbnRlcmFjdGlvbnMgPSBbXTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUV4cGVyaW1lbnRJbnRlcmFjdGlvbnMoY3R4LCBlbGVtZW50KSB7XHJcbiAgY29uc3QgZXhwZXJpbWVudHMgPSBlbGVtZW50LmV4cGVyaW1lbnRzIHx8IFtdO1xyXG5cclxuICBleHBlcmltZW50cy5mb3JFYWNoKGV4cElkID0+IHtcclxuICAgIGNvbnN0IGludGVyYWN0aW9uID0ge1xyXG4gICAgICBpZDogZXhwSWQsXHJcbiAgICAgIHR5cGU6IGdldEV4cGVyaW1lbnRUeXBlKGV4cElkKSxcclxuICAgICAgc2V0dXA6ICgpID0+IHNldHVwRXhwZXJpbWVudChjdHgsIGV4cElkLCBlbGVtZW50KSxcclxuICAgICAgZXhlY3V0ZTogKGRlbHRhLCB0aW1lKSA9PiBleGVjdXRlRXhwZXJpbWVudChjdHgsIGV4cElkLCBkZWx0YSwgdGltZSlcclxuICAgIH07XHJcblxyXG4gICAgZXhwZXJpbWVudEludGVyYWN0aW9ucy5wdXNoKGludGVyYWN0aW9uKTtcclxuICB9KTtcclxuXHJcbiAgc2NlbmUudXNlckRhdGEuZXhwZXJpbWVudEludGVyYWN0aW9ucyA9IGV4cGVyaW1lbnRJbnRlcmFjdGlvbnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEV4cGVyaW1lbnRUeXBlKGV4cElkKSB7XHJcbiAgaWYgKFsnd2F0ZXInLCAnZmxhbWUnXS5pbmNsdWRlcyhleHBJZCkpIHJldHVybiAncmVhY3Rpb24nO1xyXG4gIGlmIChbJ2VsZWN0cmljJywgJ21hZ25ldGljJ10uaW5jbHVkZXMoZXhwSWQpKSByZXR1cm4gJ2VsZWN0cmljYWwnO1xyXG4gIGlmIChbJ2JhdHRlcnknLCAnZ2FsdmFuaWMnXS5pbmNsdWRlcyhleHBJZCkpIHJldHVybiAnZWxlY3Ryb2NoZW1pY2FsJztcclxuICBpZiAoWydmdXNpb24nLCAnZmlzc2lvbicsICdkZWNheSddLmluY2x1ZGVzKGV4cElkKSkgcmV0dXJuICdudWNsZWFyJztcclxuICBpZiAoWydwcm90ZWluJywgJ2RuYScsICdwb2x5bWVyJ10uaW5jbHVkZXMoZXhwSWQpKSByZXR1cm4gJ29yZ2FuaWMnO1xyXG4gIGlmIChbJ2NyeXN0YWwnLCAnbGF0dGljZSddLmluY2x1ZGVzKGV4cElkKSkgcmV0dXJuICdjcnlzdGFsJztcclxuICByZXR1cm4gJ2dlbmVyYWwnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cEV4cGVyaW1lbnQoY3R4LCBleHBJZCwgZWxlbWVudCkge1xyXG4gIGNvbnN0IHR5cGUgPSBnZXRFeHBlcmltZW50VHlwZShleHBJZCk7XHJcbiAgY29uc3Qgc3RhdGlvbiA9IGV4cGVyaW1lbnRTdGF0aW9ucy5maW5kKHMgPT4gcy51c2VyRGF0YS5leHBlcmltZW50SWQgPT09IGV4cElkKTtcclxuXHJcbiAgaWYgKCFzdGF0aW9uKSByZXR1cm47XHJcblxyXG4gIHN3aXRjaCh0eXBlKSB7XHJcbiAgICBjYXNlICdyZWFjdGlvbic6XHJcbiAgICAgIHNldHVwUmVhY3Rpb25FeHBlcmltZW50KHN0YXRpb24sIGVsZW1lbnQsIGV4cElkKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdlbGVjdHJpY2FsJzpcclxuICAgICAgc2V0dXBFbGVjdHJpY2FsRXhwZXJpbWVudChzdGF0aW9uLCBlbGVtZW50LCBleHBJZCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnZWxlY3Ryb2NoZW1pY2FsJzpcclxuICAgICAgc2V0dXBFbGVjdHJvY2hlbWljYWxFeHBlcmltZW50KHN0YXRpb24sIGVsZW1lbnQsIGV4cElkKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdudWNsZWFyJzpcclxuICAgICAgc2V0dXBOdWNsZWFyRXhwZXJpbWVudChzdGF0aW9uLCBlbGVtZW50LCBleHBJZCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnb3JnYW5pYyc6XHJcbiAgICAgIHNldHVwT3JnYW5pY0V4cGVyaW1lbnQoc3RhdGlvbiwgZWxlbWVudCwgZXhwSWQpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2NyeXN0YWwnOlxyXG4gICAgICBzZXR1cENyeXN0YWxFeHBlcmltZW50KHN0YXRpb24sIGVsZW1lbnQsIGV4cElkKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBzZXR1cEdlbmVyYWxFeHBlcmltZW50KHN0YXRpb24sIGVsZW1lbnQsIGV4cElkKTtcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cFJlYWN0aW9uRXhwZXJpbWVudChzdGF0aW9uLCBlbGVtZW50LCBleHBJZCkge1xyXG4gIGNvbnN0IGlzQWxrYWxpID0gWydhbGthbGknLCAnYWxrYWxpbmVFYXJ0aCddLmluY2x1ZGVzKGVsZW1lbnQuZ3JvdXApO1xyXG5cclxuICBpZiAoZXhwSWQgPT09ICd3YXRlcicgJiYgaXNBbGthbGkpIHtcclxuICAgIHN0YXRpb24udXNlckRhdGEud2F0ZXJMZXZlbCA9IDA7XHJcbiAgICBzdGF0aW9uLnVzZXJEYXRhLnJlYWN0aW9uU3RhdGUgPSAnaWRsZSc7XHJcblxyXG4gICAgY29uc3Qgd2F0ZXJHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgxLCAxLCAzLCAzMik7XHJcbiAgICBjb25zdCB3YXRlck1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgIGNvbG9yOiAweDRhOTBlMixcclxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgIG9wYWNpdHk6IDAuNVxyXG4gICAgfSk7XHJcbiAgICBjb25zdCB3YXRlciA9IG5ldyBUSFJFRS5NZXNoKHdhdGVyR2VvLCB3YXRlck1hdCk7XHJcbiAgICB3YXRlci5wb3NpdGlvbi5zZXQoMCwgMS41LCAwLjgpO1xyXG4gICAgd2F0ZXIubmFtZSA9ICd3YXRlcic7XHJcbiAgICBzdGF0aW9uLmFkZCh3YXRlcik7XHJcblxyXG4gICAgc3RhdGlvbi51c2VyRGF0YS5yZWFjdGlvbk1lc2hlcyA9IFt3YXRlcl07XHJcbiAgfVxyXG5cclxuICBpZiAoZXhwSWQgPT09ICdmbGFtZScgJiYgaXNBbGthbGkpIHtcclxuICAgIHN0YXRpb24udXNlckRhdGEuZmxhbWVJbnRlbnNpdHkgPSAwO1xyXG4gICAgc3RhdGlvbi51c2VyRGF0YS5mbGFtZU1lc2hlcyA9IFtdO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGZsYW1lR2VvID0gbmV3IFRIUkVFLkNvbmVHZW9tZXRyeSgwLjEsIDAuNSwgMTYpO1xyXG4gICAgICBjb25zdCBmbGFtZU1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgICAgY29sb3I6IGVsZW1lbnQuZ3JvdXAgPT09ICdhbGthbGknID8gMHhGRjZCNkIgOiBlbGVtZW50LmNvbG9yLFxyXG4gICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgICAgIG9wYWNpdHk6IDAuN1xyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgZmxhbWUgPSBuZXcgVEhSRUUuTWVzaChmbGFtZUdlbywgZmxhbWVNYXQpO1xyXG4gICAgICBmbGFtZS5wb3NpdGlvbi5zZXQoLTAuMyArIGkgKiAwLjMsIDAuNSwgMCk7XHJcbiAgICAgIGZsYW1lLm5hbWUgPSBgZmxhbWVfJHtpfWA7XHJcbiAgICAgIHN0YXRpb24uYWRkKGZsYW1lKTtcclxuICAgICAgc3RhdGlvbi51c2VyRGF0YS5mbGFtZU1lc2hlcy5wdXNoKGZsYW1lKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwRWxlY3RyaWNhbEV4cGVyaW1lbnQoc3RhdGlvbiwgZWxlbWVudCwgZXhwSWQpIHtcclxuICBpZiAoZXhwSWQgPT09ICdjb25kdWN0aXZpdHknKSB7XHJcbiAgICBzdGF0aW9uLnVzZXJEYXRhLmNvbmR1Y3Rpdml0eSA9IDA7XHJcbiAgICBzdGF0aW9uLnVzZXJEYXRhLmNpcmN1aXRBY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdCB3aXJlR2VvID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMC4wNSwgMC4wNSwgMiwgOCk7XHJcbiAgICBjb25zdCB3aXJlTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogZWxlbWVudC5jb2xvcn0pO1xyXG4gICAgY29uc3Qgd2lyZSA9IG5ldyBUSFJFRS5NZXNoKHdpcmVHZW8sIHdpcmVNYXQpO1xyXG4gICAgd2lyZS5wb3NpdGlvbi5zZXQoMCwgMS4yLCAwKTtcclxuICAgIHdpcmUucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xyXG4gICAgc3RhdGlvbi5hZGQod2lyZSk7XHJcblxyXG4gICAgc3RhdGlvbi51c2VyRGF0YS5lbGVjdHJpY2FsTWVzaGVzID0gW3dpcmVdO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0dXBFbGVjdHJvY2hlbWljYWxFeHBlcmltZW50KHN0YXRpb24sIGVsZW1lbnQsIGV4cElkKSB7XHJcbiAgaWYgKGV4cElkID09PSAnYmF0dGVyeScpIHtcclxuICAgIHN0YXRpb24udXNlckRhdGEuYmF0dGVyeUxldmVsID0gMS4wO1xyXG4gICAgc3RhdGlvbi51c2VyRGF0YS5kaXNjaGFyZ2VSYXRlID0gMC4wMDE7XHJcblxyXG4gICAgY29uc3QgYmF0dGVyeUdlbyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgwLjYsIDEsIDAuNCk7XHJcbiAgICBjb25zdCBiYXR0ZXJ5TWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgY29sb3I6IGVsZW1lbnQuY29sb3IsXHJcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgICBvcGFjaXR5OiAwLjhcclxuICAgIH0pO1xyXG4gICAgY29uc3QgYmF0dGVyeSA9IG5ldyBUSFJFRS5NZXNoKGJhdHRlcnlHZW8sIGJhdHRlcnlNYXQpO1xyXG4gICAgYmF0dGVyeS5wb3NpdGlvbi5zZXQoMCwgMS41LCAwKTtcclxuICAgIGJhdHRlcnkubmFtZSA9ICdiYXR0ZXJ5JztcclxuICAgIHN0YXRpb24uYWRkKGJhdHRlcnkpO1xyXG5cclxuICAgIGNvbnN0IGNoYXJnZUJhckdlbyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgwLjUsIDAuMSwgMC4wNSk7XHJcbiAgICBjb25zdCBjaGFyZ2VCYXJNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDAwZmYwMH0pO1xyXG4gICAgY29uc3QgY2hhcmdlQmFyID0gbmV3IFRIUkVFLk1lc2goY2hhcmdlQmFyR2VvLCBjaGFyZ2VCYXJNYXQpO1xyXG4gICAgY2hhcmdlQmFyLnBvc2l0aW9uLnNldCgwLCAyLjEsIDApO1xyXG4gICAgc3RhdGlvbi5hZGQoY2hhcmdlQmFyKTtcclxuXHJcbiAgICBzdGF0aW9uLnVzZXJEYXRhLmJhdHRlcnlNZXNoZXMgPSBbYmF0dGVyeSwgY2hhcmdlQmFyXTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwTnVjbGVhckV4cGVyaW1lbnQoc3RhdGlvbiwgZWxlbWVudCwgZXhwSWQpIHtcclxuICBpZiAoZXhwSWQgPT09ICdmaXNzaW9uJyAmJiBlbGVtZW50Lmdyb3VwID09PSAnYWN0aW5pZGUnKSB7XHJcbiAgICBzdGF0aW9uLnVzZXJEYXRhLmZpc3Npb25BY3RpdmUgPSBmYWxzZTtcclxuICAgIHN0YXRpb24udXNlckRhdGEucGFydGljbGVzID0gW107XHJcblxyXG4gICAgY29uc3QgY29yZUdlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjMsIDMyLCAzMik7XHJcbiAgICBjb25zdCBjb3JlTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgY29sb3I6IDB4NEE2OUJELFxyXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgb3BhY2l0eTogMC44XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNvcmUgPSBuZXcgVEhSRUUuTWVzaChjb3JlR2VvLCBjb3JlTWF0KTtcclxuICAgIGNvcmUucG9zaXRpb24uc2V0KDAsIDEuOCwgMCk7XHJcbiAgICBjb3JlLm5hbWUgPSAnbnVjbGV1cyc7XHJcbiAgICBzdGF0aW9uLmFkZChjb3JlKTtcclxuXHJcbiAgICBzdGF0aW9uLnVzZXJEYXRhLm51Y2xlYXJNZXNoZXMgPSBbY29yZV07XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cE9yZ2FuaWNFeHBlcmltZW50KHN0YXRpb24sIGVsZW1lbnQsIGV4cElkKSB7XHJcbiAgaWYgKGV4cElkID09PSAnZG5hJykge1xyXG4gICAgc3RhdGlvbi51c2VyRGF0YS5kbmFSb3RhdGluZyA9IHRydWU7XHJcbiAgICBzdGF0aW9uLnVzZXJEYXRhLnJvdGF0aW9uU3BlZWQgPSAwLjU7XHJcblxyXG4gICAgY29uc3QgaGVsaXhHcm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG5cclxuICAgIGNvbnN0IHBvaW50cyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xyXG4gICAgICBjb25zdCB0ID0gaSAvIDEwMDtcclxuICAgICAgY29uc3QgYW5nbGUgPSB0ICogTWF0aC5QSSAqIDIgKiAzO1xyXG4gICAgICBjb25zdCB5ID0gKHQgLSAwLjUpICogMjtcclxuICAgICAgY29uc3QgeCA9IE1hdGguY29zKGFuZ2xlKSAqIDAuMztcclxuICAgICAgY29uc3QgeiA9IE1hdGguc2luKGFuZ2xlKSAqIDAuMztcclxuICAgICAgcG9pbnRzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoeCwgeSArIDEuMiwgeikpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGN1cnZlID0gbmV3IFRIUkVFLkNhdG11bGxSb21DdXJ2ZTMocG9pbnRzKTtcclxuICAgIGNvbnN0IHR1YmVHZW8gPSBuZXcgVEhSRUUuVHViZUdlb21ldHJ5KGN1cnZlLCAxMDAsIDAuMSwgOCwgZmFsc2UpO1xyXG4gICAgY29uc3QgdHViZU1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IGVsZW1lbnQuY29sb3J9KTtcclxuICAgIGNvbnN0IGhlbGl4ID0gbmV3IFRIUkVFLk1lc2godHViZUdlbywgdHViZU1hdCk7XHJcbiAgICBoZWxpeEdyb3VwLmFkZChoZWxpeCk7XHJcbiAgICBoZWxpeEdyb3VwLnBvc2l0aW9uLnNldCgwLCAxLjUsIDApO1xyXG4gICAgaGVsaXhHcm91cC5uYW1lID0gJ2RuYSc7XHJcbiAgICBzdGF0aW9uLmFkZChoZWxpeEdyb3VwKTtcclxuXHJcbiAgICBzdGF0aW9uLnVzZXJEYXRhLm9yZ2FuaWNNZXNoZXMgPSBbaGVsaXhHcm91cF07XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cENyeXN0YWxFeHBlcmltZW50KHN0YXRpb24sIGVsZW1lbnQsIGV4cElkKSB7XHJcbiAgaWYgKGV4cElkID09PSAnbGF0dGljZScpIHtcclxuICAgIHN0YXRpb24udXNlckRhdGEubGF0dGljZUFuaW1hdGluZyA9IGZhbHNlO1xyXG4gICAgc3RhdGlvbi51c2VyRGF0YS5oaWdobGlnaHRlZEF0b20gPSBudWxsO1xyXG5cclxuICAgIGNvbnN0IGxhdHRpY2VHZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMS41LCAxLjUsIDEuNSwgMywgMywgMyk7XHJcbiAgICBjb25zdCBsYXR0aWNlTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgY29sb3I6IGVsZW1lbnQuY29sb3IsXHJcbiAgICAgIHdpcmVmcmFtZTogdHJ1ZSxcclxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgIG9wYWNpdHk6IDAuNFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBsYXR0aWNlID0gbmV3IFRIUkVFLk1lc2gobGF0dGljZUdlbywgbGF0dGljZU1hdCk7XHJcbiAgICBsYXR0aWNlLnBvc2l0aW9uLnNldCgwLCAxLjUsIDApO1xyXG4gICAgbGF0dGljZS5uYW1lID0gJ2xhdHRpY2UnO1xyXG4gICAgc3RhdGlvbi5hZGQobGF0dGljZSk7XHJcblxyXG4gICAgY29uc3QgYXRvbUdlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjEsIDE2LCAxNik7XHJcbiAgICBjb25zdCBhdG9tTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHhmZmZmZmZ9KTtcclxuICAgIGNvbnN0IGF0b21zID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCAyOyB4KyspIHtcclxuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCAyOyB5KyspIHtcclxuICAgICAgICBmb3IgKGxldCB6ID0gMDsgeiA8IDI7IHorKykge1xyXG4gICAgICAgICAgY29uc3QgYXRvbSA9IG5ldyBUSFJFRS5NZXNoKGF0b21HZW8sIGF0b21NYXQpO1xyXG4gICAgICAgICAgYXRvbS5wb3NpdGlvbi5zZXQoKHggLSAwLjUpICogMC43LCAoeSAtIDAuNSkgKiAwLjcsICh6IC0gMC41KSAqIDAuNyk7XHJcbiAgICAgICAgICBhdG9tLm5hbWUgPSBgYXRvbV8ke3h9XyR7eX1fJHt6fWA7XHJcbiAgICAgICAgICBhdG9tcy5wdXNoKGF0b20pO1xyXG4gICAgICAgICAgbGF0dGljZS5hZGQoYXRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGlvbi51c2VyRGF0YS5jcnlzdGFsTWVzaGVzID0gW2xhdHRpY2UsIC4uLmF0b21zXTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwR2VuZXJhbEV4cGVyaW1lbnQoc3RhdGlvbiwgZWxlbWVudCwgZXhwSWQpIHtcclxuICBzdGF0aW9uLnVzZXJEYXRhLmV4cGVyaW1lbnRBY3RpdmUgPSBmYWxzZTtcclxuICBzdGF0aW9uLnVzZXJEYXRhLmV4cGVyaW1lbnRQcm9ncmVzcyA9IDA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4ZWN1dGVFeHBlcmltZW50KGN0eCwgZXhwSWQsIGRlbHRhLCB0aW1lKSB7XHJcbiAgY29uc3QgdHlwZSA9IGdldEV4cGVyaW1lbnRUeXBlKGV4cElkKTtcclxuXHJcbiAgc3dpdGNoKHR5cGUpIHtcclxuICAgIGNhc2UgJ3JlYWN0aW9uJzpcclxuICAgICAgZXhlY3V0ZVJlYWN0aW9uRXhwZXJpbWVudChjdHgsIGV4cElkLCBkZWx0YSwgdGltZSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnZWxlY3RyaWNhbCc6XHJcbiAgICAgIGV4ZWN1dGVFbGVjdHJpY2FsRXhwZXJpbWVudChjdHgsIGV4cElkLCBkZWx0YSwgdGltZSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnZWxlY3Ryb2NoZW1pY2FsJzpcclxuICAgICAgZXhlY3V0ZUVsZWN0cm9jaGVtaWNhbEV4cGVyaW1lbnQoY3R4LCBleHBJZCwgZGVsdGEsIHRpbWUpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ251Y2xlYXInOlxyXG4gICAgICBleGVjdXRlTnVjbGVhckV4cGVyaW1lbnQoY3R4LCBleHBJZCwgZGVsdGEsIHRpbWUpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ29yZ2FuaWMnOlxyXG4gICAgICBleGVjdXRlT3JnYW5pY0V4cGVyaW1lbnQoY3R4LCBleHBJZCwgZGVsdGEsIHRpbWUpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2NyeXN0YWwnOlxyXG4gICAgICBleGVjdXRlQ3J5c3RhbEV4cGVyaW1lbnQoY3R4LCBleHBJZCwgZGVsdGEsIHRpbWUpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGV4ZWN1dGVHZW5lcmFsRXhwZXJpbWVudChjdHgsIGV4cElkLCBkZWx0YSwgdGltZSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZXhlY3V0ZVJlYWN0aW9uRXhwZXJpbWVudChjdHgsIGV4cElkLCBkZWx0YSwgdGltZSkge1xyXG4gIGV4cGVyaW1lbnRTdGF0aW9ucy5mb3JFYWNoKHN0YXRpb24gPT4ge1xyXG4gICAgaWYgKHN0YXRpb24udXNlckRhdGEuZXhwZXJpbWVudElkICE9PSBleHBJZCkgcmV0dXJuO1xyXG5cclxuICAgIGlmIChleHBJZCA9PT0gJ3dhdGVyJyAmJiBzdGF0aW9uLnVzZXJEYXRhLnJlYWN0aW9uU3RhdGUgPT09ICdhY3RpdmUnKSB7XHJcbiAgICAgIHN0YXRpb24udXNlckRhdGEucmVhY3Rpb25TdGF0ZSA9ICdhY3RpdmUnO1xyXG4gICAgICBhdWRpb01hbmFnZXIucGxheVNvdW5kKCd3YXRlcl9zaXp6bGUnLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXhwSWQgPT09ICdmbGFtZScgJiYgc3RhdGlvbi51c2VyRGF0YS5mbGFtZUludGVuc2l0eSA8IDEpIHtcclxuICAgICAgc3RhdGlvbi51c2VyRGF0YS5yZWFjdGlvblN0YXRlID0gJ2FjdGl2ZSc7XHJcbiAgICAgIGF1ZGlvTWFuYWdlci5wbGF5U291bmQoJ2ZsYW1lJywgMC43KTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXhlY3V0ZUVsZWN0cmljYWxFeHBlcmltZW50KGN0eCwgZXhwSWQsIGRlbHRhLCB0aW1lKSB7XHJcbiAgZXhwZXJpbWVudFN0YXRpb25zLmZvckVhY2goc3RhdGlvbiA9PiB7XHJcbiAgICBpZiAoc3RhdGlvbi51c2VyRGF0YS5leHBlcmltZW50SWQgIT09IGV4cElkKSByZXR1cm47XHJcblxyXG4gICAgaWYgKGV4cElkID09PSAnY29uZHVjdGl2aXR5JyAmJiBzdGF0aW9uLnVzZXJEYXRhLmNpcmN1aXRBY3RpdmUpIHtcclxuICAgICAgc3RhdGlvbi51c2VyRGF0YS5jb25kdWN0aXZpdHkgKz0gZGVsdGEgKiAwLjE7XHJcblxyXG4gICAgICBjb25zdCB3aXJlID0gc3RhdGlvbi51c2VyRGF0YS5lbGVjdHJpY2FsTWVzaGVzWzBdO1xyXG4gICAgICBpZiAoc3RhdGlvbi51c2VyRGF0YS5jb25kdWN0aXZpdHkgPj0gMSkge1xyXG4gICAgICAgIHdpcmUubWF0ZXJpYWwuY29sb3Iuc2V0SGV4KDB4MDBmZjAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3aXJlLm1hdGVyaWFsLmNvbG9yLnNldEhleCgweGZmZmZmZik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXhlY3V0ZUVsZWN0cm9jaGVtaWNhbEV4cGVyaW1lbnQoY3R4LCBleHBJZCwgZGVsdGEsIHRpbWUpIHtcclxuICBleHBlcmltZW50U3RhdGlvbnMuZm9yRWFjaChzdGF0aW9uID0+IHtcclxuICAgIGlmIChzdGF0aW9uLnVzZXJEYXRhLmV4cGVyaW1lbnRJZCAhPT0gZXhwSWQpIHJldHVybjtcclxuXHJcbiAgICBpZiAoZXhwSWQgPT09ICdiYXR0ZXJ5Jykge1xyXG4gICAgICBzdGF0aW9uLnVzZXJEYXRhLmJhdHRlcnlMZXZlbCAtPSBzdGF0aW9uLnVzZXJEYXRhLmRpc2NoYXJnZVJhdGU7XHJcblxyXG4gICAgICBpZiAoc3RhdGlvbi51c2VyRGF0YS5iYXR0ZXJ5TGV2ZWwgPD0gMCkge1xyXG4gICAgICAgIHN0YXRpb24udXNlckRhdGEuYmF0dGVyeUxldmVsID0gMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY2hhcmdlQmFyID0gc3RhdGlvbi51c2VyRGF0YS5iYXR0ZXJ5TWVzaGVzWzFdO1xyXG4gICAgICBjaGFyZ2VCYXIuc2NhbGUueCA9IHN0YXRpb24udXNlckRhdGEuYmF0dGVyeUxldmVsO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBleGVjdXRlTnVjbGVhckV4cGVyaW1lbnQoY3R4LCBleHBJZCwgZGVsdGEsIHRpbWUpIHtcclxuICBleHBlcmltZW50U3RhdGlvbnMuZm9yRWFjaChzdGF0aW9uID0+IHtcclxuICAgIGlmIChzdGF0aW9uLnVzZXJEYXRhLmV4cGVyaW1lbnRJZCAhPT0gZXhwSWQgfHwgIXN0YXRpb24udXNlckRhdGEuZmlzc2lvbkFjdGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgIGlmIChleHBJZCA9PT0gJ2Zpc3Npb24nKSB7XHJcbiAgICAgIGNvbnN0IGNvcmUgPSBzdGF0aW9uLnVzZXJEYXRhLm51Y2xlYXJNZXNoZXNbMF07XHJcbiAgICAgIGNvcmUubWF0ZXJpYWwub3BhY2l0eSA9IDAuNSArIE1hdGguc2luKHRpbWUgKiA1KSAqIDAuMztcclxuICAgICAgY29yZS5yb3RhdGlvbi55ICs9IGRlbHRhICogMjtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXhlY3V0ZU9yZ2FuaWNFeHBlcmltZW50KGN0eCwgZXhwSWQsIGRlbHRhLCB0aW1lKSB7XHJcbiAgZXhwZXJpbWVudFN0YXRpb25zLmZvckVhY2goc3RhdGlvbiA9PiB7XHJcbiAgICBpZiAoc3RhdGlvbi51c2VyRGF0YS5leHBlcmltZW50SWQgIT09IGV4cElkKSByZXR1cm47XHJcblxyXG4gICAgaWYgKGV4cElkID09PSAnZG5hJykge1xyXG4gICAgICBjb25zdCBoZWxpeEdyb3VwID0gc3RhdGlvbi51c2VyRGF0YS5vcmdhbmljTWVzaGVzWzBdO1xyXG4gICAgICBoZWxpeEdyb3VwLnJvdGF0aW9uLnkgKz0gZGVsdGEgKiBzdGF0aW9uLnVzZXJEYXRhLnJvdGF0aW9uU3BlZWQ7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4ZWN1dGVDcnlzdGFsRXhwZXJpbWVudChjdHgsIGV4cElkLCBkZWx0YSwgdGltZSkge1xyXG4gIGV4cGVyaW1lbnRTdGF0aW9ucy5mb3JFYWNoKHN0YXRpb24gPT4ge1xyXG4gICAgaWYgKHN0YXRpb24udXNlckRhdGEuZXhwZXJpbWVudElkICE9PSBleHBJZCkgcmV0dXJuO1xyXG5cclxuICAgIGlmIChleHBJZCA9PT0gJ2xhdHRpY2UnICYmICFzdGF0aW9uLnVzZXJEYXRhLmxhdHRpY2VBbmltYXRpbmcpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBsYXR0aWNlID0gc3RhdGlvbi51c2VyRGF0YS5jcnlzdGFsTWVzaGVzWzBdO1xyXG4gICAgbGF0dGljZS5yb3RhdGlvbi55ICs9IGRlbHRhICogMC4zO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBleGVjdXRlR2VuZXJhbEV4cGVyaW1lbnQoY3R4LCBleHBJZCwgZGVsdGEsIHRpbWUpIHtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGUoY3R4LCBkZWx0YSwgdGltZSkge1xyXG4gIGlmIChhdG9tTW9kZWwpIHtcclxuICAgIGF0b21Nb2RlbC5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgaWYgKGNoaWxkLnVzZXJEYXRhLmVsZWN0cm9uKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGNoaWxkLnVzZXJEYXRhO1xyXG4gICAgICAgIGRhdGEuYW5nbGUgKz0gZGF0YS5zcGVlZCAqIGRlbHRhO1xyXG4gICAgICAgIGNoaWxkLnBvc2l0aW9uLnggPSBNYXRoLmNvcyhkYXRhLmFuZ2xlKSAqIGRhdGEuc2hlbGxSYWRpdXM7XHJcbiAgICAgICAgY2hpbGQucG9zaXRpb24ueiA9IE1hdGguc2luKGRhdGEuYW5nbGUpICogZGF0YS5zaGVsbFJhZGl1cztcclxuICAgICAgfSBlbHNlIGlmIChjaGlsZC51c2VyRGF0YS5udWNsZXVzKSB7XHJcbiAgICAgICAgY2hpbGQucm90YXRpb24ueSArPSBkZWx0YSAqIDAuMztcclxuICAgICAgICBjb25zdCBwdWxzZSA9IDEgKyBNYXRoLnNpbih0aW1lICogMikgKiAwLjA1O1xyXG4gICAgICAgIGNoaWxkLnNjYWxlLnNldFNjYWxhcihwdWxzZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGQudXNlckRhdGEuc2hlbGwpIHtcclxuICAgICAgICBjaGlsZC5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDIgKyBNYXRoLnNpbih0aW1lICsgY2hpbGQucG9zaXRpb24ueCAqIDUpICogMC4wNTtcclxuICAgICAgICBjaGlsZC5yb3RhdGlvbi56ICs9IGRlbHRhICogMC4xO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoYXRvbU1vZGVsLnVzZXJEYXRhLnRoZW1lZERpc3BsYXkpIHtcclxuICAgICAgYXRvbU1vZGVsLnJvdGF0aW9uLnkgKz0gZGVsdGEgKiAwLjE1O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhwZXJpbWVudEludGVyYWN0aW9ucy5mb3JFYWNoKGludGVyYWN0aW9uID0+IHtcclxuICAgIGludGVyYWN0aW9uLmV4ZWN1dGUoZGVsdGEsIHRpbWUpO1xyXG4gIH0pO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/rooms/ElementRoom.js\n");

/***/ }),

/***/ "./src/rooms/ExperimentalRoom.js":
/*!***************************************!*\
  !*** ./src/rooms/ExperimentalRoom.js ***!
  \***************************************/
/*! exports provided: setup, enter, exit, execute */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setup\", function() { return setup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enter\", function() { return enter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"exit\", function() { return exit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"execute\", function() { return execute; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n/* harmony import */ var _data_elements_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/elements.js */ \"./src/data/elements.js\");\n/* harmony import */ var _lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/modelLoader.js */ \"./src/lib/modelLoader.js\");\n\n\n\n\nvar scene;\nvar roomData;\nvar experimentStations = [];\nvar teleportFloor;\nconst ROOM_COLORS = {\n  reaction_lab: 0xFF6B6B,\n  nuclear_chamber: 0x4A69BD,\n  electrochem_lab: 0x74B9FF,\n  organic_chem: 0x20C997,\n  extreme_conditions: 0xFFA94D,\n  industrial_apps: 0x74B9FF,\n  historical_lab: 0xD63384,\n  space_chem: 0x0A0A1A,\n  nano_world: 0x17A2B8,\n  challenge_arena: 0xFFC107\n};\nfunction setup(ctx, roomId) {\n  roomData = _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"EXPERIMENTAL_ROOMS\"][roomId];\n  if (!roomData) return;\n  scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n  const themeColor = ROOM_COLORS[roomData.id] || 0x2a2a3a;\n  const bgColor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](themeColor).multiplyScalar(0.1);\n  scene.background = bgColor;\n  createRoomSpecificSetup(ctx, roomData.id);\n  createFloor(ctx, themeColor);\n  createExperimentStations(ctx, roomData);\n  setupLighting(ctx, themeColor);\n  createTeleportZone(ctx);\n  createNavigationPanel(ctx);\n  scene.userData.teleport = teleportFloor;\n}\nfunction createRoomSpecificSetup(ctx, roomId) {\n  switch (roomId) {\n    case 'reaction_lab':\n      createAlchemistWorkshop(ctx);\n      break;\n    case 'nuclear_chamber':\n      createNuclearControlRoom(ctx);\n      break;\n    case 'electrochem_lab':\n      createElectrochemLab(ctx);\n      break;\n    case 'organic_chem':\n      createCarbonUniverse(ctx);\n      break;\n    case 'challenge_arena':\n      createChallengeArena(ctx);\n      break;\n    default:\n      createGenericLab(ctx);\n      break;\n  }\n}\nfunction createAlchemistWorkshop(ctx) {\n  const tableGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](4, 1, 2);\n  const tableMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4a4a4a\n  });\n  const table = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](tableGeo, tableMat);\n  table.position.set(0, 0.5, 0);\n  scene.add(table);\n  createMoleculeDisplay(ctx, 'H2O', {\n    x: 1.2,\n    y: 1.5,\n    z: 0\n  });\n  const bunsenGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](0.1, 0.15, 0.8, 16);\n  const bunsenMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x2a2a3a\n  });\n  const bunsen = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](bunsenGeo, bunsenMat);\n  bunsen.position.set(-1.2, 1.3, -0.5);\n  scene.add(bunsen);\n  const flameGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"ConeGeometry\"](0.08, 0.3, 16);\n  const flameMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4a90e2,\n    transparent: true,\n    opacity: 0.7\n  });\n  const flame = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](flameGeo, flameMat);\n  flame.position.set(-1.2, 1.8, -0.5);\n  flame.name = 'flame';\n  scene.add(flame);\n  scene.userData.flame = flame;\n}\nfunction createNuclearControlRoom(ctx) {\n  const panelGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](6, 2, 0.2);\n  const panelMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x1a1a2a,\n    transparent: true,\n    opacity: 0.9\n  });\n  const panel = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](panelGeo, panelMat);\n  panel.position.set(0, 2.5, -4);\n  panel.lookAt(0, 2.5, 0);\n  scene.add(panel);\n  const coreGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](1.5, 1.5, 4, 32);\n  const coreMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4A69BD,\n    transparent: true,\n    opacity: 0.5\n  });\n  const core = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](coreGeo, coreMat);\n  core.position.set(0, 2, 0);\n  core.name = 'reactorCore';\n  scene.add(core);\n  scene.userData.core = core;\n}\nfunction createElectrochemLab(ctx) {\n  const batteryGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](2, 1.5, 0.8);\n  const batteryMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x74B9FF\n  });\n  const battery = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](batteryGeo, batteryMat);\n  battery.position.set(0, 0.75, -2);\n  scene.add(battery);\n  const terminalGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](3, 2, 0.1);\n  const terminalMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x2a2a3a\n  });\n  const terminal = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](terminalGeo, terminalMat);\n  terminal.position.set(0, 1, -4);\n  scene.add(terminal);\n}\nfunction createCarbonUniverse(ctx) {\n  Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"loadMoleculeModel\"])('DNA', _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"EXPERIMENTAL_ROOMS\"], (model, error) => {\n    if (!error) {\n      const optimized = Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"optimizeModelForVR\"])(model);\n      optimized.scale.set(1.5, 1.5, 1.5);\n      optimized.position.set(0, 2.5, 0);\n      optimized.name = 'dna_molecule';\n      scene.add(optimized);\n      scene.userData.dnaModel = optimized;\n    }\n  });\n  const helixGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const points = [];\n  for (let i = 0; i < 100; i++) {\n    const t = i / 100;\n    const angle = t * Math.PI * 2 * 3;\n    const y = (t - 0.5) * 2;\n    const x = Math.cos(angle) * 0.3;\n    const z = Math.sin(angle) * 0.3;\n    points.push(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](x, y + 2, z));\n  }\n  const curve = new three__WEBPACK_IMPORTED_MODULE_0__[\"CatmullRomCurve3\"](points);\n  const tubeGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"TubeGeometry\"](curve, 100, 0.1, 8, false);\n  const tubeMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x20C997\n  });\n  const helix = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](tubeGeo, tubeMat);\n  helix.position.set(0, 2, 0);\n  helix.name = 'helix_placeholder';\n  scene.add(helix);\n}\nfunction createMoleculeDisplay(ctx, formula, position = {\n  x: 0,\n  y: 2,\n  z: 0\n}) {\n  Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"loadMoleculeModel\"])(formula, _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"EXPERIMENTAL_ROOMS\"], (model, error) => {\n    if (!error) {\n      const optimized = Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"optimizeModelForVR\"])(model);\n      optimized.position.set(position.x, position.y, position.z);\n      optimized.userData.moleculeFormula = formula;\n      scene.add(optimized);\n      scene.userData.moleculeDisplay = optimized;\n    } else {\n      const fallback = createMoleculeModel(formula, _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"EXPERIMENTAL_ROOMS\"]);\n      fallback.position.set(position.x, position.y, position.z);\n      scene.add(fallback);\n    }\n  });\n}\nfunction createCompoundDisplay(ctx, compoundName, position = {\n  x: 0,\n  y: 2,\n  z: 0\n}) {\n  const compoundMap = {\n    'reaction_lab': {\n      formula: 'H2O',\n      name: 'water'\n    },\n    'electrochem_lab': {\n      formula: 'NaCl',\n      name: 'salt'\n    },\n    'nuclear_chamber': {\n      formula: 'UO2',\n      name: 'uranium_oxide'\n    },\n    'organic_chem': {\n      formula: 'C6H12O6',\n      name: 'glucose'\n    },\n    'extreme_conditions': {\n      formula: 'CO2',\n      name: 'carbon_dioxide'\n    },\n    'industrial_apps': {\n      formula: 'Fe',\n      name: 'steel'\n    },\n    'historical_lab': {\n      formula: 'Au',\n      name: 'gold'\n    },\n    'space_chem': {\n      formula: 'He',\n      name: 'helium'\n    },\n    'nano_world': {\n      formula: 'Si',\n      name: 'silicon'\n    },\n    'challenge_arena': {\n      formula: 'C',\n      name: 'diamond'\n    }\n  };\n  const compound = compoundMap[roomData.id];\n  if (compound) {\n    const lattice = Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"createCrystalLattice\"])({\n      symbol: compound.name,\n      color: 0x888888\n    });\n    lattice.position.set(position.x, position.y, position.z);\n    scene.add(lattice);\n    scene.userData.compoundDisplay = lattice;\n  }\n}\nfunction createChallengeArena(ctx) {\n  const arenaFloor = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](8, 8, 0.2, 32);\n  const arenaMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xFFC107\n  });\n  const arena = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](arenaFloor, arenaMat);\n  arena.position.y = -0.05;\n  scene.add(arena);\n  const podiumGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](2, 0.5, 2);\n  const podiumMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xD4AF37\n  });\n  const podium = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](podiumGeo, podiumMat);\n  podium.position.set(0, 0.25, 0);\n  scene.add(podium);\n  const trophyGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"ConeGeometry\"](0.3, 1, 8);\n  const trophyMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xFFD700\n  });\n  const trophy = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](trophyGeo, trophyMat);\n  trophy.position.set(0, 1.5, 0);\n  scene.add(trophy);\n}\nfunction createGenericLab(ctx) {\n  const benchGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](5, 1, 2.5);\n  const benchMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x3a3a4a\n  });\n  const bench = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](benchGeo, benchMat);\n  bench.position.set(0, 0.5, 0);\n  scene.add(bench);\n  const equipmentGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](0.5, 1, 0.5);\n  const equipmentMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4a4a4a\n  });\n  for (let i = 0; i < 4; i++) {\n    const equipment = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](equipmentGeo, equipmentMat);\n    equipment.position.set(-1.5 + i, 1, -0.5);\n    scene.add(equipment);\n  }\n}\nfunction createFloor(ctx, themeColor) {\n  const floorGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](12, 12, 0.2, 64);\n  const floorMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](themeColor).multiplyScalar(0.08)\n  });\n  const floor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](floorGeo, floorMat);\n  floor.position.y = -0.1;\n  scene.add(floor);\n}\nfunction createExperimentStations(ctx, roomData) {\n  const stationRadius = 5;\n  const experiments = roomData.experiments || [];\n  experiments.forEach((expId, index) => {\n    const angle = index / experiments.length * Math.PI * 2;\n    const x = Math.cos(angle) * stationRadius;\n    const z = Math.sin(angle) * stationRadius;\n    const stationGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](1.5, 2, 1);\n    const stationMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](roomData.color).multiplyScalar(0.6),\n      transparent: true,\n      opacity: 0.7\n    });\n    const station = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](stationGeo, stationMat);\n    station.position.set(x, 1, z);\n    station.userData.experimentId = expId;\n    const labelEntity = ctx.world.createEntity();\n    labelEntity.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"], {\n      text: expId,\n      color: '#ffffff',\n      fontSize: 0.08,\n      anchor: 'center',\n      baseline: 'top',\n      textAlign: 'center'\n    }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"ParentObject3D\"], {\n      value: station\n    }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"], {\n      x: 0,\n      y: 1.1,\n      z: 0.51\n    });\n    scene.add(station);\n    experimentStations.push(station);\n  });\n}\nfunction setupLighting(ctx, themeColor) {\n  const ambientLight = new three__WEBPACK_IMPORTED_MODULE_0__[\"AmbientLight\"](0xffffff, 0.3);\n  scene.add(ambientLight);\n  const pointLight1 = new three__WEBPACK_IMPORTED_MODULE_0__[\"PointLight\"](themeColor, 0.6, 20);\n  pointLight1.position.set(5, 8, 5);\n  scene.add(pointLight1);\n  const pointLight2 = new three__WEBPACK_IMPORTED_MODULE_0__[\"PointLight\"](themeColor, 0.6, 20);\n  pointLight2.position.set(-5, 8, -5);\n  scene.add(pointLight2);\n}\nfunction createTeleportZone(ctx) {\n  const teleportGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneBufferGeometry\"](25, 25);\n  const teleportMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    visible: false\n  });\n  teleportFloor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](teleportGeo, teleportMat);\n  teleportFloor.rotation.x = -Math.PI / 2;\n  teleportFloor.position.y = 0.001;\n  scene.add(teleportFloor);\n}\nfunction createNavigationPanel(ctx) {\n  const panelGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](0.5, 0.3, 0.05);\n  const panelMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x2a2a3a\n  });\n  const panel = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](panelGeo, panelMat);\n  panel.position.set(0, 1.5, -6);\n  scene.add(panel);\n  const backBtnEntity = ctx.world.createEntity();\n  backBtnEntity.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"], {\n    text: '◀ Lobby',\n    color: '#ffffff',\n    fontSize: 0.08,\n    anchor: 'center',\n    baseline: 'middle',\n    textAlign: 'center'\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"ParentObject3D\"], {\n    value: panel\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"], {\n    x: 0,\n    y: 0,\n    z: 0.03\n  });\n  panel.userData.backButton = backBtnEntity;\n}\nfunction enter(ctx) {\n  ctx.scene.add(scene);\n  ctx.renderer.setClearColor(scene.background);\n  ctx.raycontrol.activateState('expRoomStations');\n  ctx.raycontrol.activateState('expRoomTeleport');\n  ctx.raycontrol.activateState('expRoomNav');\n  ctx.raycontrol.addState('expRoomStations', {\n    colliderMesh: experimentStations,\n    controller: 'primary',\n    onHover: (intersection, active) => {\n      const station = intersection.object;\n      station.scale.setScalar(active ? 1.2 : 1);\n    },\n    onHoverLeave: () => {},\n    onSelectStart: (intersection, e) => {\n      console.log('Experiment:', intersection.object.userData.experimentId);\n    },\n    onSelectEnd: intersection => {}\n  });\n  ctx.raycontrol.addState('expRoomTeleport', {\n    colliderMesh: teleportFloor,\n    controller: 'primary',\n    onHover: (intersection, active) => {\n      ctx.teleport.onHover(intersection.point, active);\n    },\n    onHoverLeave: () => {\n      ctx.teleport.onHoverLeave();\n    },\n    onSelectStart: (intersection, e) => {\n      ctx.teleport.onSelectStart(e);\n    },\n    onSelectEnd: intersection => {\n      ctx.teleport.onSelectEnd(intersection.point);\n    }\n  });\n  ctx.raycontrol.addState('expRoomNav', {\n    colliderMesh: [scene.children.find(c => c.userData.backButton)],\n    controller: 'primary',\n    onHover: (intersection, active) => {},\n    onHoverLeave: () => {},\n    onSelectStart: (intersection, e) => {\n      ctx.goto = 0;\n    },\n    onSelectEnd: intersection => {}\n  });\n}\nfunction exit(ctx) {\n  ctx.raycontrol.deactivateState('expRoomStations');\n  ctx.raycontrol.deactivateState('expRoomTeleport');\n  ctx.raycontrol.deactivateState('expRoomNav');\n  ctx.scene.remove(scene);\n}\nfunction execute(ctx, delta, time) {\n  if (scene.userData.flame) {\n    scene.userData.flame.scale.y = 1 + Math.sin(time * 10) * 0.2;\n    scene.userData.flame.material.opacity = 0.5 + Math.sin(time * 10) * 0.2;\n  }\n  if (scene.userData.core) {\n    scene.userData.core.rotation.y += delta * 0.5;\n    scene.userData.core.material.opacity = 0.4 + Math.sin(time * 2) * 0.1;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcm9vbXMvRXhwZXJpbWVudGFsUm9vbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yb29tcy9FeHBlcmltZW50YWxSb29tLmpzP2Q1OGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgeyBUZXh0LCBQb3NpdGlvbiwgUGFyZW50T2JqZWN0M0QsIE9iamVjdDNELCBDaGlsZHJlbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW5kZXguanMnO1xyXG5pbXBvcnQgeyBFWFBFUklNRU5UQUxfUk9PTVMgfSBmcm9tICcuLi9kYXRhL2VsZW1lbnRzLmpzJztcclxuaW1wb3J0IHsgbG9hZE1vbGVjdWxlTW9kZWwsIGNyZWF0ZUNyeXN0YWxMYXR0aWNlLCBvcHRpbWl6ZU1vZGVsRm9yVlIgfSBmcm9tICcuLi9saWIvbW9kZWxMb2FkZXIuanMnO1xyXG5cclxudmFyIHNjZW5lO1xyXG52YXIgcm9vbURhdGE7XHJcbnZhciBleHBlcmltZW50U3RhdGlvbnMgPSBbXTtcclxudmFyIHRlbGVwb3J0Rmxvb3I7XHJcblxyXG5jb25zdCBST09NX0NPTE9SUyA9IHtcclxuICByZWFjdGlvbl9sYWI6IDB4RkY2QjZCLFxyXG4gIG51Y2xlYXJfY2hhbWJlcjogMHg0QTY5QkQsXHJcbiAgZWxlY3Ryb2NoZW1fbGFiOiAweDc0QjlGRixcclxuICBvcmdhbmljX2NoZW06IDB4MjBDOTk3LFxyXG4gIGV4dHJlbWVfY29uZGl0aW9uczogMHhGRkE5NEQsXHJcbiAgaW5kdXN0cmlhbF9hcHBzOiAweDc0QjlGRixcclxuICBoaXN0b3JpY2FsX2xhYjogMHhENjMzODQsXHJcbiAgc3BhY2VfY2hlbTogMHgwQTBBMUEsXHJcbiAgbmFub193b3JsZDogMHgxN0EyQjgsXHJcbiAgY2hhbGxlbmdlX2FyZW5hOiAweEZGQzEwN1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwKGN0eCwgcm9vbUlkKSB7XHJcbiAgcm9vbURhdGEgPSBFWFBFUklNRU5UQUxfUk9PTVNbcm9vbUlkXTtcclxuICBpZiAoIXJvb21EYXRhKSByZXR1cm47XHJcblxyXG4gIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XHJcblxyXG4gIGNvbnN0IHRoZW1lQ29sb3IgPSBST09NX0NPTE9SU1tyb29tRGF0YS5pZF0gfHwgMHgyYTJhM2E7XHJcbiAgY29uc3QgYmdDb2xvciA9IG5ldyBUSFJFRS5Db2xvcih0aGVtZUNvbG9yKS5tdWx0aXBseVNjYWxhcigwLjEpO1xyXG4gIHNjZW5lLmJhY2tncm91bmQgPSBiZ0NvbG9yO1xyXG5cclxuICBjcmVhdGVSb29tU3BlY2lmaWNTZXR1cChjdHgsIHJvb21EYXRhLmlkKTtcclxuICBjcmVhdGVGbG9vcihjdHgsIHRoZW1lQ29sb3IpO1xyXG4gIGNyZWF0ZUV4cGVyaW1lbnRTdGF0aW9ucyhjdHgsIHJvb21EYXRhKTtcclxuICBzZXR1cExpZ2h0aW5nKGN0eCwgdGhlbWVDb2xvcik7XHJcbiAgY3JlYXRlVGVsZXBvcnRab25lKGN0eCk7XHJcbiAgY3JlYXRlTmF2aWdhdGlvblBhbmVsKGN0eCk7XHJcblxyXG4gIHNjZW5lLnVzZXJEYXRhLnRlbGVwb3J0ID0gdGVsZXBvcnRGbG9vcjtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUm9vbVNwZWNpZmljU2V0dXAoY3R4LCByb29tSWQpIHtcclxuICBzd2l0Y2gocm9vbUlkKSB7XHJcbiAgICBjYXNlICdyZWFjdGlvbl9sYWInOlxyXG4gICAgICBjcmVhdGVBbGNoZW1pc3RXb3Jrc2hvcChjdHgpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ251Y2xlYXJfY2hhbWJlcic6XHJcbiAgICAgIGNyZWF0ZU51Y2xlYXJDb250cm9sUm9vbShjdHgpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2VsZWN0cm9jaGVtX2xhYic6XHJcbiAgICAgIGNyZWF0ZUVsZWN0cm9jaGVtTGFiKGN0eCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnb3JnYW5pY19jaGVtJzpcclxuICAgICAgY3JlYXRlQ2FyYm9uVW5pdmVyc2UoY3R4KTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdjaGFsbGVuZ2VfYXJlbmEnOlxyXG4gICAgICBjcmVhdGVDaGFsbGVuZ2VBcmVuYShjdHgpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGNyZWF0ZUdlbmVyaWNMYWIoY3R4KTtcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVBbGNoZW1pc3RXb3Jrc2hvcChjdHgpIHtcclxuICBjb25zdCB0YWJsZUdlbyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg0LCAxLCAyKTtcclxuICBjb25zdCB0YWJsZU1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4NGE0YTRhfSk7XHJcbiAgY29uc3QgdGFibGUgPSBuZXcgVEhSRUUuTWVzaCh0YWJsZUdlbywgdGFibGVNYXQpO1xyXG4gIHRhYmxlLnBvc2l0aW9uLnNldCgwLCAwLjUsIDApO1xyXG4gIHNjZW5lLmFkZCh0YWJsZSk7XHJcblxyXG4gIGNyZWF0ZU1vbGVjdWxlRGlzcGxheShjdHgsICdIMk8nLCB7eDogMS4yLCB5OiAxLjUsIHo6IDB9KTtcclxuXHJcbiAgY29uc3QgYnVuc2VuR2VvID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMC4xLCAwLjE1LCAwLjgsIDE2KTtcclxuICBjb25zdCBidW5zZW5NYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDJhMmEzYX0pO1xyXG4gIGNvbnN0IGJ1bnNlbiA9IG5ldyBUSFJFRS5NZXNoKGJ1bnNlbkdlbywgYnVuc2VuTWF0KTtcclxuICBidW5zZW4ucG9zaXRpb24uc2V0KC0xLjIsIDEuMywgLTAuNSk7XHJcbiAgc2NlbmUuYWRkKGJ1bnNlbik7XHJcblxyXG4gIGNvbnN0IGZsYW1lR2VvID0gbmV3IFRIUkVFLkNvbmVHZW9tZXRyeSgwLjA4LCAwLjMsIDE2KTtcclxuICBjb25zdCBmbGFtZU1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogMHg0YTkwZTIsXHJcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgIG9wYWNpdHk6IDAuN1xyXG4gIH0pO1xyXG4gIGNvbnN0IGZsYW1lID0gbmV3IFRIUkVFLk1lc2goZmxhbWVHZW8sIGZsYW1lTWF0KTtcclxuICBmbGFtZS5wb3NpdGlvbi5zZXQoLTEuMiwgMS44LCAtMC41KTtcclxuICBmbGFtZS5uYW1lID0gJ2ZsYW1lJztcclxuICBzY2VuZS5hZGQoZmxhbWUpO1xyXG5cclxuICBzY2VuZS51c2VyRGF0YS5mbGFtZSA9IGZsYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVOdWNsZWFyQ29udHJvbFJvb20oY3R4KSB7XHJcbiAgY29uc3QgcGFuZWxHZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoNiwgMiwgMC4yKTtcclxuICBjb25zdCBwYW5lbE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogMHgxYTFhMmEsXHJcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgIG9wYWNpdHk6IDAuOVxyXG4gIH0pO1xyXG4gIGNvbnN0IHBhbmVsID0gbmV3IFRIUkVFLk1lc2gocGFuZWxHZW8sIHBhbmVsTWF0KTtcclxuICBwYW5lbC5wb3NpdGlvbi5zZXQoMCwgMi41LCAtNCk7XHJcbiAgcGFuZWwubG9va0F0KDAsIDIuNSwgMCk7XHJcbiAgc2NlbmUuYWRkKHBhbmVsKTtcclxuXHJcbiAgY29uc3QgY29yZUdlbyA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDEuNSwgMS41LCA0LCAzMik7XHJcbiAgY29uc3QgY29yZU1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogMHg0QTY5QkQsXHJcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgIG9wYWNpdHk6IDAuNVxyXG4gIH0pO1xyXG4gIGNvbnN0IGNvcmUgPSBuZXcgVEhSRUUuTWVzaChjb3JlR2VvLCBjb3JlTWF0KTtcclxuICBjb3JlLnBvc2l0aW9uLnNldCgwLCAyLCAwKTtcclxuICBjb3JlLm5hbWUgPSAncmVhY3RvckNvcmUnO1xyXG4gIHNjZW5lLmFkZChjb3JlKTtcclxuXHJcbiAgc2NlbmUudXNlckRhdGEuY29yZSA9IGNvcmU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZWN0cm9jaGVtTGFiKGN0eCkge1xyXG4gIGNvbnN0IGJhdHRlcnlHZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMiwgMS41LCAwLjgpO1xyXG4gIGNvbnN0IGJhdHRlcnlNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDc0QjlGRn0pO1xyXG4gIGNvbnN0IGJhdHRlcnkgPSBuZXcgVEhSRUUuTWVzaChiYXR0ZXJ5R2VvLCBiYXR0ZXJ5TWF0KTtcclxuICBiYXR0ZXJ5LnBvc2l0aW9uLnNldCgwLCAwLjc1LCAtMik7XHJcbiAgc2NlbmUuYWRkKGJhdHRlcnkpO1xyXG5cclxuICBjb25zdCB0ZXJtaW5hbEdlbyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgzLCAyLCAwLjEpO1xyXG4gIGNvbnN0IHRlcm1pbmFsTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHgyYTJhM2F9KTtcclxuICBjb25zdCB0ZXJtaW5hbCA9IG5ldyBUSFJFRS5NZXNoKHRlcm1pbmFsR2VvLCB0ZXJtaW5hbE1hdCk7XHJcbiAgdGVybWluYWwucG9zaXRpb24uc2V0KDAsIDEsIC00KTtcclxuICBzY2VuZS5hZGQodGVybWluYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJib25Vbml2ZXJzZShjdHgpIHtcclxuICBsb2FkTW9sZWN1bGVNb2RlbCgnRE5BJywgRVhQRVJJTUVOVEFMX1JPT01TLCAobW9kZWwsIGVycm9yKSA9PiB7XHJcbiAgICBpZiAoIWVycm9yKSB7XHJcbiAgICAgIGNvbnN0IG9wdGltaXplZCA9IG9wdGltaXplTW9kZWxGb3JWUihtb2RlbCk7XHJcbiAgICAgIG9wdGltaXplZC5zY2FsZS5zZXQoMS41LCAxLjUsIDEuNSk7XHJcbiAgICAgIG9wdGltaXplZC5wb3NpdGlvbi5zZXQoMCwgMi41LCAwKTtcclxuICAgICAgb3B0aW1pemVkLm5hbWUgPSAnZG5hX21vbGVjdWxlJztcclxuICAgICAgc2NlbmUuYWRkKG9wdGltaXplZCk7XHJcbiAgICAgIHNjZW5lLnVzZXJEYXRhLmRuYU1vZGVsID0gb3B0aW1pemVkO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBoZWxpeEdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcbiAgY29uc3QgcG9pbnRzID0gW107XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xyXG4gICAgY29uc3QgdCA9IGkgLyAxMDA7XHJcbiAgICBjb25zdCBhbmdsZSA9IHQgKiBNYXRoLlBJICogMiAqIDM7XHJcbiAgICBjb25zdCB5ID0gKHQgLSAwLjUpICogMjtcclxuICAgIGNvbnN0IHggPSBNYXRoLmNvcyhhbmdsZSkgKiAwLjM7XHJcbiAgICBjb25zdCB6ID0gTWF0aC5zaW4oYW5nbGUpICogMC4zO1xyXG4gICAgcG9pbnRzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoeCwgeSArIDIsIHopKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGN1cnZlID0gbmV3IFRIUkVFLkNhdG11bGxSb21DdXJ2ZTMocG9pbnRzKTtcclxuICBjb25zdCB0dWJlR2VvID0gbmV3IFRIUkVFLlR1YmVHZW9tZXRyeShjdXJ2ZSwgMTAwLCAwLjEsIDgsIGZhbHNlKTtcclxuICBjb25zdCB0dWJlTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHgyMEM5OTd9KTtcclxuICBjb25zdCBoZWxpeCA9IG5ldyBUSFJFRS5NZXNoKHR1YmVHZW8sIHR1YmVNYXQpO1xyXG4gIGhlbGl4LnBvc2l0aW9uLnNldCgwLCAyLCAwKTtcclxuICBoZWxpeC5uYW1lID0gJ2hlbGl4X3BsYWNlaG9sZGVyJztcclxuICBzY2VuZS5hZGQoaGVsaXgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVNb2xlY3VsZURpc3BsYXkoY3R4LCBmb3JtdWxhLCBwb3NpdGlvbiA9IHt4OiAwLCB5OiAyLCB6OiAwfSkge1xyXG4gIGxvYWRNb2xlY3VsZU1vZGVsKGZvcm11bGEsIEVYUEVSSU1FTlRBTF9ST09NUywgKG1vZGVsLCBlcnJvcikgPT4ge1xyXG4gICAgaWYgKCFlcnJvcikge1xyXG4gICAgICBjb25zdCBvcHRpbWl6ZWQgPSBvcHRpbWl6ZU1vZGVsRm9yVlIobW9kZWwpO1xyXG4gICAgICBvcHRpbWl6ZWQucG9zaXRpb24uc2V0KHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnopO1xyXG4gICAgICBvcHRpbWl6ZWQudXNlckRhdGEubW9sZWN1bGVGb3JtdWxhID0gZm9ybXVsYTtcclxuICAgICAgc2NlbmUuYWRkKG9wdGltaXplZCk7XHJcbiAgICAgIHNjZW5lLnVzZXJEYXRhLm1vbGVjdWxlRGlzcGxheSA9IG9wdGltaXplZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGZhbGxiYWNrID0gY3JlYXRlTW9sZWN1bGVNb2RlbChmb3JtdWxhLCBFWFBFUklNRU5UQUxfUk9PTVMpO1xyXG4gICAgICBmYWxsYmFjay5wb3NpdGlvbi5zZXQocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgcG9zaXRpb24ueik7XHJcbiAgICAgIHNjZW5lLmFkZChmYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kRGlzcGxheShjdHgsIGNvbXBvdW5kTmFtZSwgcG9zaXRpb24gPSB7eDogMCwgeTogMiwgejogMH0pIHtcclxuICBjb25zdCBjb21wb3VuZE1hcCA9IHtcclxuICAgICdyZWFjdGlvbl9sYWInOiB7Zm9ybXVsYTogJ0gyTycsIG5hbWU6ICd3YXRlcid9LFxyXG4gICAgJ2VsZWN0cm9jaGVtX2xhYic6IHtmb3JtdWxhOiAnTmFDbCcsIG5hbWU6ICdzYWx0J30sXHJcbiAgICAnbnVjbGVhcl9jaGFtYmVyJzoge2Zvcm11bGE6ICdVTzInLCBuYW1lOiAndXJhbml1bV9veGlkZSd9LFxyXG4gICAgJ29yZ2FuaWNfY2hlbSc6IHtmb3JtdWxhOiAnQzZIMTJPNicsIG5hbWU6ICdnbHVjb3NlJ30sXHJcbiAgICAnZXh0cmVtZV9jb25kaXRpb25zJzoge2Zvcm11bGE6ICdDTzInLCBuYW1lOiAnY2FyYm9uX2Rpb3hpZGUnfSxcclxuICAgICdpbmR1c3RyaWFsX2FwcHMnOiB7Zm9ybXVsYTogJ0ZlJywgbmFtZTogJ3N0ZWVsJ30sXHJcbiAgICAnaGlzdG9yaWNhbF9sYWInOiB7Zm9ybXVsYTogJ0F1JywgbmFtZTogJ2dvbGQnfSxcclxuICAgICdzcGFjZV9jaGVtJzoge2Zvcm11bGE6ICdIZScsIG5hbWU6ICdoZWxpdW0nfSxcclxuICAgICduYW5vX3dvcmxkJzoge2Zvcm11bGE6ICdTaScsIG5hbWU6ICdzaWxpY29uJ30sXHJcbiAgICAnY2hhbGxlbmdlX2FyZW5hJzoge2Zvcm11bGE6ICdDJywgbmFtZTogJ2RpYW1vbmQnfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNvbXBvdW5kID0gY29tcG91bmRNYXBbcm9vbURhdGEuaWRdO1xyXG4gIGlmIChjb21wb3VuZCkge1xyXG4gICAgY29uc3QgbGF0dGljZSA9IGNyZWF0ZUNyeXN0YWxMYXR0aWNlKHtzeW1ib2w6IGNvbXBvdW5kLm5hbWUsIGNvbG9yOiAweDg4ODg4OH0pO1xyXG4gICAgbGF0dGljZS5wb3NpdGlvbi5zZXQocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgcG9zaXRpb24ueik7XHJcbiAgICBzY2VuZS5hZGQobGF0dGljZSk7XHJcbiAgICBzY2VuZS51c2VyRGF0YS5jb21wb3VuZERpc3BsYXkgPSBsYXR0aWNlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2hhbGxlbmdlQXJlbmEoY3R4KSB7XHJcbiAgY29uc3QgYXJlbmFGbG9vciA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDgsIDgsIDAuMiwgMzIpO1xyXG4gIGNvbnN0IGFyZW5hTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHhGRkMxMDd9KTtcclxuICBjb25zdCBhcmVuYSA9IG5ldyBUSFJFRS5NZXNoKGFyZW5hRmxvb3IsIGFyZW5hTWF0KTtcclxuICBhcmVuYS5wb3NpdGlvbi55ID0gLTAuMDU7XHJcbiAgc2NlbmUuYWRkKGFyZW5hKTtcclxuXHJcbiAgY29uc3QgcG9kaXVtR2VvID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIsIDAuNSwgMik7XHJcbiAgY29uc3QgcG9kaXVtTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHhENEFGMzd9KTtcclxuICBjb25zdCBwb2RpdW0gPSBuZXcgVEhSRUUuTWVzaChwb2RpdW1HZW8sIHBvZGl1bU1hdCk7XHJcbiAgcG9kaXVtLnBvc2l0aW9uLnNldCgwLCAwLjI1LCAwKTtcclxuICBzY2VuZS5hZGQocG9kaXVtKTtcclxuXHJcbiAgY29uc3QgdHJvcGh5R2VvID0gbmV3IFRIUkVFLkNvbmVHZW9tZXRyeSgwLjMsIDEsIDgpO1xyXG4gIGNvbnN0IHRyb3BoeU1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4RkZENzAwfSk7XHJcbiAgY29uc3QgdHJvcGh5ID0gbmV3IFRIUkVFLk1lc2godHJvcGh5R2VvLCB0cm9waHlNYXQpO1xyXG4gIHRyb3BoeS5wb3NpdGlvbi5zZXQoMCwgMS41LCAwKTtcclxuICBzY2VuZS5hZGQodHJvcGh5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlR2VuZXJpY0xhYihjdHgpIHtcclxuICBjb25zdCBiZW5jaEdlbyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg1LCAxLCAyLjUpO1xyXG4gIGNvbnN0IGJlbmNoTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHgzYTNhNGF9KTtcclxuICBjb25zdCBiZW5jaCA9IG5ldyBUSFJFRS5NZXNoKGJlbmNoR2VvLCBiZW5jaE1hdCk7XHJcbiAgYmVuY2gucG9zaXRpb24uc2V0KDAsIDAuNSwgMCk7XHJcbiAgc2NlbmUuYWRkKGJlbmNoKTtcclxuXHJcbiAgY29uc3QgZXF1aXBtZW50R2VvID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDAuNSwgMSwgMC41KTtcclxuICBjb25zdCBlcXVpcG1lbnRNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDRhNGE0YX0pO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICBjb25zdCBlcXVpcG1lbnQgPSBuZXcgVEhSRUUuTWVzaChlcXVpcG1lbnRHZW8sIGVxdWlwbWVudE1hdCk7XHJcbiAgICBlcXVpcG1lbnQucG9zaXRpb24uc2V0KC0xLjUgKyBpLCAxLCAtMC41KTtcclxuICAgIHNjZW5lLmFkZChlcXVpcG1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRmxvb3IoY3R4LCB0aGVtZUNvbG9yKSB7XHJcbiAgY29uc3QgZmxvb3JHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgxMiwgMTIsIDAuMiwgNjQpO1xyXG4gIGNvbnN0IGZsb29yTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgIGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IodGhlbWVDb2xvcikubXVsdGlwbHlTY2FsYXIoMC4wOClcclxuICB9KTtcclxuICBjb25zdCBmbG9vciA9IG5ldyBUSFJFRS5NZXNoKGZsb29yR2VvLCBmbG9vck1hdCk7XHJcbiAgZmxvb3IucG9zaXRpb24ueSA9IC0wLjE7XHJcbiAgc2NlbmUuYWRkKGZsb29yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRXhwZXJpbWVudFN0YXRpb25zKGN0eCwgcm9vbURhdGEpIHtcclxuICBjb25zdCBzdGF0aW9uUmFkaXVzID0gNTtcclxuICBjb25zdCBleHBlcmltZW50cyA9IHJvb21EYXRhLmV4cGVyaW1lbnRzIHx8IFtdO1xyXG5cclxuICBleHBlcmltZW50cy5mb3JFYWNoKChleHBJZCwgaW5kZXgpID0+IHtcclxuICAgIGNvbnN0IGFuZ2xlID0gKGluZGV4IC8gZXhwZXJpbWVudHMubGVuZ3RoKSAqIE1hdGguUEkgKiAyO1xyXG4gICAgY29uc3QgeCA9IE1hdGguY29zKGFuZ2xlKSAqIHN0YXRpb25SYWRpdXM7XHJcbiAgICBjb25zdCB6ID0gTWF0aC5zaW4oYW5nbGUpICogc3RhdGlvblJhZGl1cztcclxuXHJcbiAgICBjb25zdCBzdGF0aW9uR2VvID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEuNSwgMiwgMSk7XHJcbiAgICBjb25zdCBzdGF0aW9uTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgY29sb3I6IG5ldyBUSFJFRS5Db2xvcihyb29tRGF0YS5jb2xvcikubXVsdGlwbHlTY2FsYXIoMC42KSxcclxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgIG9wYWNpdHk6IDAuN1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzdGF0aW9uID0gbmV3IFRIUkVFLk1lc2goc3RhdGlvbkdlbywgc3RhdGlvbk1hdCk7XHJcbiAgICBzdGF0aW9uLnBvc2l0aW9uLnNldCh4LCAxLCB6KTtcclxuICAgIHN0YXRpb24udXNlckRhdGEuZXhwZXJpbWVudElkID0gZXhwSWQ7XHJcblxyXG4gICAgY29uc3QgbGFiZWxFbnRpdHkgPSBjdHgud29ybGQuY3JlYXRlRW50aXR5KCk7XHJcbiAgICBsYWJlbEVudGl0eVxyXG4gICAgICAuYWRkQ29tcG9uZW50KFRleHQsIHtcclxuICAgICAgICB0ZXh0OiBleHBJZCxcclxuICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIGZvbnRTaXplOiAwLjA4LFxyXG4gICAgICAgIGFuY2hvcjogJ2NlbnRlcicsXHJcbiAgICAgICAgYmFzZWxpbmU6ICd0b3AnLFxyXG4gICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcclxuICAgICAgfSlcclxuICAgICAgLmFkZENvbXBvbmVudChQYXJlbnRPYmplY3QzRCwge3ZhbHVlOiBzdGF0aW9ufSlcclxuICAgICAgLmFkZENvbXBvbmVudChQb3NpdGlvbiwge3g6IDAsIHk6IDEuMSwgejogMC41MX0pO1xyXG5cclxuICAgIHNjZW5lLmFkZChzdGF0aW9uKTtcclxuICAgIGV4cGVyaW1lbnRTdGF0aW9ucy5wdXNoKHN0YXRpb24pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cExpZ2h0aW5nKGN0eCwgdGhlbWVDb2xvcikge1xyXG4gIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhmZmZmZmYsIDAuMyk7XHJcbiAgc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7XHJcblxyXG4gIGNvbnN0IHBvaW50TGlnaHQxID0gbmV3IFRIUkVFLlBvaW50TGlnaHQodGhlbWVDb2xvciwgMC42LCAyMCk7XHJcbiAgcG9pbnRMaWdodDEucG9zaXRpb24uc2V0KDUsIDgsIDUpO1xyXG4gIHNjZW5lLmFkZChwb2ludExpZ2h0MSk7XHJcblxyXG4gIGNvbnN0IHBvaW50TGlnaHQyID0gbmV3IFRIUkVFLlBvaW50TGlnaHQodGhlbWVDb2xvciwgMC42LCAyMCk7XHJcbiAgcG9pbnRMaWdodDIucG9zaXRpb24uc2V0KC01LCA4LCAtNSk7XHJcbiAgc2NlbmUuYWRkKHBvaW50TGlnaHQyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlVGVsZXBvcnRab25lKGN0eCkge1xyXG4gIGNvbnN0IHRlbGVwb3J0R2VvID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoMjUsIDI1KTtcclxuICBjb25zdCB0ZWxlcG9ydE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7dmlzaWJsZTogZmFsc2V9KTtcclxuICB0ZWxlcG9ydEZsb29yID0gbmV3IFRIUkVFLk1lc2godGVsZXBvcnRHZW8sIHRlbGVwb3J0TWF0KTtcclxuICB0ZWxlcG9ydEZsb29yLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDI7XHJcbiAgdGVsZXBvcnRGbG9vci5wb3NpdGlvbi55ID0gMC4wMDE7XHJcbiAgc2NlbmUuYWRkKHRlbGVwb3J0Rmxvb3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVOYXZpZ2F0aW9uUGFuZWwoY3R4KSB7XHJcbiAgY29uc3QgcGFuZWxHZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMC41LCAwLjMsIDAuMDUpO1xyXG4gIGNvbnN0IHBhbmVsTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHgyYTJhM2F9KTtcclxuICBjb25zdCBwYW5lbCA9IG5ldyBUSFJFRS5NZXNoKHBhbmVsR2VvLCBwYW5lbE1hdCk7XHJcbiAgcGFuZWwucG9zaXRpb24uc2V0KDAsIDEuNSwgLTYpO1xyXG4gIHNjZW5lLmFkZChwYW5lbCk7XHJcblxyXG4gIGNvbnN0IGJhY2tCdG5FbnRpdHkgPSBjdHgud29ybGQuY3JlYXRlRW50aXR5KCk7XHJcbiAgYmFja0J0bkVudGl0eVxyXG4gICAgLmFkZENvbXBvbmVudChUZXh0LCB7XHJcbiAgICAgIHRleHQ6ICfil4AgTG9iYnknLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICBmb250U2l6ZTogMC4wOCxcclxuICAgICAgYW5jaG9yOiAnY2VudGVyJyxcclxuICAgICAgYmFzZWxpbmU6ICdtaWRkbGUnLFxyXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXHJcbiAgICB9KVxyXG4gICAgLmFkZENvbXBvbmVudChQYXJlbnRPYmplY3QzRCwge3ZhbHVlOiBwYW5lbH0pXHJcbiAgICAuYWRkQ29tcG9uZW50KFBvc2l0aW9uLCB7eDogMCwgeTogMCwgejogMC4wM30pO1xyXG5cclxuICBwYW5lbC51c2VyRGF0YS5iYWNrQnV0dG9uID0gYmFja0J0bkVudGl0eTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVudGVyKGN0eCkge1xyXG4gIGN0eC5zY2VuZS5hZGQoc2NlbmUpO1xyXG4gIGN0eC5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHNjZW5lLmJhY2tncm91bmQpO1xyXG4gIGN0eC5yYXljb250cm9sLmFjdGl2YXRlU3RhdGUoJ2V4cFJvb21TdGF0aW9ucycpO1xyXG4gIGN0eC5yYXljb250cm9sLmFjdGl2YXRlU3RhdGUoJ2V4cFJvb21UZWxlcG9ydCcpO1xyXG4gIGN0eC5yYXljb250cm9sLmFjdGl2YXRlU3RhdGUoJ2V4cFJvb21OYXYnKTtcclxuXHJcbiAgY3R4LnJheWNvbnRyb2wuYWRkU3RhdGUoJ2V4cFJvb21TdGF0aW9ucycsIHtcclxuICAgIGNvbGxpZGVyTWVzaDogZXhwZXJpbWVudFN0YXRpb25zLFxyXG4gICAgY29udHJvbGxlcjogJ3ByaW1hcnknLFxyXG4gICAgb25Ib3ZlcjogKGludGVyc2VjdGlvbiwgYWN0aXZlKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0YXRpb24gPSBpbnRlcnNlY3Rpb24ub2JqZWN0O1xyXG4gICAgICBzdGF0aW9uLnNjYWxlLnNldFNjYWxhcihhY3RpdmUgPyAxLjIgOiAxKTtcclxuICAgIH0sXHJcbiAgICBvbkhvdmVyTGVhdmU6ICgpID0+IHt9LFxyXG4gICAgb25TZWxlY3RTdGFydDogKGludGVyc2VjdGlvbiwgZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnRXhwZXJpbWVudDonLCBpbnRlcnNlY3Rpb24ub2JqZWN0LnVzZXJEYXRhLmV4cGVyaW1lbnRJZCk7XHJcbiAgICB9LFxyXG4gICAgb25TZWxlY3RFbmQ6IChpbnRlcnNlY3Rpb24pID0+IHt9XHJcbiAgfSk7XHJcblxyXG4gIGN0eC5yYXljb250cm9sLmFkZFN0YXRlKCdleHBSb29tVGVsZXBvcnQnLCB7XHJcbiAgICBjb2xsaWRlck1lc2g6IHRlbGVwb3J0Rmxvb3IsXHJcbiAgICBjb250cm9sbGVyOiAncHJpbWFyeScsXHJcbiAgICBvbkhvdmVyOiAoaW50ZXJzZWN0aW9uLCBhY3RpdmUpID0+IHtcclxuICAgICAgY3R4LnRlbGVwb3J0Lm9uSG92ZXIoaW50ZXJzZWN0aW9uLnBvaW50LCBhY3RpdmUpO1xyXG4gICAgfSxcclxuICAgIG9uSG92ZXJMZWF2ZTogKCkgPT4ge1xyXG4gICAgICBjdHgudGVsZXBvcnQub25Ib3ZlckxlYXZlKCk7XHJcbiAgICB9LFxyXG4gICAgb25TZWxlY3RTdGFydDogKGludGVyc2VjdGlvbiwgZSkgPT4ge1xyXG4gICAgICBjdHgudGVsZXBvcnQub25TZWxlY3RTdGFydChlKTtcclxuICAgIH0sXHJcbiAgICBvblNlbGVjdEVuZDogKGludGVyc2VjdGlvbikgPT4ge1xyXG4gICAgICBjdHgudGVsZXBvcnQub25TZWxlY3RFbmQoaW50ZXJzZWN0aW9uLnBvaW50KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgY3R4LnJheWNvbnRyb2wuYWRkU3RhdGUoJ2V4cFJvb21OYXYnLCB7XHJcbiAgICBjb2xsaWRlck1lc2g6IFtzY2VuZS5jaGlsZHJlbi5maW5kKGMgPT4gYy51c2VyRGF0YS5iYWNrQnV0dG9uKV0sXHJcbiAgICBjb250cm9sbGVyOiAncHJpbWFyeScsXHJcbiAgICBvbkhvdmVyOiAoaW50ZXJzZWN0aW9uLCBhY3RpdmUpID0+IHt9LFxyXG4gICAgb25Ib3ZlckxlYXZlOiAoKSA9PiB7fSxcclxuICAgIG9uU2VsZWN0U3RhcnQ6IChpbnRlcnNlY3Rpb24sIGUpID0+IHtcclxuICAgICAgY3R4LmdvdG8gPSAwO1xyXG4gICAgfSxcclxuICAgIG9uU2VsZWN0RW5kOiAoaW50ZXJzZWN0aW9uKSA9PiB7fVxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhpdChjdHgpIHtcclxuICBjdHgucmF5Y29udHJvbC5kZWFjdGl2YXRlU3RhdGUoJ2V4cFJvb21TdGF0aW9ucycpO1xyXG4gIGN0eC5yYXljb250cm9sLmRlYWN0aXZhdGVTdGF0ZSgnZXhwUm9vbVRlbGVwb3J0Jyk7XHJcbiAgY3R4LnJheWNvbnRyb2wuZGVhY3RpdmF0ZVN0YXRlKCdleHBSb29tTmF2Jyk7XHJcbiAgY3R4LnNjZW5lLnJlbW92ZShzY2VuZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlKGN0eCwgZGVsdGEsIHRpbWUpIHtcclxuICBpZiAoc2NlbmUudXNlckRhdGEuZmxhbWUpIHtcclxuICAgIHNjZW5lLnVzZXJEYXRhLmZsYW1lLnNjYWxlLnkgPSAxICsgTWF0aC5zaW4odGltZSAqIDEwKSAqIDAuMjtcclxuICAgIHNjZW5lLnVzZXJEYXRhLmZsYW1lLm1hdGVyaWFsLm9wYWNpdHkgPSAwLjUgKyBNYXRoLnNpbih0aW1lICogMTApICogMC4yO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNjZW5lLnVzZXJEYXRhLmNvcmUpIHtcclxuICAgIHNjZW5lLnVzZXJEYXRhLmNvcmUucm90YXRpb24ueSArPSBkZWx0YSAqIDAuNTtcclxuICAgIHNjZW5lLnVzZXJEYXRhLmNvcmUubWF0ZXJpYWwub3BhY2l0eSA9IDAuNCArIE1hdGguc2luKHRpbWUgKiAyKSAqIDAuMTtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/rooms/ExperimentalRoom.js\n");

/***/ }),

/***/ "./src/rooms/Lobby.js":
/*!****************************!*\
  !*** ./src/rooms/Lobby.js ***!
  \****************************/
/*! exports provided: setup, enter, exit, execute */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setup\", function() { return setup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enter\", function() { return enter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"exit\", function() { return exit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"execute\", function() { return execute; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n/* harmony import */ var _data_elements_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/elements.js */ \"./src/data/elements.js\");\n\n\n\nvar scene,\n  atomCore,\n  electronOrbits = [];\nvar elementButtons = [],\n  expButtons = [];\nvar periodicTableMesh;\nvar infoPanel,\n  currentSelection = null;\nvar teleportFloor;\nconst ATOM_RADIUS = 0.8;\nconst ORBIT_RADIUS = 4;\nconst ELECTRON_SPEED = 0.5;\nfunction setup(ctx) {\n  scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n  scene.background = new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0x0a0a1a);\n  const floorGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](15, 15, 0.2, 64);\n  const floorMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x1a1a2e\n  });\n  const floor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](floorGeo, floorMat);\n  floor.position.y = -0.1;\n  scene.add(floor);\n  const teleportGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneBufferGeometry\"](30, 30);\n  const teleportMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    visible: false\n  });\n  teleportFloor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](teleportGeo, teleportMat);\n  teleportFloor.rotation.x = -Math.PI / 2;\n  teleportFloor.position.y = 0.001;\n  scene.add(teleportFloor);\n  createAtomNucleus(ctx);\n  createElectronOrbits(ctx);\n  createPeriodicTableHologram(ctx);\n  createElementButtons(ctx);\n  createExpRoomButtons(ctx);\n  createInfoPanel(ctx);\n  const ambientLight = new three__WEBPACK_IMPORTED_MODULE_0__[\"AmbientLight\"](0xffffff, 0.2);\n  scene.add(ambientLight);\n  const coreLight = new three__WEBPACK_IMPORTED_MODULE_0__[\"PointLight\"](0x4a90e2, 1, 10);\n  coreLight.position.set(0, 2, 0);\n  scene.add(coreLight);\n  scene.userData.teleport = teleportFloor;\n  scene.userData.atomCore = atomCore;\n  scene.userData.electronOrbits = electronOrbits;\n  registerInteractions(ctx);\n}\nfunction createAtomNucleus(ctx) {\n  const coreGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const coreGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](ATOM_RADIUS, 32, 32);\n  const coreMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4a90e2,\n    transparent: true,\n    opacity: 0.8\n  });\n  atomCore = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](coreGeo, coreMat);\n  atomCore.position.y = 1.6;\n  coreGroup.add(atomCore);\n  const glowGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](ATOM_RADIUS * 1.5, 32, 32);\n  const glowMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4a90e2,\n    transparent: true,\n    opacity: 0.3,\n    side: three__WEBPACK_IMPORTED_MODULE_0__[\"BackSide\"]\n  });\n  const glow = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](glowGeo, glowMat);\n  glow.position.y = 1.6;\n  coreGroup.add(glow);\n  scene.add(coreGroup);\n}\nfunction createElectronOrbits(ctx) {\n  const orbitLevels = [1, 2, 3];\n  const colors = [0xFF6B6B, 0x50e3c2, 0xf5a623];\n  orbitLevels.forEach((level, i) => {\n    const radius = ORBIT_RADIUS + level * 1.5;\n    const orbitGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"TorusGeometry\"](radius, 0.02, 16, 100);\n    const orbitMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: colors[i % colors.length],\n      transparent: true,\n      opacity: 0.5\n    });\n    const orbit = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](orbitGeo, orbitMat);\n    orbit.rotation.x = Math.PI / 2;\n    orbit.position.y = 1.6;\n    scene.add(orbit);\n    const electronGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.1, 16, 16);\n    const electronMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: 0xffffff\n    });\n    const electron = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](electronGeo, electronMat);\n    const electronGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n    electronGroup.position.y = 1.6;\n    electronGroup.add(electron);\n    electron.userData = {\n      angle: Math.random() * Math.PI * 2,\n      speed: ELECTRON_SPEED / (level * 0.7),\n      radius: radius\n    };\n    scene.add(electronGroup);\n    electronOrbits.push(electronGroup);\n  });\n}\nfunction createPeriodicTableHologram(ctx) {\n  const pTableGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const width = 12;\n  const height = 7;\n  const cols = 18;\n  const rows = 7;\n  const cellWidth = width / cols;\n  const cellHeight = height / rows;\n  for (let z = 0; z < _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"].length && z < 3; z++) {\n    const element = _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"][z];\n    const cellGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](cellWidth * 0.8, cellHeight * 0.8, 0.05);\n    const cellMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: element.color,\n      transparent: true,\n      opacity: 0.3,\n      side: three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"]\n    });\n    const cell = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](cellGeo, cellMat);\n    const x = (element.groupNumber - 9) * cellWidth;\n    const y = (4 - element.period) * cellHeight;\n    cell.position.set(x, y + 2, -6);\n    cell.userData.element = element;\n    cell.name = `element_${element.symbol}`;\n    pTableGroup.add(cell);\n  }\n  periodicTableMesh = pTableGroup;\n  scene.add(pTableGroup);\n}\nfunction createElementButtons(ctx) {\n  const buttonGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const radius = 8;\n  const angleStep = Math.PI * 2 / _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"].length;\n  _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"].forEach((element, index) => {\n    const angle = index * angleStep;\n    const x = Math.cos(angle) * radius;\n    const z = Math.sin(angle) * radius;\n    const buttonGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.25, 16, 16);\n    const buttonMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: element.color,\n      transparent: true,\n      opacity: 0.7\n    });\n    const button = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](buttonGeo, buttonMat);\n    button.position.set(x, 1.6, z);\n    button.userData.element = element;\n    button.userData.roomIndex = index + 1;\n    button.name = `element_${element.symbol}_button`;\n    buttonGroup.add(button);\n    elementButtons.push(button);\n    const textEntity = ctx.world.createEntity();\n    textEntity.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"], {\n      text: element.symbol,\n      color: '#ffffff',\n      fontSize: 0.15,\n      anchor: 'center',\n      baseline: 'middle',\n      textAlign: 'center'\n    }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"ParentObject3D\"], {\n      value: button\n    }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"], {\n      x: 0,\n      y: 0.4,\n      z: 0\n    });\n    buttonGroup.add(button);\n  });\n  scene.add(buttonGroup);\n}\nfunction createExpRoomButtons(ctx) {\n  const buttonGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const radius = 12;\n  const angleStep = Math.PI * 2 / _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"EXPERIMENTAL_ROOMS\"].length;\n  _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"EXPERIMENTAL_ROOMS\"].forEach((room, index) => {\n    const angle = index * angleStep;\n    const x = Math.cos(angle) * radius;\n    const z = Math.sin(angle) * radius;\n    const buttonGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](0.8, 0.8, 0.1);\n    const buttonMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: room.color,\n      transparent: true,\n      opacity: 0.6\n    });\n    const button = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](buttonGeo, buttonMat);\n    button.position.set(x, 1.6, z);\n    button.userData.expRoom = room;\n    button.userData.roomIndex = _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"ELEMENTS\"].length + index + 1;\n    button.name = `exp_${room.id}_button`;\n    buttonGroup.add(button);\n    expButtons.push(button);\n  });\n  scene.add(buttonGroup);\n}\nfunction createInfoPanel(ctx) {\n  const panelGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](3, 2);\n  const panelMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x2a2a3a,\n    transparent: true,\n    opacity: 0.9,\n    side: three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"]\n  });\n  infoPanel = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](panelGeo, panelMat);\n  infoPanel.position.set(0, 3.5, -4);\n  infoPanel.visible = false;\n  scene.add(infoPanel);\n  const titleTextEntity = ctx.world.createEntity();\n  titleTextEntity.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"], {\n    text: '',\n    color: '#ffffff',\n    fontSize: 0.12,\n    anchor: 'center',\n    baseline: 'top',\n    textAlign: 'center'\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"ParentObject3D\"], {\n    value: infoPanel\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"], {\n    x: 0,\n    y: 0.6,\n    z: 0.01\n  });\n  infoPanel.userData.titleText = titleTextEntity;\n  const descTextEntity = ctx.world.createEntity();\n  descTextEntity.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"], {\n    text: '',\n    color: '#cccccc',\n    fontSize: 0.06,\n    anchor: 'center',\n    baseline: 'top',\n    textAlign: 'center',\n    maxWidth: 2.6,\n    lineHeight: 1.4\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"ParentObject3D\"], {\n    value: infoPanel\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"], {\n    x: 0,\n    y: -0.2,\n    z: 0.01\n  });\n  infoPanel.userData.descText = descTextEntity;\n}\nfunction registerInteractions(ctx) {\n  ctx.raycontrol.addState('lobbyElements', {\n    colliderMesh: [...elementButtons],\n    controller: 'primary',\n    onHover: (intersection, active) => {\n      const button = intersection.object;\n      button.scale.setScalar(active ? 1.3 : 1);\n      showElementInfo(button.userData.element);\n    },\n    onHoverLeave: intersection => {\n      hideElementInfo();\n    },\n    onSelectStart: (intersection, e) => {\n      ctx.goto = intersection.object.userData.roomIndex;\n    },\n    onSelectEnd: intersection => {}\n  });\n  ctx.raycontrol.addState('lobbyExpRooms', {\n    colliderMesh: [...expButtons],\n    controller: 'primary',\n    onHover: (intersection, active) => {\n      const button = intersection.object;\n      button.scale.setScalar(active ? 1.2 : 1);\n    },\n    onHoverLeave: intersection => {},\n    onSelectStart: (intersection, e) => {\n      ctx.goto = intersection.object.userData.roomIndex;\n    },\n    onSelectEnd: intersection => {}\n  });\n  ctx.raycontrol.addState('lobbyTeleport', {\n    colliderMesh: teleportFloor,\n    controller: 'primary',\n    onHover: (intersection, active) => {\n      ctx.teleport.onHover(intersection.point, active);\n    },\n    onHoverLeave: () => {\n      ctx.teleport.onHoverLeave();\n    },\n    onSelectStart: (intersection, e) => {\n      ctx.teleport.onSelectStart(e);\n    },\n    onSelectEnd: intersection => {\n      ctx.teleport.onSelectEnd(intersection.point);\n    }\n  });\n}\nfunction showElementInfo(element) {\n  if (!element || currentSelection === element.symbol) return;\n  currentSelection = element.symbol;\n  infoPanel.visible = true;\n  const titleComp = infoPanel.userData.titleText.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"]);\n  titleComp.text = `${element.symbol} - ${element.name}`;\n  const descComp = infoPanel.userData.descText.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"]);\n  descComp.text = element.description;\n}\nfunction hideElementInfo() {\n  currentSelection = null;\n  infoPanel.visible = false;\n}\nfunction enter(ctx) {\n  ctx.renderer.setClearColor(0x0a0a1a);\n  ctx.scene.add(scene);\n  ctx.raycontrol.activateState('lobbyElements');\n  ctx.raycontrol.activateState('lobbyExpRooms');\n  ctx.raycontrol.activateState('lobbyTeleport');\n}\nfunction exit(ctx) {\n  ctx.raycontrol.deactivateState('lobbyElements');\n  ctx.raycontrol.deactivateState('lobbyExpRooms');\n  ctx.raycontrol.deactivateState('lobbyTeleport');\n  ctx.scene.remove(scene);\n  hideElementInfo();\n}\nfunction execute(ctx, delta, time) {\n  if (atomCore) {\n    atomCore.material.opacity = 0.6 + Math.sin(time * 2) * 0.2;\n    atomCore.scale.setScalar(1 + Math.sin(time * 3) * 0.05);\n  }\n  electronOrbits.forEach(group => {\n    const electron = group.children[0];\n    const userData = electron.userData;\n    userData.angle += userData.speed * delta;\n    electron.position.x = Math.cos(userData.angle) * userData.radius;\n    electron.position.z = Math.sin(userData.angle) * userData.radius;\n  });\n  if (periodicTableMesh) {\n    periodicTableMesh.rotation.y = time * 0.1;\n    periodicTableMesh.position.y = 2 + Math.sin(time * 0.5) * 0.2;\n  }\n  elementButtons.forEach((button, i) => {\n    button.position.y = 1.6 + Math.sin(time * 2 + i * 0.5) * 0.1;\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcm9vbXMvTG9iYnkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm9vbXMvTG9iYnkuanM/MDAxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCB7IFRleHQsIFBvc2l0aW9uLCBQYXJlbnRPYmplY3QzRCwgT2JqZWN0M0QsIENoaWxkcmVuIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbmRleC5qcyc7XHJcbmltcG9ydCB7IEVMRU1FTlRTLCBFWFBFUklNRU5UQUxfUk9PTVMsIEdST1VQX0NPTE9SUywgTk9CTEVfR0FTX0NPTE9SUyB9IGZyb20gJy4uL2RhdGEvZWxlbWVudHMuanMnO1xyXG5cclxudmFyIHNjZW5lLCBhdG9tQ29yZSwgZWxlY3Ryb25PcmJpdHMgPSBbXTtcclxudmFyIGVsZW1lbnRCdXR0b25zID0gW10sIGV4cEJ1dHRvbnMgPSBbXTtcclxudmFyIHBlcmlvZGljVGFibGVNZXNoO1xyXG52YXIgaW5mb1BhbmVsLCBjdXJyZW50U2VsZWN0aW9uID0gbnVsbDtcclxudmFyIHRlbGVwb3J0Rmxvb3I7XHJcblxyXG5jb25zdCBBVE9NX1JBRElVUyA9IDAuODtcclxuY29uc3QgT1JCSVRfUkFESVVTID0gNDtcclxuY29uc3QgRUxFQ1RST05fU1BFRUQgPSAwLjU7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0dXAoY3R4KSB7XHJcbiAgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcclxuXHJcbiAgc2NlbmUuYmFja2dyb3VuZCA9IG5ldyBUSFJFRS5Db2xvcigweDBhMGExYSk7XHJcblxyXG4gIGNvbnN0IGZsb29yR2VvID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMTUsIDE1LCAwLjIsIDY0KTtcclxuICBjb25zdCBmbG9vck1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4MWExYTJlfSk7XHJcbiAgY29uc3QgZmxvb3IgPSBuZXcgVEhSRUUuTWVzaChmbG9vckdlbywgZmxvb3JNYXQpO1xyXG4gIGZsb29yLnBvc2l0aW9uLnkgPSAtMC4xO1xyXG4gIHNjZW5lLmFkZChmbG9vcik7XHJcblxyXG4gIGNvbnN0IHRlbGVwb3J0R2VvID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoMzAsIDMwKTtcclxuICBjb25zdCB0ZWxlcG9ydE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7dmlzaWJsZTogZmFsc2V9KTtcclxuICB0ZWxlcG9ydEZsb29yID0gbmV3IFRIUkVFLk1lc2godGVsZXBvcnRHZW8sIHRlbGVwb3J0TWF0KTtcclxuICB0ZWxlcG9ydEZsb29yLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDI7XHJcbiAgdGVsZXBvcnRGbG9vci5wb3NpdGlvbi55ID0gMC4wMDE7XHJcbiAgc2NlbmUuYWRkKHRlbGVwb3J0Rmxvb3IpO1xyXG5cclxuICBjcmVhdGVBdG9tTnVjbGV1cyhjdHgpO1xyXG4gIGNyZWF0ZUVsZWN0cm9uT3JiaXRzKGN0eCk7XHJcbiAgY3JlYXRlUGVyaW9kaWNUYWJsZUhvbG9ncmFtKGN0eCk7XHJcbiAgY3JlYXRlRWxlbWVudEJ1dHRvbnMoY3R4KTtcclxuICBjcmVhdGVFeHBSb29tQnV0dG9ucyhjdHgpO1xyXG4gIGNyZWF0ZUluZm9QYW5lbChjdHgpO1xyXG5cclxuICBjb25zdCBhbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAwLjIpO1xyXG4gIHNjZW5lLmFkZChhbWJpZW50TGlnaHQpO1xyXG5cclxuICBjb25zdCBjb3JlTGlnaHQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCgweDRhOTBlMiwgMSwgMTApO1xyXG4gIGNvcmVMaWdodC5wb3NpdGlvbi5zZXQoMCwgMiwgMCk7XHJcbiAgc2NlbmUuYWRkKGNvcmVMaWdodCk7XHJcblxyXG4gIHNjZW5lLnVzZXJEYXRhLnRlbGVwb3J0ID0gdGVsZXBvcnRGbG9vcjtcclxuICBzY2VuZS51c2VyRGF0YS5hdG9tQ29yZSA9IGF0b21Db3JlO1xyXG4gIHNjZW5lLnVzZXJEYXRhLmVsZWN0cm9uT3JiaXRzID0gZWxlY3Ryb25PcmJpdHM7XHJcblxyXG4gIHJlZ2lzdGVySW50ZXJhY3Rpb25zKGN0eCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUF0b21OdWNsZXVzKGN0eCkge1xyXG4gIGNvbnN0IGNvcmVHcm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG5cclxuICBjb25zdCBjb3JlR2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KEFUT01fUkFESVVTLCAzMiwgMzIpO1xyXG4gIGNvbnN0IGNvcmVNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgY29sb3I6IDB4NGE5MGUyLFxyXG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICBvcGFjaXR5OiAwLjhcclxuICB9KTtcclxuICBhdG9tQ29yZSA9IG5ldyBUSFJFRS5NZXNoKGNvcmVHZW8sIGNvcmVNYXQpO1xyXG4gIGF0b21Db3JlLnBvc2l0aW9uLnkgPSAxLjY7XHJcbiAgY29yZUdyb3VwLmFkZChhdG9tQ29yZSk7XHJcblxyXG4gIGNvbnN0IGdsb3dHZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoQVRPTV9SQURJVVMgKiAxLjUsIDMyLCAzMik7XHJcbiAgY29uc3QgZ2xvd01hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogMHg0YTkwZTIsXHJcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgIG9wYWNpdHk6IDAuMyxcclxuICAgIHNpZGU6IFRIUkVFLkJhY2tTaWRlXHJcbiAgfSk7XHJcbiAgY29uc3QgZ2xvdyA9IG5ldyBUSFJFRS5NZXNoKGdsb3dHZW8sIGdsb3dNYXQpO1xyXG4gIGdsb3cucG9zaXRpb24ueSA9IDEuNjtcclxuICBjb3JlR3JvdXAuYWRkKGdsb3cpO1xyXG5cclxuICBzY2VuZS5hZGQoY29yZUdyb3VwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRWxlY3Ryb25PcmJpdHMoY3R4KSB7XHJcbiAgY29uc3Qgb3JiaXRMZXZlbHMgPSBbMSwgMiwgM107XHJcbiAgY29uc3QgY29sb3JzID0gWzB4RkY2QjZCLCAweDUwZTNjMiwgMHhmNWE2MjNdO1xyXG5cclxuICBvcmJpdExldmVscy5mb3JFYWNoKChsZXZlbCwgaSkgPT4ge1xyXG4gICAgY29uc3QgcmFkaXVzID0gT1JCSVRfUkFESVVTICsgKGxldmVsICogMS41KTtcclxuICAgIGNvbnN0IG9yYml0R2VvID0gbmV3IFRIUkVFLlRvcnVzR2VvbWV0cnkocmFkaXVzLCAwLjAyLCAxNiwgMTAwKTtcclxuICAgIGNvbnN0IG9yYml0TWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcclxuICAgICAgY29sb3I6IGNvbG9yc1tpICUgY29sb3JzLmxlbmd0aF0sXHJcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgICBvcGFjaXR5OiAwLjVcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgb3JiaXQgPSBuZXcgVEhSRUUuTWVzaChvcmJpdEdlbywgb3JiaXRNYXQpO1xyXG4gICAgb3JiaXQucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xyXG4gICAgb3JiaXQucG9zaXRpb24ueSA9IDEuNjtcclxuICAgIHNjZW5lLmFkZChvcmJpdCk7XHJcblxyXG4gICAgY29uc3QgZWxlY3Ryb25HZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMC4xLCAxNiwgMTYpO1xyXG4gICAgY29uc3QgZWxlY3Ryb25NYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweGZmZmZmZn0pO1xyXG4gICAgY29uc3QgZWxlY3Ryb24gPSBuZXcgVEhSRUUuTWVzaChlbGVjdHJvbkdlbywgZWxlY3Ryb25NYXQpO1xyXG5cclxuICAgIGNvbnN0IGVsZWN0cm9uR3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcclxuICAgIGVsZWN0cm9uR3JvdXAucG9zaXRpb24ueSA9IDEuNjtcclxuICAgIGVsZWN0cm9uR3JvdXAuYWRkKGVsZWN0cm9uKTtcclxuXHJcbiAgICBlbGVjdHJvbi51c2VyRGF0YSA9IHtcclxuICAgICAgYW5nbGU6IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMixcclxuICAgICAgc3BlZWQ6IEVMRUNUUk9OX1NQRUVEIC8gKGxldmVsICogMC43KSxcclxuICAgICAgcmFkaXVzOiByYWRpdXNcclxuICAgIH07XHJcblxyXG4gICAgc2NlbmUuYWRkKGVsZWN0cm9uR3JvdXApO1xyXG4gICAgZWxlY3Ryb25PcmJpdHMucHVzaChlbGVjdHJvbkdyb3VwKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUGVyaW9kaWNUYWJsZUhvbG9ncmFtKGN0eCkge1xyXG4gIGNvbnN0IHBUYWJsZUdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcblxyXG4gIGNvbnN0IHdpZHRoID0gMTI7XHJcbiAgY29uc3QgaGVpZ2h0ID0gNztcclxuICBjb25zdCBjb2xzID0gMTg7XHJcbiAgY29uc3Qgcm93cyA9IDc7XHJcblxyXG4gIGNvbnN0IGNlbGxXaWR0aCA9IHdpZHRoIC8gY29scztcclxuICBjb25zdCBjZWxsSGVpZ2h0ID0gaGVpZ2h0IC8gcm93cztcclxuXHJcbiAgZm9yIChsZXQgeiA9IDA7IHogPCBFTEVNRU5UUy5sZW5ndGggJiYgeiA8IDM7IHorKykge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IEVMRU1FTlRTW3pdO1xyXG4gICAgY29uc3QgY2VsbEdlbyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeShjZWxsV2lkdGggKiAwLjgsIGNlbGxIZWlnaHQgKiAwLjgsIDAuMDUpO1xyXG4gICAgY29uc3QgY2VsbE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgIGNvbG9yOiBlbGVtZW50LmNvbG9yLFxyXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgb3BhY2l0eTogMC4zLFxyXG4gICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNlbGwgPSBuZXcgVEhSRUUuTWVzaChjZWxsR2VvLCBjZWxsTWF0KTtcclxuXHJcbiAgICBjb25zdCB4ID0gKGVsZW1lbnQuZ3JvdXBOdW1iZXIgLSA5KSAqIGNlbGxXaWR0aDtcclxuICAgIGNvbnN0IHkgPSAoNCAtIGVsZW1lbnQucGVyaW9kKSAqIGNlbGxIZWlnaHQ7XHJcblxyXG4gICAgY2VsbC5wb3NpdGlvbi5zZXQoeCwgeSArIDIsIC02KTtcclxuICAgIGNlbGwudXNlckRhdGEuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICBjZWxsLm5hbWUgPSBgZWxlbWVudF8ke2VsZW1lbnQuc3ltYm9sfWA7XHJcblxyXG4gICAgcFRhYmxlR3JvdXAuYWRkKGNlbGwpO1xyXG4gIH1cclxuXHJcbiAgcGVyaW9kaWNUYWJsZU1lc2ggPSBwVGFibGVHcm91cDtcclxuICBzY2VuZS5hZGQocFRhYmxlR3JvdXApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50QnV0dG9ucyhjdHgpIHtcclxuICBjb25zdCBidXR0b25Hcm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG4gIGNvbnN0IHJhZGl1cyA9IDg7XHJcbiAgY29uc3QgYW5nbGVTdGVwID0gKE1hdGguUEkgKiAyKSAvIEVMRU1FTlRTLmxlbmd0aDtcclxuXHJcbiAgRUxFTUVOVFMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcclxuICAgIGNvbnN0IGFuZ2xlID0gaW5kZXggKiBhbmdsZVN0ZXA7XHJcbiAgICBjb25zdCB4ID0gTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzO1xyXG4gICAgY29uc3QgeiA9IE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cztcclxuXHJcbiAgICBjb25zdCBidXR0b25HZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMC4yNSwgMTYsIDE2KTtcclxuICAgIGNvbnN0IGJ1dHRvbk1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICAgIGNvbG9yOiBlbGVtZW50LmNvbG9yLFxyXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgb3BhY2l0eTogMC43XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IG5ldyBUSFJFRS5NZXNoKGJ1dHRvbkdlbywgYnV0dG9uTWF0KTtcclxuICAgIGJ1dHRvbi5wb3NpdGlvbi5zZXQoeCwgMS42LCB6KTtcclxuICAgIGJ1dHRvbi51c2VyRGF0YS5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgIGJ1dHRvbi51c2VyRGF0YS5yb29tSW5kZXggPSBpbmRleCArIDE7XHJcbiAgICBidXR0b24ubmFtZSA9IGBlbGVtZW50XyR7ZWxlbWVudC5zeW1ib2x9X2J1dHRvbmA7XHJcblxyXG4gICAgYnV0dG9uR3JvdXAuYWRkKGJ1dHRvbik7XHJcbiAgICBlbGVtZW50QnV0dG9ucy5wdXNoKGJ1dHRvbik7XHJcblxyXG4gICAgY29uc3QgdGV4dEVudGl0eSA9IGN0eC53b3JsZC5jcmVhdGVFbnRpdHkoKTtcclxuICAgIHRleHRFbnRpdHlcclxuICAgICAgLmFkZENvbXBvbmVudChUZXh0LCB7XHJcbiAgICAgICAgdGV4dDogZWxlbWVudC5zeW1ib2wsXHJcbiAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICBmb250U2l6ZTogMC4xNSxcclxuICAgICAgICBhbmNob3I6ICdjZW50ZXInLFxyXG4gICAgICAgIGJhc2VsaW5lOiAnbWlkZGxlJyxcclxuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXHJcbiAgICAgIH0pXHJcbiAgICAgIC5hZGRDb21wb25lbnQoUGFyZW50T2JqZWN0M0QsIHt2YWx1ZTogYnV0dG9ufSlcclxuICAgICAgLmFkZENvbXBvbmVudChQb3NpdGlvbiwge3g6IDAsIHk6IDAuNCwgejogMH0pO1xyXG5cclxuICAgIGJ1dHRvbkdyb3VwLmFkZChidXR0b24pO1xyXG4gIH0pO1xyXG5cclxuICBzY2VuZS5hZGQoYnV0dG9uR3JvdXApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFeHBSb29tQnV0dG9ucyhjdHgpIHtcclxuICBjb25zdCBidXR0b25Hcm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG4gIGNvbnN0IHJhZGl1cyA9IDEyO1xyXG4gIGNvbnN0IGFuZ2xlU3RlcCA9IChNYXRoLlBJICogMikgLyBFWFBFUklNRU5UQUxfUk9PTVMubGVuZ3RoO1xyXG5cclxuICBFWFBFUklNRU5UQUxfUk9PTVMuZm9yRWFjaCgocm9vbSwgaW5kZXgpID0+IHtcclxuICAgIGNvbnN0IGFuZ2xlID0gaW5kZXggKiBhbmdsZVN0ZXA7XHJcbiAgICBjb25zdCB4ID0gTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzO1xyXG4gICAgY29uc3QgeiA9IE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cztcclxuXHJcbiAgICBjb25zdCBidXR0b25HZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMC44LCAwLjgsIDAuMSk7XHJcbiAgICBjb25zdCBidXR0b25NYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICBjb2xvcjogcm9vbS5jb2xvcixcclxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgIG9wYWNpdHk6IDAuNlxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBidXR0b24gPSBuZXcgVEhSRUUuTWVzaChidXR0b25HZW8sIGJ1dHRvbk1hdCk7XHJcbiAgICBidXR0b24ucG9zaXRpb24uc2V0KHgsIDEuNiwgeik7XHJcbiAgICBidXR0b24udXNlckRhdGEuZXhwUm9vbSA9IHJvb207XHJcbiAgICBidXR0b24udXNlckRhdGEucm9vbUluZGV4ID0gRUxFTUVOVFMubGVuZ3RoICsgaW5kZXggKyAxO1xyXG4gICAgYnV0dG9uLm5hbWUgPSBgZXhwXyR7cm9vbS5pZH1fYnV0dG9uYDtcclxuXHJcbiAgICBidXR0b25Hcm91cC5hZGQoYnV0dG9uKTtcclxuICAgIGV4cEJ1dHRvbnMucHVzaChidXR0b24pO1xyXG4gIH0pO1xyXG5cclxuICBzY2VuZS5hZGQoYnV0dG9uR3JvdXApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVJbmZvUGFuZWwoY3R4KSB7XHJcbiAgY29uc3QgcGFuZWxHZW8gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgzLCAyKTtcclxuICBjb25zdCBwYW5lbE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcbiAgICBjb2xvcjogMHgyYTJhM2EsXHJcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgIG9wYWNpdHk6IDAuOSxcclxuICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGVcclxuICB9KTtcclxuICBpbmZvUGFuZWwgPSBuZXcgVEhSRUUuTWVzaChwYW5lbEdlbywgcGFuZWxNYXQpO1xyXG4gIGluZm9QYW5lbC5wb3NpdGlvbi5zZXQoMCwgMy41LCAtNCk7XHJcbiAgaW5mb1BhbmVsLnZpc2libGUgPSBmYWxzZTtcclxuICBzY2VuZS5hZGQoaW5mb1BhbmVsKTtcclxuXHJcbiAgY29uc3QgdGl0bGVUZXh0RW50aXR5ID0gY3R4LndvcmxkLmNyZWF0ZUVudGl0eSgpO1xyXG4gIHRpdGxlVGV4dEVudGl0eVxyXG4gICAgLmFkZENvbXBvbmVudChUZXh0LCB7XHJcbiAgICAgIHRleHQ6ICcnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICBmb250U2l6ZTogMC4xMixcclxuICAgICAgYW5jaG9yOiAnY2VudGVyJyxcclxuICAgICAgYmFzZWxpbmU6ICd0b3AnLFxyXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXHJcbiAgICB9KVxyXG4gICAgLmFkZENvbXBvbmVudChQYXJlbnRPYmplY3QzRCwge3ZhbHVlOiBpbmZvUGFuZWx9KVxyXG4gICAgLmFkZENvbXBvbmVudChQb3NpdGlvbiwge3g6IDAsIHk6IDAuNiwgejogMC4wMX0pO1xyXG5cclxuICBpbmZvUGFuZWwudXNlckRhdGEudGl0bGVUZXh0ID0gdGl0bGVUZXh0RW50aXR5O1xyXG5cclxuICBjb25zdCBkZXNjVGV4dEVudGl0eSA9IGN0eC53b3JsZC5jcmVhdGVFbnRpdHkoKTtcclxuICBkZXNjVGV4dEVudGl0eVxyXG4gICAgLmFkZENvbXBvbmVudChUZXh0LCB7XHJcbiAgICAgIHRleHQ6ICcnLFxyXG4gICAgICBjb2xvcjogJyNjY2NjY2MnLFxyXG4gICAgICBmb250U2l6ZTogMC4wNixcclxuICAgICAgYW5jaG9yOiAnY2VudGVyJyxcclxuICAgICAgYmFzZWxpbmU6ICd0b3AnLFxyXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxyXG4gICAgICBtYXhXaWR0aDogMi42LFxyXG4gICAgICBsaW5lSGVpZ2h0OiAxLjRcclxuICAgIH0pXHJcbiAgICAuYWRkQ29tcG9uZW50KFBhcmVudE9iamVjdDNELCB7dmFsdWU6IGluZm9QYW5lbH0pXHJcbiAgICAuYWRkQ29tcG9uZW50KFBvc2l0aW9uLCB7eDogMCwgeTogLTAuMiwgejogMC4wMX0pO1xyXG5cclxuICBpbmZvUGFuZWwudXNlckRhdGEuZGVzY1RleHQgPSBkZXNjVGV4dEVudGl0eTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJJbnRlcmFjdGlvbnMoY3R4KSB7XHJcbiAgY3R4LnJheWNvbnRyb2wuYWRkU3RhdGUoJ2xvYmJ5RWxlbWVudHMnLCB7XHJcbiAgICBjb2xsaWRlck1lc2g6IFsuLi5lbGVtZW50QnV0dG9uc10sXHJcbiAgICBjb250cm9sbGVyOiAncHJpbWFyeScsXHJcbiAgICBvbkhvdmVyOiAoaW50ZXJzZWN0aW9uLCBhY3RpdmUpID0+IHtcclxuICAgICAgY29uc3QgYnV0dG9uID0gaW50ZXJzZWN0aW9uLm9iamVjdDtcclxuICAgICAgYnV0dG9uLnNjYWxlLnNldFNjYWxhcihhY3RpdmUgPyAxLjMgOiAxKTtcclxuICAgICAgc2hvd0VsZW1lbnRJbmZvKGJ1dHRvbi51c2VyRGF0YS5lbGVtZW50KTtcclxuICAgIH0sXHJcbiAgICBvbkhvdmVyTGVhdmU6IChpbnRlcnNlY3Rpb24pID0+IHtcclxuICAgICAgaGlkZUVsZW1lbnRJbmZvKCk7XHJcbiAgICB9LFxyXG4gICAgb25TZWxlY3RTdGFydDogKGludGVyc2VjdGlvbiwgZSkgPT4ge1xyXG4gICAgICBjdHguZ290byA9IGludGVyc2VjdGlvbi5vYmplY3QudXNlckRhdGEucm9vbUluZGV4O1xyXG4gICAgfSxcclxuICAgIG9uU2VsZWN0RW5kOiAoaW50ZXJzZWN0aW9uKSA9PiB7fVxyXG4gIH0pO1xyXG5cclxuICBjdHgucmF5Y29udHJvbC5hZGRTdGF0ZSgnbG9iYnlFeHBSb29tcycsIHtcclxuICAgIGNvbGxpZGVyTWVzaDogWy4uLmV4cEJ1dHRvbnNdLFxyXG4gICAgY29udHJvbGxlcjogJ3ByaW1hcnknLFxyXG4gICAgb25Ib3ZlcjogKGludGVyc2VjdGlvbiwgYWN0aXZlKSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGludGVyc2VjdGlvbi5vYmplY3Q7XHJcbiAgICAgIGJ1dHRvbi5zY2FsZS5zZXRTY2FsYXIoYWN0aXZlID8gMS4yIDogMSk7XHJcbiAgICB9LFxyXG4gICAgb25Ib3ZlckxlYXZlOiAoaW50ZXJzZWN0aW9uKSA9PiB7fSxcclxuICAgIG9uU2VsZWN0U3RhcnQ6IChpbnRlcnNlY3Rpb24sIGUpID0+IHtcclxuICAgICAgY3R4LmdvdG8gPSBpbnRlcnNlY3Rpb24ub2JqZWN0LnVzZXJEYXRhLnJvb21JbmRleDtcclxuICAgIH0sXHJcbiAgICBvblNlbGVjdEVuZDogKGludGVyc2VjdGlvbikgPT4ge31cclxuICB9KTtcclxuXHJcbiAgY3R4LnJheWNvbnRyb2wuYWRkU3RhdGUoJ2xvYmJ5VGVsZXBvcnQnLCB7XHJcbiAgICBjb2xsaWRlck1lc2g6IHRlbGVwb3J0Rmxvb3IsXHJcbiAgICBjb250cm9sbGVyOiAncHJpbWFyeScsXHJcbiAgICBvbkhvdmVyOiAoaW50ZXJzZWN0aW9uLCBhY3RpdmUpID0+IHtcclxuICAgICAgY3R4LnRlbGVwb3J0Lm9uSG92ZXIoaW50ZXJzZWN0aW9uLnBvaW50LCBhY3RpdmUpO1xyXG4gICAgfSxcclxuICAgIG9uSG92ZXJMZWF2ZTogKCkgPT4ge1xyXG4gICAgICBjdHgudGVsZXBvcnQub25Ib3ZlckxlYXZlKCk7XHJcbiAgICB9LFxyXG4gICAgb25TZWxlY3RTdGFydDogKGludGVyc2VjdGlvbiwgZSkgPT4ge1xyXG4gICAgICBjdHgudGVsZXBvcnQub25TZWxlY3RTdGFydChlKTtcclxuICAgIH0sXHJcbiAgICBvblNlbGVjdEVuZDogKGludGVyc2VjdGlvbikgPT4ge1xyXG4gICAgICBjdHgudGVsZXBvcnQub25TZWxlY3RFbmQoaW50ZXJzZWN0aW9uLnBvaW50KTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0VsZW1lbnRJbmZvKGVsZW1lbnQpIHtcclxuICBpZiAoIWVsZW1lbnQgfHwgY3VycmVudFNlbGVjdGlvbiA9PT0gZWxlbWVudC5zeW1ib2wpIHJldHVybjtcclxuXHJcbiAgY3VycmVudFNlbGVjdGlvbiA9IGVsZW1lbnQuc3ltYm9sO1xyXG4gIGluZm9QYW5lbC52aXNpYmxlID0gdHJ1ZTtcclxuXHJcbiAgY29uc3QgdGl0bGVDb21wID0gaW5mb1BhbmVsLnVzZXJEYXRhLnRpdGxlVGV4dC5nZXRDb21wb25lbnQoVGV4dCk7XHJcbiAgdGl0bGVDb21wLnRleHQgPSBgJHtlbGVtZW50LnN5bWJvbH0gLSAke2VsZW1lbnQubmFtZX1gO1xyXG5cclxuICBjb25zdCBkZXNjQ29tcCA9IGluZm9QYW5lbC51c2VyRGF0YS5kZXNjVGV4dC5nZXRDb21wb25lbnQoVGV4dCk7XHJcbiAgZGVzY0NvbXAudGV4dCA9IGVsZW1lbnQuZGVzY3JpcHRpb247XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVFbGVtZW50SW5mbygpIHtcclxuICBjdXJyZW50U2VsZWN0aW9uID0gbnVsbDtcclxuICBpbmZvUGFuZWwudmlzaWJsZSA9IGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZW50ZXIoY3R4KSB7XHJcbiAgY3R4LnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwYTBhMWEpO1xyXG4gIGN0eC5zY2VuZS5hZGQoc2NlbmUpO1xyXG4gIGN0eC5yYXljb250cm9sLmFjdGl2YXRlU3RhdGUoJ2xvYmJ5RWxlbWVudHMnKTtcclxuICBjdHgucmF5Y29udHJvbC5hY3RpdmF0ZVN0YXRlKCdsb2JieUV4cFJvb21zJyk7XHJcbiAgY3R4LnJheWNvbnRyb2wuYWN0aXZhdGVTdGF0ZSgnbG9iYnlUZWxlcG9ydCcpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhpdChjdHgpIHtcclxuICBjdHgucmF5Y29udHJvbC5kZWFjdGl2YXRlU3RhdGUoJ2xvYmJ5RWxlbWVudHMnKTtcclxuICBjdHgucmF5Y29udHJvbC5kZWFjdGl2YXRlU3RhdGUoJ2xvYmJ5RXhwUm9vbXMnKTtcclxuICBjdHgucmF5Y29udHJvbC5kZWFjdGl2YXRlU3RhdGUoJ2xvYmJ5VGVsZXBvcnQnKTtcclxuICBjdHguc2NlbmUucmVtb3ZlKHNjZW5lKTtcclxuICBoaWRlRWxlbWVudEluZm8oKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGUoY3R4LCBkZWx0YSwgdGltZSkge1xyXG4gIGlmIChhdG9tQ29yZSkge1xyXG4gICAgYXRvbUNvcmUubWF0ZXJpYWwub3BhY2l0eSA9IDAuNiArIE1hdGguc2luKHRpbWUgKiAyKSAqIDAuMjtcclxuICAgIGF0b21Db3JlLnNjYWxlLnNldFNjYWxhcigxICsgTWF0aC5zaW4odGltZSAqIDMpICogMC4wNSk7XHJcbiAgfVxyXG5cclxuICBlbGVjdHJvbk9yYml0cy5mb3JFYWNoKGdyb3VwID0+IHtcclxuICAgIGNvbnN0IGVsZWN0cm9uID0gZ3JvdXAuY2hpbGRyZW5bMF07XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IGVsZWN0cm9uLnVzZXJEYXRhO1xyXG4gICAgdXNlckRhdGEuYW5nbGUgKz0gdXNlckRhdGEuc3BlZWQgKiBkZWx0YTtcclxuICAgIGVsZWN0cm9uLnBvc2l0aW9uLnggPSBNYXRoLmNvcyh1c2VyRGF0YS5hbmdsZSkgKiB1c2VyRGF0YS5yYWRpdXM7XHJcbiAgICBlbGVjdHJvbi5wb3NpdGlvbi56ID0gTWF0aC5zaW4odXNlckRhdGEuYW5nbGUpICogdXNlckRhdGEucmFkaXVzO1xyXG4gIH0pO1xyXG5cclxuICBpZiAocGVyaW9kaWNUYWJsZU1lc2gpIHtcclxuICAgIHBlcmlvZGljVGFibGVNZXNoLnJvdGF0aW9uLnkgPSB0aW1lICogMC4xO1xyXG4gICAgcGVyaW9kaWNUYWJsZU1lc2gucG9zaXRpb24ueSA9IDIgKyBNYXRoLnNpbih0aW1lICogMC41KSAqIDAuMjtcclxuICB9XHJcblxyXG4gIGVsZW1lbnRCdXR0b25zLmZvckVhY2goKGJ1dHRvbiwgaSkgPT4ge1xyXG4gICAgYnV0dG9uLnBvc2l0aW9uLnkgPSAxLjYgKyBNYXRoLnNpbih0aW1lICogMiArIGkgKiAwLjUpICogMC4xO1xyXG4gIH0pO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/rooms/Lobby.js\n");

/***/ }),

/***/ "./src/systems/AreaCheckerSystem.js":
/*!******************************************!*\
  !*** ./src/systems/AreaCheckerSystem.js ***!
  \******************************************/
/*! exports provided: AreaCheckerSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AreaCheckerSystem\", function() { return AreaCheckerSystem; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var ecsy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ecsy */ \"./node_modules/ecsy/build/ecsy.module.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n\n\n\nclass AreaCheckerSystem extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"System\"] {\n  execute(delta, time) {\n    const areas = this.queries.areas.results;\n    const checkers = this.queries.checkers.results;\n    for (let i = 0; i < areas.length; i++) {\n      const area = areas[i];\n      const bboxArea = area.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"BoundingBox\"]);\n      for (let j = 0; j < checkers.length; j++) {\n        const checker = checkers[j];\n        const obj3D = checker.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Object3D\"]).value;\n        if (obj3D.boundingBox.intersectsBox(bboxArea)) {\n          checker.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"AreaInside\"]);\n        } else {\n          checker.removeComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"AreaInside\"]);\n        }\n      }\n    }\n  }\n}\nAreaCheckerSystem.queries = {\n  areas: {\n    components: [_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Area\"], _components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"BoundingBox\"]]\n  },\n  checkers: {\n    components: [_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"AreaChecker\"], _components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Object3D\"]]\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3lzdGVtcy9BcmVhQ2hlY2tlclN5c3RlbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zeXN0ZW1zL0FyZWFDaGVja2VyU3lzdGVtLmpzP2Q2OGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gJ2Vjc3knO1xuaW1wb3J0IHtBcmVhLCBBcmVhSW5zaWRlLCBBcmVhRXhpdGluZywgQXJlYUVudGVyaW5nLCBPYmplY3QzRCwgQXJlYUNoZWNrZXIsIEJvdW5kaW5nQm94fSBmcm9tICcuLi9jb21wb25lbnRzL2luZGV4LmpzJztcblxuZXhwb3J0IGNsYXNzIEFyZWFDaGVja2VyU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgZXhlY3V0ZShkZWx0YSwgdGltZSkge1xuICAgIGNvbnN0IGFyZWFzID0gdGhpcy5xdWVyaWVzLmFyZWFzLnJlc3VsdHM7XG4gICAgY29uc3QgY2hlY2tlcnMgPSB0aGlzLnF1ZXJpZXMuY2hlY2tlcnMucmVzdWx0cztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJlYXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFyZWEgPSBhcmVhc1tpXTtcbiAgICAgIGNvbnN0IGJib3hBcmVhID0gYXJlYS5nZXRDb21wb25lbnQoQm91bmRpbmdCb3gpO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoZWNrZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrZXIgPSBjaGVja2Vyc1tqXTtcbiAgICAgICAgY29uc3Qgb2JqM0QgPSBjaGVja2VyLmdldENvbXBvbmVudChPYmplY3QzRCkudmFsdWU7XG4gICAgICAgIGlmIChvYmozRC5ib3VuZGluZ0JveC5pbnRlcnNlY3RzQm94KGJib3hBcmVhKSkge1xuICAgICAgICAgIGNoZWNrZXIuYWRkQ29tcG9uZW50KEFyZWFJbnNpZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrZXIucmVtb3ZlQ29tcG9uZW50KEFyZWFJbnNpZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkFyZWFDaGVja2VyU3lzdGVtLnF1ZXJpZXMgPSB7XG4gIGFyZWFzOiB7XG4gICAgY29tcG9uZW50czogW0FyZWEsIEJvdW5kaW5nQm94XSxcbiAgfSxcbiAgY2hlY2tlcnM6IHtcbiAgICBjb21wb25lbnRzOiBbQXJlYUNoZWNrZXIsIE9iamVjdDNEXVxuICB9XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/systems/AreaCheckerSystem.js\n");

/***/ }),

/***/ "./src/systems/BillboardSystem.js":
/*!****************************************!*\
  !*** ./src/systems/BillboardSystem.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BillboardSystem; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var ecsy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ecsy */ \"./node_modules/ecsy/build/ecsy.module.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n\n\n\nconst SHOW_DISTANCE = 4;\nvar cameraPosition = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\nclass BillboardSystem extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"System\"] {\n  execute(delta, time) {\n    window.context.camera.getWorldPosition(cameraPosition);\n    this.queries.entities.results.forEach(entity => {\n      const object3D = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Object3D\"]).value;\n      const distance = cameraPosition.distanceTo(object3D.position);\n      let opacity = 0;\n      if (distance < SHOW_DISTANCE) {\n        opacity = three__WEBPACK_IMPORTED_MODULE_0__[\"Math\"].clamp(Math.sqrt(SHOW_DISTANCE - distance), 0, 1);\n        object3D.lookAt(cameraPosition);\n      }\n      object3D.material.opacity = opacity;\n      // panels text parent\n      if (entity.hasComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Children\"])) {\n        entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Children\"]).value.forEach(children => {\n          let prevOpacity = children.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Text\"]).opacity;\n          if (prevOpacity !== opacity) {\n            children.getMutableComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Text\"]).opacity = opacity;\n          }\n        });\n      }\n    });\n  }\n}\nBillboardSystem.queries = {\n  entities: {\n    components: [_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Billboard\"], _components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Object3D\"]]\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3lzdGVtcy9CaWxsYm9hcmRTeXN0ZW0uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3lzdGVtcy9CaWxsYm9hcmRTeXN0ZW0uanM/Yzk3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSAnZWNzeSc7XG5pbXBvcnQge0JpbGxib2FyZCwgT2JqZWN0M0QsIENoaWxkcmVuLCBUZXh0LCBQb3NpdGlvbn0gZnJvbSAnLi4vY29tcG9uZW50cy9pbmRleC5qcyc7XG5cbmNvbnN0IFNIT1dfRElTVEFOQ0UgPSA0O1xuXG52YXIgY2FtZXJhUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaWxsYm9hcmRTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICBleGVjdXRlKGRlbHRhLCB0aW1lKSB7XG5cbiAgICB3aW5kb3cuY29udGV4dC5jYW1lcmEuZ2V0V29ybGRQb3NpdGlvbihjYW1lcmFQb3NpdGlvbik7XG5cbiAgICB0aGlzLnF1ZXJpZXMuZW50aXRpZXMucmVzdWx0cy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBjb25zdCBvYmplY3QzRCA9IGVudGl0eS5nZXRDb21wb25lbnQoT2JqZWN0M0QpLnZhbHVlO1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBjYW1lcmFQb3NpdGlvbi5kaXN0YW5jZVRvKG9iamVjdDNELnBvc2l0aW9uKTtcbiAgICAgIGxldCBvcGFjaXR5ID0gMDtcblxuICAgICAgaWYgKGRpc3RhbmNlIDwgU0hPV19ESVNUQU5DRSl7XG4gICAgICAgIG9wYWNpdHkgPSBUSFJFRS5NYXRoLmNsYW1wKE1hdGguc3FydChTSE9XX0RJU1RBTkNFIC0gZGlzdGFuY2UpLCAwLCAxKTtcbiAgICAgICAgb2JqZWN0M0QubG9va0F0KGNhbWVyYVBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgb2JqZWN0M0QubWF0ZXJpYWwub3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgICAvLyBwYW5lbHMgdGV4dCBwYXJlbnRcbiAgICAgIGlmIChlbnRpdHkuaGFzQ29tcG9uZW50KENoaWxkcmVuKSkge1xuICAgICAgICBlbnRpdHkuZ2V0Q29tcG9uZW50KENoaWxkcmVuKS52YWx1ZS5mb3JFYWNoKGNoaWxkcmVuID0+IHtcbiAgICAgICAgICBsZXQgcHJldk9wYWNpdHkgPSBjaGlsZHJlbi5nZXRDb21wb25lbnQoVGV4dCkub3BhY2l0eTtcbiAgICAgICAgICBpZiAocHJldk9wYWNpdHkgIT09IG9wYWNpdHkpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuLmdldE11dGFibGVDb21wb25lbnQoVGV4dCkub3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5CaWxsYm9hcmRTeXN0ZW0ucXVlcmllcyA9IHtcbiAgZW50aXRpZXM6IHtcbiAgICBjb21wb25lbnRzOiBbQmlsbGJvYXJkLCBPYmplY3QzRF1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/systems/BillboardSystem.js\n");

/***/ }),

/***/ "./src/systems/ControllersSystem.js":
/*!******************************************!*\
  !*** ./src/systems/ControllersSystem.js ***!
  \******************************************/
/*! exports provided: ControllersSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ControllersSystem\", function() { return ControllersSystem; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var ecsy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ecsy */ \"./node_modules/ecsy/build/ecsy.module.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n\n\n\nclass ControllersSystem extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"System\"] {\n  execute(delta, time) {\n    const added = this.queries.checkers.added;\n    const removed = this.queries.checkers.removed;\n    for (let i = 0; i < added.length; i++) {\n      const entity = added[i];\n      const reactor = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"AreaReactor\"]);\n      reactor.onEntering(entity);\n    }\n    for (let i = 0; i < removed.length; i++) {\n      const entity = removed[i];\n      const reactor = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"AreaReactor\"]);\n      reactor.onExiting(entity);\n    }\n  }\n}\nControllersSystem.queries = {\n  checkers: {\n    components: [_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"AreaChecker\"], _components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Object3D\"], _components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"AreaInside\"]],\n    listen: {\n      added: true,\n      removed: true\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3lzdGVtcy9Db250cm9sbGVyc1N5c3RlbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zeXN0ZW1zL0NvbnRyb2xsZXJzU3lzdGVtLmpzPzI5ZmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHtTeXN0ZW19IGZyb20gJ2Vjc3knO1xuaW1wb3J0IHtBcmVhLCBBcmVhUmVhY3RvciwgQXJlYUluc2lkZSwgQXJlYUV4aXRpbmcsIEFyZWFFbnRlcmluZywgT2JqZWN0M0QsIEFyZWFDaGVja2VyLCBCb3VuZGluZ0JveH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbmRleC5qcyc7XG5cbmV4cG9ydCBjbGFzcyBDb250cm9sbGVyc1N5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gIGV4ZWN1dGUoZGVsdGEsIHRpbWUpIHtcbiAgICBjb25zdCBhZGRlZCA9IHRoaXMucXVlcmllcy5jaGVja2Vycy5hZGRlZDtcbiAgICBjb25zdCByZW1vdmVkID0gdGhpcy5xdWVyaWVzLmNoZWNrZXJzLnJlbW92ZWQ7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbnRpdHkgPSBhZGRlZFtpXTtcbiAgICAgIGNvbnN0IHJlYWN0b3IgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KEFyZWFSZWFjdG9yKTtcbiAgICAgIHJlYWN0b3Iub25FbnRlcmluZyhlbnRpdHkpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZW50aXR5ID0gcmVtb3ZlZFtpXTtcbiAgICAgIGNvbnN0IHJlYWN0b3IgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KEFyZWFSZWFjdG9yKTtcbiAgICAgIHJlYWN0b3Iub25FeGl0aW5nKGVudGl0eSk7XG4gICAgfVxuICB9XG59XG5cbkNvbnRyb2xsZXJzU3lzdGVtLnF1ZXJpZXMgPSB7XG4gIGNoZWNrZXJzOiB7XG4gICAgY29tcG9uZW50czogW0FyZWFDaGVja2VyLCBPYmplY3QzRCwgQXJlYUluc2lkZV0sXG4gICAgbGlzdGVuOiB7XG4gICAgICBhZGRlZDogdHJ1ZSxcbiAgICAgIHJlbW92ZWQ6IHRydWVcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/systems/ControllersSystem.js\n");

/***/ }),

/***/ "./src/systems/DebugHelperSystem.js":
/*!******************************************!*\
  !*** ./src/systems/DebugHelperSystem.js ***!
  \******************************************/
/*! exports provided: DebugHelperSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DebugHelperSystem\", function() { return DebugHelperSystem; });\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n/* harmony import */ var ecsy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ecsy */ \"./node_modules/ecsy/build/ecsy.module.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\n\n\nthree__WEBPACK_IMPORTED_MODULE_2__[\"BoxHelper\"].prototype.setFromMinMax = function (min, max) {\n  var position = this.geometry.attributes.position;\n  var array = position.array;\n  array[0] = max.x;\n  array[1] = max.y;\n  array[2] = max.z;\n  array[3] = min.x;\n  array[4] = max.y;\n  array[5] = max.z;\n  array[6] = min.x;\n  array[7] = min.y;\n  array[8] = max.z;\n  array[9] = max.x;\n  array[10] = min.y;\n  array[11] = max.z;\n  array[12] = max.x;\n  array[13] = max.y;\n  array[14] = min.z;\n  array[15] = min.x;\n  array[16] = max.y;\n  array[17] = min.z;\n  array[18] = min.x;\n  array[19] = min.y;\n  array[20] = min.z;\n  array[21] = max.x;\n  array[22] = min.y;\n  array[23] = min.z;\n  position.needsUpdate = true;\n  this.geometry.computeBoundingSphere();\n};\nclass DebugHelperMesh extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"SystemStateComponent\"] {\n  constructor() {\n    super();\n    this.boxHelper = new three__WEBPACK_IMPORTED_MODULE_2__[\"BoxHelper\"]();\n  }\n}\nclass DebugHelperSystem extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"System\"] {\n  execute(delta, time) {\n    this.queries.added.results.forEach(entity => {\n      entity.addComponent(DebugHelperMesh);\n      var boundingBox = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_0__[\"BoundingBox\"]);\n      let debugMesh = entity.getMutableComponent(DebugHelperMesh);\n      debugMesh.boxHelper.setFromMinMax(boundingBox.min, boundingBox.max);\n      entity.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_0__[\"Object3D\"], {\n        value: debugMesh.boxHelper\n      });\n    });\n    this.queries.removed.results.forEach(entity => {\n      //var boundingBox = entity.getComponent(DebugHelperMesh);\n      entity.removeComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_0__[\"Object3D\"]).removeComponent(DebugHelperMesh);\n\n      /*\n            entity.addComponent(Object3D, {value: debugMesh.boxHelper});\n      \n            let debugMesh = entity.getMutableComponent(DebugHelperMesh);\n            debugMesh.boxHelper.setFromMinMax(boundingBox.min, boundingBox.max);\n            entity.addComponent(Object3D, {value: debugMesh.boxHelper});\n      */\n    });\n  }\n}\nDebugHelperSystem.queries = {\n  added: {\n    components: [_components_index_js__WEBPACK_IMPORTED_MODULE_0__[\"DebugHelper\"], Object(ecsy__WEBPACK_IMPORTED_MODULE_1__[\"Not\"])(DebugHelperMesh)]\n  },\n  removed: {\n    components: [Object(ecsy__WEBPACK_IMPORTED_MODULE_1__[\"Not\"])(_components_index_js__WEBPACK_IMPORTED_MODULE_0__[\"DebugHelper\"]), DebugHelperMesh]\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3lzdGVtcy9EZWJ1Z0hlbHBlclN5c3RlbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zeXN0ZW1zL0RlYnVnSGVscGVyU3lzdGVtLmpzP2EzYjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtPYmplY3QzRCwgRGVidWdIZWxwZXIsIEJvdW5kaW5nQm94fSBmcm9tICcuLi9jb21wb25lbnRzL2luZGV4LmpzJztcbmltcG9ydCB7U3lzdGVtLCBTeXN0ZW1TdGF0ZUNvbXBvbmVudCwgTm90fSBmcm9tICdlY3N5JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuVEhSRUUuQm94SGVscGVyLnByb3RvdHlwZS5zZXRGcm9tTWluTWF4ID0gZnVuY3Rpb24obWluLCBtYXgpIHtcblx0dmFyIHBvc2l0aW9uID0gdGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXHR2YXIgYXJyYXkgPSBwb3NpdGlvbi5hcnJheTtcblxuXHRhcnJheVsgMCBdID0gbWF4Lng7IGFycmF5WyAxIF0gPSBtYXgueTsgYXJyYXlbIDIgXSA9IG1heC56O1xuXHRhcnJheVsgMyBdID0gbWluLng7IGFycmF5WyA0IF0gPSBtYXgueTsgYXJyYXlbIDUgXSA9IG1heC56O1xuXHRhcnJheVsgNiBdID0gbWluLng7IGFycmF5WyA3IF0gPSBtaW4ueTsgYXJyYXlbIDggXSA9IG1heC56O1xuXHRhcnJheVsgOSBdID0gbWF4Lng7IGFycmF5WyAxMCBdID0gbWluLnk7IGFycmF5WyAxMSBdID0gbWF4Lno7XG5cdGFycmF5WyAxMiBdID0gbWF4Lng7IGFycmF5WyAxMyBdID0gbWF4Lnk7IGFycmF5WyAxNCBdID0gbWluLno7XG5cdGFycmF5WyAxNSBdID0gbWluLng7IGFycmF5WyAxNiBdID0gbWF4Lnk7IGFycmF5WyAxNyBdID0gbWluLno7XG5cdGFycmF5WyAxOCBdID0gbWluLng7IGFycmF5WyAxOSBdID0gbWluLnk7IGFycmF5WyAyMCBdID0gbWluLno7XG5cdGFycmF5WyAyMSBdID0gbWF4Lng7IGFycmF5WyAyMiBdID0gbWluLnk7IGFycmF5WyAyMyBdID0gbWluLno7XG5cblx0cG9zaXRpb24ubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG5cdHRoaXMuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7XG59XG5cbmNsYXNzIERlYnVnSGVscGVyTWVzaCBleHRlbmRzIFN5c3RlbVN0YXRlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmJveEhlbHBlciA9IG5ldyBUSFJFRS5Cb3hIZWxwZXIoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVidWdIZWxwZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICBleGVjdXRlKGRlbHRhLCB0aW1lKSB7XG4gICAgdGhpcy5xdWVyaWVzLmFkZGVkLnJlc3VsdHMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgZW50aXR5LmFkZENvbXBvbmVudChEZWJ1Z0hlbHBlck1lc2gpO1xuICAgICAgdmFyIGJvdW5kaW5nQm94ID0gZW50aXR5LmdldENvbXBvbmVudChCb3VuZGluZ0JveCk7XG4gICAgICBsZXQgZGVidWdNZXNoID0gZW50aXR5LmdldE11dGFibGVDb21wb25lbnQoRGVidWdIZWxwZXJNZXNoKTtcbiAgICAgIGRlYnVnTWVzaC5ib3hIZWxwZXIuc2V0RnJvbU1pbk1heChib3VuZGluZ0JveC5taW4sIGJvdW5kaW5nQm94Lm1heCk7XG5cbiAgICAgIGVudGl0eS5hZGRDb21wb25lbnQoT2JqZWN0M0QsIHt2YWx1ZTogZGVidWdNZXNoLmJveEhlbHBlcn0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5xdWVyaWVzLnJlbW92ZWQucmVzdWx0cy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICAvL3ZhciBib3VuZGluZ0JveCA9IGVudGl0eS5nZXRDb21wb25lbnQoRGVidWdIZWxwZXJNZXNoKTtcbiAgICAgIGVudGl0eS5yZW1vdmVDb21wb25lbnQoT2JqZWN0M0QpLnJlbW92ZUNvbXBvbmVudChEZWJ1Z0hlbHBlck1lc2gpO1xuXG4vKlxuICAgICAgZW50aXR5LmFkZENvbXBvbmVudChPYmplY3QzRCwge3ZhbHVlOiBkZWJ1Z01lc2guYm94SGVscGVyfSk7XG5cbiAgICAgIGxldCBkZWJ1Z01lc2ggPSBlbnRpdHkuZ2V0TXV0YWJsZUNvbXBvbmVudChEZWJ1Z0hlbHBlck1lc2gpO1xuICAgICAgZGVidWdNZXNoLmJveEhlbHBlci5zZXRGcm9tTWluTWF4KGJvdW5kaW5nQm94Lm1pbiwgYm91bmRpbmdCb3gubWF4KTtcbiAgICAgIGVudGl0eS5hZGRDb21wb25lbnQoT2JqZWN0M0QsIHt2YWx1ZTogZGVidWdNZXNoLmJveEhlbHBlcn0pO1xuKi9cbiAgICB9KTtcbiAgfVxufVxuXG5EZWJ1Z0hlbHBlclN5c3RlbS5xdWVyaWVzID0ge1xuICBhZGRlZDoge1xuICAgIGNvbXBvbmVudHM6IFtEZWJ1Z0hlbHBlciwgTm90KERlYnVnSGVscGVyTWVzaCldXG4gIH0sXG4gIHJlbW92ZWQ6IHtcbiAgICBjb21wb25lbnRzOiBbTm90KERlYnVnSGVscGVyKSwgRGVidWdIZWxwZXJNZXNoXVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/systems/DebugHelperSystem.js\n");

/***/ }),

/***/ "./src/systems/HierarchySystem.js":
/*!****************************************!*\
  !*** ./src/systems/HierarchySystem.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return HierarchySystem; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var ecsy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ecsy */ \"./node_modules/ecsy/build/ecsy.module.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n\n\n\nclass HierarchySystem extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"System\"] {\n  execute(delta, time) {\n    this.queries.entities.added.forEach(entity => {\n      const parent = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"ParentObject3D\"]).value;\n      const object = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Object3D\"]).value;\n      parent.add(object);\n    });\n    this.queries.entities.changed.forEach(entity => {\n      const parent = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"ParentObject3D\"]).value;\n      const object = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Object3D\"]).value;\n      parent.add(object);\n    });\n    this.queries.entities.removed.forEach(entity => {\n      const parent = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"ParentObject3D\"], true).value;\n      parent.remove(entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Object3D\"], true).value);\n    });\n  }\n}\nHierarchySystem.queries = {\n  entities: {\n    components: [_components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"Object3D\"], _components_index_js__WEBPACK_IMPORTED_MODULE_2__[\"ParentObject3D\"]],\n    listen: {\n      added: true,\n      removed: true,\n      changed: true // [Component]\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3lzdGVtcy9IaWVyYXJjaHlTeXN0ZW0uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3lzdGVtcy9IaWVyYXJjaHlTeXN0ZW0uanM/ZTQwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQge1N5c3RlbX0gZnJvbSAnZWNzeSc7XG5pbXBvcnQge09iamVjdDNELCBQYXJlbnRPYmplY3QzRH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhpZXJhcmNoeVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gIGV4ZWN1dGUoZGVsdGEsIHRpbWUpIHtcbiAgICB0aGlzLnF1ZXJpZXMuZW50aXRpZXMuYWRkZWQuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgY29uc3QgcGFyZW50ID0gZW50aXR5LmdldENvbXBvbmVudChQYXJlbnRPYmplY3QzRCkudmFsdWU7XG4gICAgICBjb25zdCBvYmplY3QgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KE9iamVjdDNEKS52YWx1ZTtcblxuICAgICAgcGFyZW50LmFkZChvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5xdWVyaWVzLmVudGl0aWVzLmNoYW5nZWQuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgY29uc3QgcGFyZW50ID0gZW50aXR5LmdldENvbXBvbmVudChQYXJlbnRPYmplY3QzRCkudmFsdWU7XG4gICAgICBjb25zdCBvYmplY3QgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KE9iamVjdDNEKS52YWx1ZTtcblxuICAgICAgcGFyZW50LmFkZChvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5xdWVyaWVzLmVudGl0aWVzLnJlbW92ZWQuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgY29uc3QgcGFyZW50ID0gZW50aXR5LmdldENvbXBvbmVudChQYXJlbnRPYmplY3QzRCwgdHJ1ZSkudmFsdWU7XG4gICAgICBwYXJlbnQucmVtb3ZlKGVudGl0eS5nZXRDb21wb25lbnQoT2JqZWN0M0QsIHRydWUpLnZhbHVlKTtcbiAgICB9KTtcbiAgfVxufVxuXG5IaWVyYXJjaHlTeXN0ZW0ucXVlcmllcyA9IHtcbiAgZW50aXRpZXM6IHtcbiAgICBjb21wb25lbnRzOiBbT2JqZWN0M0QsIFBhcmVudE9iamVjdDNEXSxcbiAgICBsaXN0ZW46IHtcbiAgICAgIGFkZGVkOiB0cnVlLFxuICAgICAgcmVtb3ZlZDogdHJ1ZSxcbiAgICAgIGNoYW5nZWQ6IHRydWUgLy8gW0NvbXBvbmVudF1cbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/systems/HierarchySystem.js\n");

/***/ }),

/***/ "./src/systems/SDFTextSystem.js":
/*!**************************************!*\
  !*** ./src/systems/SDFTextSystem.js ***!
  \**************************************/
/*! exports provided: SDFTextSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SDFTextSystem\", function() { return SDFTextSystem; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var ecsy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ecsy */ \"./node_modules/ecsy/build/ecsy.module.js\");\n/* harmony import */ var troika_3d_text_dist_textmesh_standalone_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! troika-3d-text/dist/textmesh-standalone.esm.js */ \"./node_modules/troika-3d-text/dist/textmesh-standalone.esm.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n\n\n\n\nconst anchorMapping = {\n  'left': 0,\n  'center': 0.5,\n  'right': 1\n};\nconst baselineMapping = {\n  'top': 0,\n  'center': 0.5,\n  'bottom': 1\n};\nclass SDFTextSystem extends ecsy__WEBPACK_IMPORTED_MODULE_1__[\"System\"] {\n  updateText(textMesh, textComponent) {\n    textMesh.text = textComponent.text;\n    textMesh.textAlign = textComponent.textAlign;\n    textMesh.anchor[0] = anchorMapping[textComponent.anchor];\n    textMesh.anchor[1] = baselineMapping[textComponent.baseline];\n    textMesh.color = textComponent.color;\n    textMesh.font = textComponent.font;\n    textMesh.fontSize = textComponent.fontSize;\n    textMesh.letterSpacing = textComponent.letterSpacing || 0;\n    textMesh.lineHeight = textComponent.lineHeight || null;\n    textMesh.overflowWrap = textComponent.overflowWrap;\n    textMesh.whiteSpace = textComponent.whiteSpace;\n    textMesh.maxWidth = textComponent.maxWidth;\n    textMesh.material.opacity = textComponent.opacity;\n    textMesh.sync();\n  }\n  execute(delta, time) {\n    var entities = this.queries.entities;\n    entities.added.forEach(e => {\n      var textComponent = e.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_3__[\"Text\"]);\n      const textMesh = new troika_3d_text_dist_textmesh_standalone_esm_js__WEBPACK_IMPORTED_MODULE_2__[\"TextMesh\"]();\n      textMesh.name = 'textMesh';\n      textMesh.anchor = [0, 0];\n      textMesh.renderOrder = 1; //brute-force fix for ugly antialiasing, see issue #67\n      this.updateText(textMesh, textComponent);\n      e.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_3__[\"Object3D\"], {\n        value: textMesh\n      });\n    });\n    entities.removed.forEach(e => {\n      var object3D = e.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_3__[\"Object3D\"]).value;\n      var textMesh = object3D.getObjectByName('textMesh');\n      textMesh.dispose();\n      object3D.remove(textMesh);\n    });\n    entities.changed.forEach(e => {\n      var object3D = e.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_3__[\"Object3D\"]).value;\n      if (object3D instanceof troika_3d_text_dist_textmesh_standalone_esm_js__WEBPACK_IMPORTED_MODULE_2__[\"TextMesh\"]) {\n        var textComponent = e.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_3__[\"Text\"]);\n        this.updateText(object3D, textComponent);\n      }\n    });\n  }\n}\nSDFTextSystem.queries = {\n  entities: {\n    components: [_components_index_js__WEBPACK_IMPORTED_MODULE_3__[\"Text\"]],\n    listen: {\n      added: true,\n      removed: true,\n      changed: [_components_index_js__WEBPACK_IMPORTED_MODULE_3__[\"Text\"]]\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3lzdGVtcy9TREZUZXh0U3lzdGVtLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvU0RGVGV4dFN5c3RlbS5qcz9mMzhhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7U3lzdGVtfSBmcm9tICdlY3N5JztcbmltcG9ydCB7VGV4dE1lc2h9IGZyb20gJ3Ryb2lrYS0zZC10ZXh0L2Rpc3QvdGV4dG1lc2gtc3RhbmRhbG9uZS5lc20uanMnO1xuaW1wb3J0IHtPYmplY3QzRCwgVGV4dH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbmRleC5qcyc7XG5cbmNvbnN0IGFuY2hvck1hcHBpbmcgPSB7XG4gICdsZWZ0JzogMCxcbiAgJ2NlbnRlcic6IDAuNSxcbiAgJ3JpZ2h0JzogMVxufVxuY29uc3QgYmFzZWxpbmVNYXBwaW5nID0ge1xuICAndG9wJzogMCxcbiAgJ2NlbnRlcic6IDAuNSxcbiAgJ2JvdHRvbSc6IDFcbn1cblxuZXhwb3J0IGNsYXNzIFNERlRleHRTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuXG4gIHVwZGF0ZVRleHQodGV4dE1lc2gsIHRleHRDb21wb25lbnQpIHtcbiAgICB0ZXh0TWVzaC50ZXh0ID0gdGV4dENvbXBvbmVudC50ZXh0O1xuICAgIHRleHRNZXNoLnRleHRBbGlnbiA9IHRleHRDb21wb25lbnQudGV4dEFsaWduO1xuICAgIHRleHRNZXNoLmFuY2hvclswXSA9IGFuY2hvck1hcHBpbmdbdGV4dENvbXBvbmVudC5hbmNob3JdO1xuICAgIHRleHRNZXNoLmFuY2hvclsxXSA9IGJhc2VsaW5lTWFwcGluZ1t0ZXh0Q29tcG9uZW50LmJhc2VsaW5lXTtcbiAgICB0ZXh0TWVzaC5jb2xvciA9IHRleHRDb21wb25lbnQuY29sb3I7XG4gICAgdGV4dE1lc2guZm9udCA9IHRleHRDb21wb25lbnQuZm9udDtcbiAgICB0ZXh0TWVzaC5mb250U2l6ZSA9IHRleHRDb21wb25lbnQuZm9udFNpemU7XG4gICAgdGV4dE1lc2gubGV0dGVyU3BhY2luZyA9IHRleHRDb21wb25lbnQubGV0dGVyU3BhY2luZyB8fCAwO1xuICAgIHRleHRNZXNoLmxpbmVIZWlnaHQgPSB0ZXh0Q29tcG9uZW50LmxpbmVIZWlnaHQgfHwgbnVsbDtcbiAgICB0ZXh0TWVzaC5vdmVyZmxvd1dyYXAgPSB0ZXh0Q29tcG9uZW50Lm92ZXJmbG93V3JhcDtcbiAgICB0ZXh0TWVzaC53aGl0ZVNwYWNlID0gdGV4dENvbXBvbmVudC53aGl0ZVNwYWNlO1xuICAgIHRleHRNZXNoLm1heFdpZHRoID0gdGV4dENvbXBvbmVudC5tYXhXaWR0aDtcbiAgICB0ZXh0TWVzaC5tYXRlcmlhbC5vcGFjaXR5ID0gdGV4dENvbXBvbmVudC5vcGFjaXR5O1xuICAgIHRleHRNZXNoLnN5bmMoKTtcbiAgfVxuXG4gIGV4ZWN1dGUoZGVsdGEsIHRpbWUpIHtcbiAgICB2YXIgZW50aXRpZXMgPSB0aGlzLnF1ZXJpZXMuZW50aXRpZXM7XG5cbiAgICBlbnRpdGllcy5hZGRlZC5mb3JFYWNoKGUgPT4ge1xuICAgICAgdmFyIHRleHRDb21wb25lbnQgPSBlLmdldENvbXBvbmVudChUZXh0KTtcblxuICAgICAgY29uc3QgdGV4dE1lc2ggPSBuZXcgVGV4dE1lc2goKTtcbiAgICAgIHRleHRNZXNoLm5hbWUgPSAndGV4dE1lc2gnO1xuICAgICAgdGV4dE1lc2guYW5jaG9yID0gWzAsIDBdO1xuICAgICAgdGV4dE1lc2gucmVuZGVyT3JkZXIgPSAxOyAvL2JydXRlLWZvcmNlIGZpeCBmb3IgdWdseSBhbnRpYWxpYXNpbmcsIHNlZSBpc3N1ZSAjNjdcbiAgICAgIHRoaXMudXBkYXRlVGV4dCh0ZXh0TWVzaCwgdGV4dENvbXBvbmVudCk7XG4gICAgICBlLmFkZENvbXBvbmVudChPYmplY3QzRCwge3ZhbHVlOiB0ZXh0TWVzaH0pO1xuICAgIH0pO1xuXG4gICAgZW50aXRpZXMucmVtb3ZlZC5mb3JFYWNoKGUgPT4ge1xuICAgICAgdmFyIG9iamVjdDNEID0gZS5nZXRDb21wb25lbnQoT2JqZWN0M0QpLnZhbHVlO1xuICAgICAgdmFyIHRleHRNZXNoID0gb2JqZWN0M0QuZ2V0T2JqZWN0QnlOYW1lKCd0ZXh0TWVzaCcpO1xuICAgICAgdGV4dE1lc2guZGlzcG9zZSgpO1xuICAgICAgb2JqZWN0M0QucmVtb3ZlKHRleHRNZXNoKTtcbiAgICB9KTtcblxuICAgIGVudGl0aWVzLmNoYW5nZWQuZm9yRWFjaChlID0+IHtcbiAgICAgIHZhciBvYmplY3QzRCA9IGUuZ2V0Q29tcG9uZW50KE9iamVjdDNEKS52YWx1ZTtcbiAgICAgIGlmIChvYmplY3QzRCBpbnN0YW5jZW9mIFRleHRNZXNoKSB7XG4gICAgICAgIHZhciB0ZXh0Q29tcG9uZW50ID0gZS5nZXRDb21wb25lbnQoVGV4dCk7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dChvYmplY3QzRCwgdGV4dENvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuU0RGVGV4dFN5c3RlbS5xdWVyaWVzID0ge1xuICBlbnRpdGllczoge1xuICAgIGNvbXBvbmVudHM6IFtUZXh0XSxcbiAgICBsaXN0ZW46IHtcbiAgICAgIGFkZGVkOiB0cnVlLFxuICAgICAgcmVtb3ZlZDogdHJ1ZSxcbiAgICAgIGNoYW5nZWQ6IFtUZXh0XVxuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/systems/SDFTextSystem.js\n");

/***/ }),

/***/ "./src/systems/SystemsGroup.js":
/*!*************************************!*\
  !*** ./src/systems/SystemsGroup.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SystemsGroup; });\nclass SystemsGroup {\n  constructor(world, Systems) {\n    this.Systems = Systems;\n    this.world = world;\n  }\n  play() {\n    this.Systems.forEach(System => this.world.getSystem(System).play());\n  }\n  stop() {\n    this.Systems.forEach(System => this.world.getSystem(System).stop());\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3lzdGVtcy9TeXN0ZW1zR3JvdXAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3lzdGVtcy9TeXN0ZW1zR3JvdXAuanM/M2ExYiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTeXN0ZW1zR3JvdXAge1xuICBjb25zdHJ1Y3Rvcih3b3JsZCwgU3lzdGVtcykge1xuICAgIHRoaXMuU3lzdGVtcyA9IFN5c3RlbXM7XG4gICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICB9XG5cbiAgcGxheSgpIHtcbiAgICB0aGlzLlN5c3RlbXMuZm9yRWFjaChTeXN0ZW0gPT4gdGhpcy53b3JsZC5nZXRTeXN0ZW0oU3lzdGVtKS5wbGF5KCkpO1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLlN5c3RlbXMuZm9yRWFjaChTeXN0ZW0gPT4gdGhpcy53b3JsZC5nZXRTeXN0ZW0oU3lzdGVtKS5zdG9wKCkpO1xuICB9XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/systems/SystemsGroup.js\n");

/***/ }),

/***/ "./src/systems/TransformSystem.js":
/*!****************************************!*\
  !*** ./src/systems/TransformSystem.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TransformSystem; });\n/* harmony import */ var ecsy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ecsy */ \"./node_modules/ecsy/build/ecsy.module.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n\n\nlet updateRotation = entity => {\n  const rotation = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Rotation\"]);\n  const object3D = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Object3D\"]).value;\n  object3D.rotation.set(rotation.x, rotation.y, rotation.z);\n};\nlet updatePosition = entity => {\n  const position = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"]);\n  const object3D = entity.getComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Object3D\"]).value;\n  object3D.position.copy(position);\n};\nclass TransformSystem extends ecsy__WEBPACK_IMPORTED_MODULE_0__[\"System\"] {\n  execute(delta, time) {\n    // Position\n    this.queries.position.added.forEach(updatePosition);\n    this.queries.position.changed.forEach(updatePosition);\n\n    // Rotation\n    this.queries.rotation.added.forEach(updateRotation);\n    this.queries.rotation.changed.forEach(updateRotation);\n  }\n}\nTransformSystem.queries = {\n  position: {\n    components: [_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"], _components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Object3D\"]],\n    listen: {\n      added: true,\n      changed: true\n    }\n  },\n  rotation: {\n    components: [_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Rotation\"], _components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Object3D\"]],\n    listen: {\n      added: true,\n      changed: true\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3lzdGVtcy9UcmFuc2Zvcm1TeXN0ZW0uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3lzdGVtcy9UcmFuc2Zvcm1TeXN0ZW0uanM/YjA5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1N5c3RlbX0gZnJvbSAnZWNzeSc7XG5pbXBvcnQge09iamVjdDNELCBSb3RhdGlvbiwgUG9zaXRpb259IGZyb20gJy4uL2NvbXBvbmVudHMvaW5kZXguanMnO1xuXG5sZXQgdXBkYXRlUm90YXRpb24gPSBlbnRpdHkgPT4ge1xuICBjb25zdCByb3RhdGlvbiA9IGVudGl0eS5nZXRDb21wb25lbnQoUm90YXRpb24pO1xuICBjb25zdCBvYmplY3QzRCA9IGVudGl0eS5nZXRDb21wb25lbnQoT2JqZWN0M0QpLnZhbHVlO1xuICBvYmplY3QzRC5yb3RhdGlvbi5zZXQocm90YXRpb24ueCwgcm90YXRpb24ueSwgcm90YXRpb24ueik7XG59O1xuXG5sZXQgdXBkYXRlUG9zaXRpb24gPSBlbnRpdHkgPT4ge1xuICBjb25zdCBwb3NpdGlvbiA9IGVudGl0eS5nZXRDb21wb25lbnQoUG9zaXRpb24pO1xuICBjb25zdCBvYmplY3QzRCA9IGVudGl0eS5nZXRDb21wb25lbnQoT2JqZWN0M0QpLnZhbHVlO1xuICBvYmplY3QzRC5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zZm9ybVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gIGV4ZWN1dGUoZGVsdGEsIHRpbWUpIHtcbiAgICAvLyBQb3NpdGlvblxuICAgIHRoaXMucXVlcmllcy5wb3NpdGlvbi5hZGRlZC5mb3JFYWNoKHVwZGF0ZVBvc2l0aW9uKTtcbiAgICB0aGlzLnF1ZXJpZXMucG9zaXRpb24uY2hhbmdlZC5mb3JFYWNoKHVwZGF0ZVBvc2l0aW9uKTtcblxuICAgIC8vIFJvdGF0aW9uXG4gICAgdGhpcy5xdWVyaWVzLnJvdGF0aW9uLmFkZGVkLmZvckVhY2godXBkYXRlUm90YXRpb24pO1xuICAgIHRoaXMucXVlcmllcy5yb3RhdGlvbi5jaGFuZ2VkLmZvckVhY2godXBkYXRlUm90YXRpb24pO1xuICB9XG59XG5cblRyYW5zZm9ybVN5c3RlbS5xdWVyaWVzID0ge1xuICBwb3NpdGlvbjoge1xuICAgIGNvbXBvbmVudHM6IFtQb3NpdGlvbiwgT2JqZWN0M0RdLFxuICAgIGxpc3Rlbjoge1xuICAgICAgYWRkZWQ6IHRydWUsXG4gICAgICBjaGFuZ2VkOiB0cnVlXG4gICAgfVxuICB9LFxuICByb3RhdGlvbjoge1xuICAgIGNvbXBvbmVudHM6IFtSb3RhdGlvbiwgT2JqZWN0M0RdLFxuICAgIGxpc3Rlbjoge1xuICAgICAgYWRkZWQ6IHRydWUsXG4gICAgICBjaGFuZ2VkOiB0cnVlXG4gICAgfVxuICB9XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/systems/TransformSystem.js\n");

/***/ })

})