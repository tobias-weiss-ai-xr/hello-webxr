webpackHotUpdate("main",{

/***/ "./src/rooms/ExperimentalRoom.js":
/*!***************************************!*\
  !*** ./src/rooms/ExperimentalRoom.js ***!
  \***************************************/
/*! exports provided: setup, enter, exit, execute */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setup\", function() { return setup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enter\", function() { return enter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"exit\", function() { return exit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"execute\", function() { return execute; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/index.js */ \"./src/components/index.js\");\n/* harmony import */ var _data_elements_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/elements.js */ \"./src/data/elements.js\");\n/* harmony import */ var _lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/modelLoader.js */ \"./src/lib/modelLoader.js\");\n\n\n\n\nvar scene;\nvar roomData;\nvar experimentStations = [];\nvar teleportFloor;\nconst ROOM_COLORS = {\n  reaction_lab: 0xFF6B6B,\n  nuclear_chamber: 0x4A69BD,\n  electrochem_lab: 0x74B9FF,\n  organic_chem: 0x20C997,\n  extreme_conditions: 0xFFA94D,\n  industrial_apps: 0x74B9FF,\n  historical_lab: 0xD63384,\n  space_chem: 0x0A0A1A,\n  nano_world: 0x17A2B8,\n  challenge_arena: 0xFFC107\n};\nfunction setup(ctx, roomId) {\n  roomData = _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"EXPERIMENTAL_ROOMS\"][roomId];\n  if (!roomData) return;\n  scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n  const themeColor = ROOM_COLORS[roomData.id] || 0x2a2a3a;\n  const bgColor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](themeColor).multiplyScalar(0.1);\n  scene.background = bgColor;\n  createRoomSpecificSetup(ctx, roomData.id);\n  createFloor(ctx, themeColor);\n  createExperimentStations(ctx, roomData);\n  setupLighting(ctx, themeColor);\n  createTeleportZone(ctx);\n  createNavigationPanel(ctx);\n  scene.userData.teleport = teleportFloor;\n}\nfunction createRoomSpecificSetup(ctx, roomId) {\n  switch (roomId) {\n    case 'reaction_lab':\n      createAlchemistWorkshop(ctx);\n      break;\n    case 'nuclear_chamber':\n      createNuclearControlRoom(ctx);\n      break;\n    case 'electrochem_lab':\n      createElectrochemLab(ctx);\n      break;\n    case 'organic_chem':\n      createCarbonUniverse(ctx);\n      break;\n    case 'extreme_conditions':\n      createExtremeConditions(ctx);\n      break;\n    case 'industrial_apps':\n      createIndustrialApps(ctx);\n      break;\n    case 'historical_lab':\n      createHistoricalLab(ctx);\n      break;\n    case 'space_chem':\n      createSpaceChem(ctx);\n      break;\n    case 'nano_world':\n      createNanoWorld(ctx);\n      break;\n    case 'challenge_arena':\n      createChallengeArena(ctx);\n      break;\n    default:\n      createGenericLab(ctx);\n      break;\n  }\n}\nfunction createAlchemistWorkshop(ctx) {\n  const tableGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](4, 1, 2);\n  const tableMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4a4a4a\n  });\n  const table = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](tableGeo, tableMat);\n  table.position.set(0, 0.5, 0);\n  scene.add(table);\n  createMoleculeDisplay(ctx, 'H2O', {\n    x: 1.2,\n    y: 1.5,\n    z: 0\n  });\n  const bunsenGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](0.1, 0.15, 0.8, 16);\n  const bunsenMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x2a2a3a\n  });\n  const bunsen = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](bunsenGeo, bunsenMat);\n  bunsen.position.set(-1.2, 1.3, -0.5);\n  scene.add(bunsen);\n  const flameGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"ConeGeometry\"](0.08, 0.3, 16);\n  const flameMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4a90e2,\n    transparent: true,\n    opacity: 0.7\n  });\n  const flame = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](flameGeo, flameMat);\n  flame.position.set(-1.2, 1.8, -0.5);\n  flame.name = 'flame';\n  scene.add(flame);\n  scene.userData.flame = flame;\n}\nfunction createNuclearControlRoom(ctx) {\n  const panelGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](6, 2, 0.2);\n  const panelMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x1a1a2a,\n    transparent: true,\n    opacity: 0.9\n  });\n  const panel = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](panelGeo, panelMat);\n  panel.position.set(0, 2.5, -4);\n  panel.lookAt(0, 2.5, 0);\n  scene.add(panel);\n  const coreGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](1.5, 1.5, 4, 32);\n  const coreMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4A69BD,\n    transparent: true,\n    opacity: 0.5\n  });\n  const core = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](coreGeo, coreMat);\n  core.position.set(0, 2, 0);\n  core.name = 'reactorCore';\n  scene.add(core);\n  scene.userData.core = core;\n}\nfunction createElectrochemLab(ctx) {\n  const batteryGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](2, 1.5, 0.8);\n  const batteryMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x74B9FF\n  });\n  const battery = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](batteryGeo, batteryMat);\n  battery.position.set(0, 0.75, -2);\n  scene.add(battery);\n  const terminalGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](3, 2, 0.1);\n  const terminalMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x2a2a3a\n  });\n  const terminal = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](terminalGeo, terminalMat);\n  terminal.position.set(0, 1, -4);\n  scene.add(terminal);\n}\nfunction createCarbonUniverse(ctx) {\n  Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"loadMoleculeModel\"])('DNA', _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"EXPERIMENTAL_ROOMS\"], (model, error) => {\n    if (!error) {\n      const optimized = Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"optimizeModelForVR\"])(model);\n      optimized.scale.set(1.5, 1.5, 1.5);\n      optimized.position.set(0, 2.5, 0);\n      optimized.name = 'dna_molecule';\n      scene.add(optimized);\n      scene.userData.dnaModel = optimized;\n    }\n  });\n  const helixGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const points = [];\n  for (let i = 0; i < 100; i++) {\n    const t = i / 100;\n    const angle = t * Math.PI * 2 * 3;\n    const y = (t - 0.5) * 2;\n    const x = Math.cos(angle) * 0.3;\n    const z = Math.sin(angle) * 0.3;\n    points.push(new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](x, y + 2, z));\n  }\n  const curve = new three__WEBPACK_IMPORTED_MODULE_0__[\"CatmullRomCurve3\"](points);\n  const tubeGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"TubeGeometry\"](curve, 100, 0.1, 8, false);\n  const tubeMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x20C997\n  });\n  const helix = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](tubeGeo, tubeMat);\n  helix.position.set(0, 2, 0);\n  helix.name = 'helix_placeholder';\n  scene.add(helix);\n}\nfunction createMoleculeDisplay(ctx, formula, position = {\n  x: 0,\n  y: 2,\n  z: 0\n}) {\n  Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"loadMoleculeModel\"])(formula, _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"EXPERIMENTAL_ROOMS\"], (model, error) => {\n    if (!error) {\n      const optimized = Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"optimizeModelForVR\"])(model);\n      optimized.position.set(position.x, position.y, position.z);\n      optimized.userData.moleculeFormula = formula;\n      scene.add(optimized);\n      scene.userData.moleculeDisplay = optimized;\n    } else {\n      const fallback = createMoleculeModel(formula, _data_elements_js__WEBPACK_IMPORTED_MODULE_2__[\"EXPERIMENTAL_ROOMS\"]);\n      fallback.position.set(position.x, position.y, position.z);\n      scene.add(fallback);\n    }\n  });\n}\nfunction createCompoundDisplay(ctx, compoundName, position = {\n  x: 0,\n  y: 2,\n  z: 0\n}) {\n  const compoundMap = {\n    'reaction_lab': {\n      formula: 'H2O',\n      name: 'water'\n    },\n    'electrochem_lab': {\n      formula: 'NaCl',\n      name: 'salt'\n    },\n    'nuclear_chamber': {\n      formula: 'UO2',\n      name: 'uranium_oxide'\n    },\n    'organic_chem': {\n      formula: 'C6H12O6',\n      name: 'glucose'\n    },\n    'extreme_conditions': {\n      formula: 'CO2',\n      name: 'carbon_dioxide'\n    },\n    'industrial_apps': {\n      formula: 'Fe',\n      name: 'steel'\n    },\n    'historical_lab': {\n      formula: 'Au',\n      name: 'gold'\n    },\n    'space_chem': {\n      formula: 'He',\n      name: 'helium'\n    },\n    'nano_world': {\n      formula: 'Si',\n      name: 'silicon'\n    },\n    'challenge_arena': {\n      formula: 'C',\n      name: 'diamond'\n    }\n  };\n  const compound = compoundMap[roomData.id];\n  if (compound) {\n    const lattice = Object(_lib_modelLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"createCrystalLattice\"])({\n      symbol: compound.name,\n      color: 0x888888\n    });\n    lattice.position.set(position.x, position.y, position.z);\n    scene.add(lattice);\n    scene.userData.compoundDisplay = lattice;\n  }\n}\nfunction createExtremeConditions(ctx) {\n  const pressureChamberGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](2, 2, 4, 32);\n  const chamberMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xFFA94D,\n    transparent: true,\n    opacity: 0.3\n  });\n  const chamber = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](pressureChamberGeo, chamberMat);\n  chamber.position.set(0, 2, 0);\n  chamber.name = 'pressureChamber';\n  scene.add(chamber);\n  const plasmaGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](1.5, 32, 32);\n  const plasmaMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xFF6B35,\n    transparent: true,\n    opacity: 0.6\n  });\n  const plasma = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](plasmaGeo, plasmaMat);\n  plasma.position.set(0, 2, 0);\n  plasma.name = 'plasma';\n  scene.add(plasma);\n  const superfluidHeGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"TorusGeometry\"](1.8, 0.15, 16, 100);\n  const heMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x74B9FF,\n    transparent: true,\n    opacity: 0.5\n  });\n  const superfluidHe = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](superfluidHeGeo, heMat);\n  superfluidHe.position.set(3, 2, 0);\n  superfluidHe.rotation.x = Math.PI / 2;\n  superfluidHe.name = 'superfluidHe';\n  scene.add(superfluidHe);\n  scene.userData.plasma = plasma;\n  scene.userData.superfluidHe = superfluidHe;\n}\nfunction createIndustrialApps(ctx) {\n  const blastFurnaceGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](1.5, 2, 5, 8);\n  const furnaceMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x74B9FF,\n    transparent: true,\n    opacity: 0.6\n  });\n  const furnace = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](blastFurnaceGeo, furnaceMat);\n  furnace.position.set(0, 2.5, 0);\n  scene.add(furnace);\n  const pipelineGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](0.3, 0.3, 8, 16);\n  const pipeMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4a4a4a\n  });\n  for (let i = 0; i < 4; i++) {\n    const pipe = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](pipelineGeo, pipeMat);\n    pipe.position.set(-3 + i * 2, 1, 3);\n    pipe.rotation.z = Math.PI / 2;\n    scene.add(pipe);\n  }\n  const reactorGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](3, 4, 3);\n  const reactorMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x20C997,\n    transparent: true,\n    opacity: 0.5\n  });\n  const reactor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](reactorGeo, reactorMat);\n  reactor.position.set(0, 2, -4);\n  scene.add(reactor);\n}\nfunction createHistoricalLab(ctx) {\n  const antiqueTableGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](4, 1, 2);\n  const tableMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x8B4513\n  });\n  const table = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](antiqueTableGeo, tableMat);\n  table.position.set(0, 0.5, 0);\n  scene.add(table);\n  const crucibleGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"ConeGeometry\"](0.3, 0.5, 32);\n  const crucibleMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xD63384,\n    transparent: true,\n    opacity: 0.8\n  });\n  const crucible = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](crucibleGeo, crucibleMat);\n  crucible.position.set(1, 1, 0);\n  scene.add(crucible);\n  const parchmentGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](1.5, 1);\n  const parchmentMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xF5DEB3,\n    side: three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"]\n  });\n  const parchment = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](parchmentGeo, parchmentMat);\n  parchment.position.set(-1, 1.1, 0);\n  parchment.rotation.y = -Math.PI / 4;\n  scene.add(parchment);\n  const alchemySymbolGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"RingGeometry\"](0.8, 1, 32);\n  const symbolMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xFFD700,\n    side: three__WEBPACK_IMPORTED_MODULE_0__[\"DoubleSide\"]\n  });\n  const symbol = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](alchemySymbolGeo, symbolMat);\n  symbol.position.set(0, 3, 0);\n  symbol.name = 'alchemySymbol';\n  scene.add(symbol);\n  scene.userData.alchemySymbol = symbol;\n}\nfunction createSpaceChem(ctx) {\n  const starsGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BufferGeometry\"]();\n  const starsCount = 1000;\n  const positions = new Float32Array(starsCount * 3);\n  for (let i = 0; i < starsCount * 3; i++) {\n    positions[i] = (Math.random() - 0.5) * 50;\n  }\n  starsGeo.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_0__[\"BufferAttribute\"](positions, 3));\n  const starsMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"PointsMaterial\"]({\n    color: 0xffffff,\n    size: 0.1\n  });\n  const stars = new three__WEBPACK_IMPORTED_MODULE_0__[\"Points\"](starsGeo, starsMat);\n  stars.name = 'starField';\n  scene.add(stars);\n  scene.userData.stars = stars;\n  const nebulaGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](8, 32, 32);\n  const nebulaMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x6C5CE7,\n    transparent: true,\n    opacity: 0.15\n  });\n  const nebula = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](nebulaGeo, nebulaMat);\n  nebula.position.set(0, 2, -10);\n  scene.add(nebula);\n  const fragmentGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"IcosahedronGeometry\"](1, 1);\n  const fragmentMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xE17055,\n    wireframe: true\n  });\n  for (let i = 0; i < 5; i++) {\n    const fragment = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](fragmentGeo, fragmentMat);\n    fragment.position.set((Math.random() - 0.5) * 6, 2 + Math.random() * 2, (Math.random() - 0.5) * 6);\n    fragment.userData.orbitSpeed = 0.2 + Math.random() * 0.3;\n    fragment.userData.orbitAngle = Math.random() * Math.PI * 2;\n    fragment.name = 'fragment';\n    scene.add(fragment);\n  }\n}\nfunction createNanoWorld(ctx) {\n  const latticeGroup = new three__WEBPACK_IMPORTED_MODULE_0__[\"Group\"]();\n  const atomGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereGeometry\"](0.2, 16, 16);\n  const atomMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x17A2B8\n  });\n  for (let i = 0; i < 3; i++) {\n    for (let j = 0; j < 3; j++) {\n      for (let k = 0; k < 3; k++) {\n        const atom = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](atomGeo, atomMat);\n        atom.position.set(i - 1, j + 1, k - 1);\n        latticeGroup.add(atom);\n      }\n    }\n  }\n  const bondGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](0.05, 0.05, 1, 8);\n  const bondMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x0A0A1A\n  });\n  for (let i = 0; i < 3; i++) {\n    for (let j = 0; j < 3; j++) {\n      for (let k = 0; k < 3; k++) {\n        if (i < 2) {\n          const bondH = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](bondGeo, bondMat);\n          bondH.rotation.z = Math.PI / 2;\n          bondH.position.set(i - 0.5, j + 1, k - 1);\n          latticeGroup.add(bondH);\n        }\n        if (j < 2) {\n          const bondV = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](bondGeo, bondMat);\n          bondV.position.set(i - 1, j + 1.5, k - 1);\n          latticeGroup.add(bondV);\n        }\n        if (k < 2) {\n          const bondD = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](bondGeo, bondMat);\n          bondD.rotation.x = Math.PI / 2;\n          bondD.position.set(i - 1, j + 1, k - 0.5);\n          latticeGroup.add(bondD);\n        }\n      }\n    }\n  }\n  latticeGroup.position.set(0, 2, 0);\n  latticeGroup.scale.set(1.5, 1.5, 1.5);\n  latticeGroup.name = 'nanoLattice';\n  scene.add(latticeGroup);\n  scene.userData.nanoLattice = latticeGroup;\n  const orbitalGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"TorusGeometry\"](2.5, 0.05, 16, 100);\n  const orbitalMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x74B9FF,\n    transparent: true,\n    opacity: 0.4\n  });\n  const orbitalX = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](orbitalGeo, orbitalMat);\n  orbitalX.position.set(0, 2, 0);\n  scene.add(orbitalX);\n  const orbitalY = orbitalX.clone();\n  orbitalY.rotation.x = Math.PI / 2;\n  scene.add(orbitalY);\n  const orbitalZ = orbitalX.clone();\n  orbitalZ.rotation.y = Math.PI / 2;\n  scene.add(orbitalZ);\n}\nfunction createChallengeArena(ctx) {\n  const arenaFloor = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](8, 8, 0.2, 32);\n  const arenaMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xFFC107\n  });\n  const arena = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](arenaFloor, arenaMat);\n  arena.position.y = -0.05;\n  scene.add(arena);\n  const podiumGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](2, 0.5, 2);\n  const podiumMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xD4AF37\n  });\n  const podium = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](podiumGeo, podiumMat);\n  podium.position.set(0, 0.25, 0);\n  scene.add(podium);\n  const trophyGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"ConeGeometry\"](0.3, 1, 8);\n  const trophyMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0xFFD700\n  });\n  const trophy = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](trophyGeo, trophyMat);\n  trophy.position.set(0, 1.5, 0);\n  scene.add(trophy);\n}\nfunction createGenericLab(ctx) {\n  const benchGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](5, 1, 2.5);\n  const benchMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x3a3a4a\n  });\n  const bench = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](benchGeo, benchMat);\n  bench.position.set(0, 0.5, 0);\n  scene.add(bench);\n  const equipmentGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](0.5, 1, 0.5);\n  const equipmentMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x4a4a4a\n  });\n  for (let i = 0; i < 4; i++) {\n    const equipment = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](equipmentGeo, equipmentMat);\n    equipment.position.set(-1.5 + i, 1, -0.5);\n    scene.add(equipment);\n  }\n}\nfunction createFloor(ctx, themeColor) {\n  const floorGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderGeometry\"](12, 12, 0.2, 64);\n  const floorMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](themeColor).multiplyScalar(0.08)\n  });\n  const floor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](floorGeo, floorMat);\n  floor.position.y = -0.1;\n  scene.add(floor);\n}\nfunction createExperimentStations(ctx, roomData) {\n  const stationRadius = 5;\n  const experiments = roomData.experiments || [];\n  experiments.forEach((expId, index) => {\n    const angle = index / experiments.length * Math.PI * 2;\n    const x = Math.cos(angle) * stationRadius;\n    const z = Math.sin(angle) * stationRadius;\n    const stationGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](1.5, 2, 1);\n    const stationMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](roomData.color).multiplyScalar(0.6),\n      transparent: true,\n      opacity: 0.7\n    });\n    const station = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](stationGeo, stationMat);\n    station.position.set(x, 1, z);\n    station.userData.experimentId = expId;\n    const labelEntity = ctx.world.createEntity();\n    labelEntity.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"], {\n      text: expId,\n      color: '#ffffff',\n      fontSize: 0.08,\n      anchor: 'center',\n      baseline: 'top',\n      textAlign: 'center'\n    }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"ParentObject3D\"], {\n      value: station\n    }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"], {\n      x: 0,\n      y: 1.1,\n      z: 0.51\n    });\n    scene.add(station);\n    experimentStations.push(station);\n  });\n}\nfunction setupLighting(ctx, themeColor) {\n  const ambientLight = new three__WEBPACK_IMPORTED_MODULE_0__[\"AmbientLight\"](0xffffff, 0.3);\n  scene.add(ambientLight);\n  const pointLight1 = new three__WEBPACK_IMPORTED_MODULE_0__[\"PointLight\"](themeColor, 0.6, 20);\n  pointLight1.position.set(5, 8, 5);\n  scene.add(pointLight1);\n  const pointLight2 = new three__WEBPACK_IMPORTED_MODULE_0__[\"PointLight\"](themeColor, 0.6, 20);\n  pointLight2.position.set(-5, 8, -5);\n  scene.add(pointLight2);\n}\nfunction createTeleportZone(ctx) {\n  const teleportGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneBufferGeometry\"](25, 25);\n  const teleportMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    visible: false\n  });\n  teleportFloor = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](teleportGeo, teleportMat);\n  teleportFloor.rotation.x = -Math.PI / 2;\n  teleportFloor.position.y = 0.001;\n  scene.add(teleportFloor);\n}\nfunction createNavigationPanel(ctx) {\n  const panelGeo = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](0.5, 0.3, 0.05);\n  const panelMat = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n    color: 0x2a2a3a\n  });\n  const panel = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](panelGeo, panelMat);\n  panel.position.set(0, 1.5, -6);\n  scene.add(panel);\n  const backBtnEntity = ctx.world.createEntity();\n  backBtnEntity.addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Text\"], {\n    text: 'â—€ Lobby',\n    color: '#ffffff',\n    fontSize: 0.08,\n    anchor: 'center',\n    baseline: 'middle',\n    textAlign: 'center'\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"ParentObject3D\"], {\n    value: panel\n  }).addComponent(_components_index_js__WEBPACK_IMPORTED_MODULE_1__[\"Position\"], {\n    x: 0,\n    y: 0,\n    z: 0.03\n  });\n  panel.userData.backButton = backBtnEntity;\n}\nfunction enter(ctx) {\n  ctx.scene.add(scene);\n  ctx.renderer.setClearColor(scene.background);\n  ctx.raycontrol.activateState('expRoomStations');\n  ctx.raycontrol.activateState('expRoomTeleport');\n  ctx.raycontrol.activateState('expRoomNav');\n  ctx.raycontrol.addState('expRoomStations', {\n    colliderMesh: experimentStations,\n    controller: 'primary',\n    onHover: (intersection, active) => {\n      const station = intersection.object;\n      station.scale.setScalar(active ? 1.2 : 1);\n    },\n    onHoverLeave: () => {},\n    onSelectStart: (intersection, e) => {\n      console.log('Experiment:', intersection.object.userData.experimentId);\n    },\n    onSelectEnd: intersection => {}\n  });\n  ctx.raycontrol.addState('expRoomTeleport', {\n    colliderMesh: teleportFloor,\n    controller: 'primary',\n    onHover: (intersection, active) => {\n      ctx.teleport.onHover(intersection.point, active);\n    },\n    onHoverLeave: () => {\n      ctx.teleport.onHoverLeave();\n    },\n    onSelectStart: (intersection, e) => {\n      ctx.teleport.onSelectStart(e);\n    },\n    onSelectEnd: intersection => {\n      ctx.teleport.onSelectEnd(intersection.point);\n    }\n  });\n  ctx.raycontrol.addState('expRoomNav', {\n    colliderMesh: [scene.children.find(c => c.userData.backButton)],\n    controller: 'primary',\n    onHover: (intersection, active) => {},\n    onHoverLeave: () => {},\n    onSelectStart: (intersection, e) => {\n      ctx.goto = 0;\n    },\n    onSelectEnd: intersection => {}\n  });\n}\nfunction exit(ctx) {\n  ctx.raycontrol.deactivateState('expRoomStations');\n  ctx.raycontrol.deactivateState('expRoomTeleport');\n  ctx.raycontrol.deactivateState('expRoomNav');\n  ctx.scene.remove(scene);\n}\nfunction execute(ctx, delta, time) {\n  if (scene.userData.flame) {\n    scene.userData.flame.scale.y = 1 + Math.sin(time * 10) * 0.2;\n    scene.userData.flame.material.opacity = 0.5 + Math.sin(time * 10) * 0.2;\n  }\n  if (scene.userData.core) {\n    scene.userData.core.rotation.y += delta * 0.5;\n    scene.userData.core.material.opacity = 0.4 + Math.sin(time * 2) * 0.1;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcm9vbXMvRXhwZXJpbWVudGFsUm9vbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yb29tcy9FeHBlcmltZW50YWxSb29tLmpzP2Q1OGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgeyBUZXh0LCBQb3NpdGlvbiwgUGFyZW50T2JqZWN0M0QsIE9iamVjdDNELCBDaGlsZHJlbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW5kZXguanMnO1xyXG5pbXBvcnQgeyBFWFBFUklNRU5UQUxfUk9PTVMgfSBmcm9tICcuLi9kYXRhL2VsZW1lbnRzLmpzJztcclxuaW1wb3J0IHsgbG9hZE1vbGVjdWxlTW9kZWwsIGNyZWF0ZUNyeXN0YWxMYXR0aWNlLCBvcHRpbWl6ZU1vZGVsRm9yVlIgfSBmcm9tICcuLi9saWIvbW9kZWxMb2FkZXIuanMnO1xyXG5cclxudmFyIHNjZW5lO1xyXG52YXIgcm9vbURhdGE7XHJcbnZhciBleHBlcmltZW50U3RhdGlvbnMgPSBbXTtcclxudmFyIHRlbGVwb3J0Rmxvb3I7XHJcblxyXG5jb25zdCBST09NX0NPTE9SUyA9IHtcclxuICByZWFjdGlvbl9sYWI6IDB4RkY2QjZCLFxyXG4gIG51Y2xlYXJfY2hhbWJlcjogMHg0QTY5QkQsXHJcbiAgZWxlY3Ryb2NoZW1fbGFiOiAweDc0QjlGRixcclxuICBvcmdhbmljX2NoZW06IDB4MjBDOTk3LFxyXG4gIGV4dHJlbWVfY29uZGl0aW9uczogMHhGRkE5NEQsXHJcbiAgaW5kdXN0cmlhbF9hcHBzOiAweDc0QjlGRixcclxuICBoaXN0b3JpY2FsX2xhYjogMHhENjMzODQsXHJcbiAgc3BhY2VfY2hlbTogMHgwQTBBMUEsXHJcbiAgbmFub193b3JsZDogMHgxN0EyQjgsXHJcbiAgY2hhbGxlbmdlX2FyZW5hOiAweEZGQzEwN1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwKGN0eCwgcm9vbUlkKSB7XHJcbiAgcm9vbURhdGEgPSBFWFBFUklNRU5UQUxfUk9PTVNbcm9vbUlkXTtcclxuICBpZiAoIXJvb21EYXRhKSByZXR1cm47XHJcblxyXG4gIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XHJcblxyXG4gIGNvbnN0IHRoZW1lQ29sb3IgPSBST09NX0NPTE9SU1tyb29tRGF0YS5pZF0gfHwgMHgyYTJhM2E7XHJcbiAgY29uc3QgYmdDb2xvciA9IG5ldyBUSFJFRS5Db2xvcih0aGVtZUNvbG9yKS5tdWx0aXBseVNjYWxhcigwLjEpO1xyXG4gIHNjZW5lLmJhY2tncm91bmQgPSBiZ0NvbG9yO1xyXG5cclxuICBjcmVhdGVSb29tU3BlY2lmaWNTZXR1cChjdHgsIHJvb21EYXRhLmlkKTtcclxuICBjcmVhdGVGbG9vcihjdHgsIHRoZW1lQ29sb3IpO1xyXG4gIGNyZWF0ZUV4cGVyaW1lbnRTdGF0aW9ucyhjdHgsIHJvb21EYXRhKTtcclxuICBzZXR1cExpZ2h0aW5nKGN0eCwgdGhlbWVDb2xvcik7XHJcbiAgY3JlYXRlVGVsZXBvcnRab25lKGN0eCk7XHJcbiAgY3JlYXRlTmF2aWdhdGlvblBhbmVsKGN0eCk7XHJcblxyXG4gIHNjZW5lLnVzZXJEYXRhLnRlbGVwb3J0ID0gdGVsZXBvcnRGbG9vcjtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUm9vbVNwZWNpZmljU2V0dXAoY3R4LCByb29tSWQpIHtcbiAgc3dpdGNoKHJvb21JZCkge1xuICAgIGNhc2UgJ3JlYWN0aW9uX2xhYic6XG4gICAgICBjcmVhdGVBbGNoZW1pc3RXb3Jrc2hvcChjdHgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbnVjbGVhcl9jaGFtYmVyJzpcbiAgICAgIGNyZWF0ZU51Y2xlYXJDb250cm9sUm9vbShjdHgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZWxlY3Ryb2NoZW1fbGFiJzpcbiAgICAgIGNyZWF0ZUVsZWN0cm9jaGVtTGFiKGN0eCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdvcmdhbmljX2NoZW0nOlxuICAgICAgY3JlYXRlQ2FyYm9uVW5pdmVyc2UoY3R4KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2V4dHJlbWVfY29uZGl0aW9ucyc6XG4gICAgICBjcmVhdGVFeHRyZW1lQ29uZGl0aW9ucyhjdHgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW5kdXN0cmlhbF9hcHBzJzpcbiAgICAgIGNyZWF0ZUluZHVzdHJpYWxBcHBzKGN0eCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaXN0b3JpY2FsX2xhYic6XG4gICAgICBjcmVhdGVIaXN0b3JpY2FsTGFiKGN0eCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzcGFjZV9jaGVtJzpcbiAgICAgIGNyZWF0ZVNwYWNlQ2hlbShjdHgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbmFub193b3JsZCc6XG4gICAgICBjcmVhdGVOYW5vV29ybGQoY3R4KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2NoYWxsZW5nZV9hcmVuYSc6XG4gICAgICBjcmVhdGVDaGFsbGVuZ2VBcmVuYShjdHgpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNyZWF0ZUdlbmVyaWNMYWIoY3R4KTtcbiAgICAgIGJyZWFrO1xuICB9XG59XG5cclxuZnVuY3Rpb24gY3JlYXRlQWxjaGVtaXN0V29ya3Nob3AoY3R4KSB7XHJcbiAgY29uc3QgdGFibGVHZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoNCwgMSwgMik7XHJcbiAgY29uc3QgdGFibGVNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDRhNGE0YX0pO1xyXG4gIGNvbnN0IHRhYmxlID0gbmV3IFRIUkVFLk1lc2godGFibGVHZW8sIHRhYmxlTWF0KTtcclxuICB0YWJsZS5wb3NpdGlvbi5zZXQoMCwgMC41LCAwKTtcclxuICBzY2VuZS5hZGQodGFibGUpO1xyXG5cclxuICBjcmVhdGVNb2xlY3VsZURpc3BsYXkoY3R4LCAnSDJPJywge3g6IDEuMiwgeTogMS41LCB6OiAwfSk7XHJcblxyXG4gIGNvbnN0IGJ1bnNlbkdlbyA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDAuMSwgMC4xNSwgMC44LCAxNik7XHJcbiAgY29uc3QgYnVuc2VuTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHgyYTJhM2F9KTtcclxuICBjb25zdCBidW5zZW4gPSBuZXcgVEhSRUUuTWVzaChidW5zZW5HZW8sIGJ1bnNlbk1hdCk7XHJcbiAgYnVuc2VuLnBvc2l0aW9uLnNldCgtMS4yLCAxLjMsIC0wLjUpO1xyXG4gIHNjZW5lLmFkZChidW5zZW4pO1xyXG5cclxuICBjb25zdCBmbGFtZUdlbyA9IG5ldyBUSFJFRS5Db25lR2VvbWV0cnkoMC4wOCwgMC4zLCAxNik7XHJcbiAgY29uc3QgZmxhbWVNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgY29sb3I6IDB4NGE5MGUyLFxyXG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICBvcGFjaXR5OiAwLjdcclxuICB9KTtcclxuICBjb25zdCBmbGFtZSA9IG5ldyBUSFJFRS5NZXNoKGZsYW1lR2VvLCBmbGFtZU1hdCk7XHJcbiAgZmxhbWUucG9zaXRpb24uc2V0KC0xLjIsIDEuOCwgLTAuNSk7XHJcbiAgZmxhbWUubmFtZSA9ICdmbGFtZSc7XHJcbiAgc2NlbmUuYWRkKGZsYW1lKTtcclxuXHJcbiAgc2NlbmUudXNlckRhdGEuZmxhbWUgPSBmbGFtZTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTnVjbGVhckNvbnRyb2xSb29tKGN0eCkge1xyXG4gIGNvbnN0IHBhbmVsR2VvID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDYsIDIsIDAuMik7XHJcbiAgY29uc3QgcGFuZWxNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgY29sb3I6IDB4MWExYTJhLFxyXG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICBvcGFjaXR5OiAwLjlcclxuICB9KTtcclxuICBjb25zdCBwYW5lbCA9IG5ldyBUSFJFRS5NZXNoKHBhbmVsR2VvLCBwYW5lbE1hdCk7XHJcbiAgcGFuZWwucG9zaXRpb24uc2V0KDAsIDIuNSwgLTQpO1xyXG4gIHBhbmVsLmxvb2tBdCgwLCAyLjUsIDApO1xyXG4gIHNjZW5lLmFkZChwYW5lbCk7XHJcblxyXG4gIGNvbnN0IGNvcmVHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgxLjUsIDEuNSwgNCwgMzIpO1xyXG4gIGNvbnN0IGNvcmVNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgY29sb3I6IDB4NEE2OUJELFxyXG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICBvcGFjaXR5OiAwLjVcclxuICB9KTtcclxuICBjb25zdCBjb3JlID0gbmV3IFRIUkVFLk1lc2goY29yZUdlbywgY29yZU1hdCk7XHJcbiAgY29yZS5wb3NpdGlvbi5zZXQoMCwgMiwgMCk7XHJcbiAgY29yZS5uYW1lID0gJ3JlYWN0b3JDb3JlJztcclxuICBzY2VuZS5hZGQoY29yZSk7XHJcblxyXG4gIHNjZW5lLnVzZXJEYXRhLmNvcmUgPSBjb3JlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFbGVjdHJvY2hlbUxhYihjdHgpIHtcclxuICBjb25zdCBiYXR0ZXJ5R2VvID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIsIDEuNSwgMC44KTtcclxuICBjb25zdCBiYXR0ZXJ5TWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHg3NEI5RkZ9KTtcclxuICBjb25zdCBiYXR0ZXJ5ID0gbmV3IFRIUkVFLk1lc2goYmF0dGVyeUdlbywgYmF0dGVyeU1hdCk7XHJcbiAgYmF0dGVyeS5wb3NpdGlvbi5zZXQoMCwgMC43NSwgLTIpO1xyXG4gIHNjZW5lLmFkZChiYXR0ZXJ5KTtcclxuXHJcbiAgY29uc3QgdGVybWluYWxHZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMywgMiwgMC4xKTtcclxuICBjb25zdCB0ZXJtaW5hbE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4MmEyYTNhfSk7XHJcbiAgY29uc3QgdGVybWluYWwgPSBuZXcgVEhSRUUuTWVzaCh0ZXJtaW5hbEdlbywgdGVybWluYWxNYXQpO1xyXG4gIHRlcm1pbmFsLnBvc2l0aW9uLnNldCgwLCAxLCAtNCk7XHJcbiAgc2NlbmUuYWRkKHRlcm1pbmFsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyYm9uVW5pdmVyc2UoY3R4KSB7XHJcbiAgbG9hZE1vbGVjdWxlTW9kZWwoJ0ROQScsIEVYUEVSSU1FTlRBTF9ST09NUywgKG1vZGVsLCBlcnJvcikgPT4ge1xyXG4gICAgaWYgKCFlcnJvcikge1xyXG4gICAgICBjb25zdCBvcHRpbWl6ZWQgPSBvcHRpbWl6ZU1vZGVsRm9yVlIobW9kZWwpO1xyXG4gICAgICBvcHRpbWl6ZWQuc2NhbGUuc2V0KDEuNSwgMS41LCAxLjUpO1xyXG4gICAgICBvcHRpbWl6ZWQucG9zaXRpb24uc2V0KDAsIDIuNSwgMCk7XHJcbiAgICAgIG9wdGltaXplZC5uYW1lID0gJ2RuYV9tb2xlY3VsZSc7XHJcbiAgICAgIHNjZW5lLmFkZChvcHRpbWl6ZWQpO1xyXG4gICAgICBzY2VuZS51c2VyRGF0YS5kbmFNb2RlbCA9IG9wdGltaXplZDtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgY29uc3QgaGVsaXhHcm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG4gIGNvbnN0IHBvaW50cyA9IFtdO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuICAgIGNvbnN0IHQgPSBpIC8gMTAwO1xyXG4gICAgY29uc3QgYW5nbGUgPSB0ICogTWF0aC5QSSAqIDIgKiAzO1xyXG4gICAgY29uc3QgeSA9ICh0IC0gMC41KSAqIDI7XHJcbiAgICBjb25zdCB4ID0gTWF0aC5jb3MoYW5nbGUpICogMC4zO1xyXG4gICAgY29uc3QgeiA9IE1hdGguc2luKGFuZ2xlKSAqIDAuMztcclxuICAgIHBvaW50cy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKHgsIHkgKyAyLCB6KSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjdXJ2ZSA9IG5ldyBUSFJFRS5DYXRtdWxsUm9tQ3VydmUzKHBvaW50cyk7XHJcbiAgY29uc3QgdHViZUdlbyA9IG5ldyBUSFJFRS5UdWJlR2VvbWV0cnkoY3VydmUsIDEwMCwgMC4xLCA4LCBmYWxzZSk7XHJcbiAgY29uc3QgdHViZU1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4MjBDOTk3fSk7XHJcbiAgY29uc3QgaGVsaXggPSBuZXcgVEhSRUUuTWVzaCh0dWJlR2VvLCB0dWJlTWF0KTtcclxuICBoZWxpeC5wb3NpdGlvbi5zZXQoMCwgMiwgMCk7XHJcbiAgaGVsaXgubmFtZSA9ICdoZWxpeF9wbGFjZWhvbGRlcic7XHJcbiAgc2NlbmUuYWRkKGhlbGl4KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTW9sZWN1bGVEaXNwbGF5KGN0eCwgZm9ybXVsYSwgcG9zaXRpb24gPSB7eDogMCwgeTogMiwgejogMH0pIHtcclxuICBsb2FkTW9sZWN1bGVNb2RlbChmb3JtdWxhLCBFWFBFUklNRU5UQUxfUk9PTVMsIChtb2RlbCwgZXJyb3IpID0+IHtcclxuICAgIGlmICghZXJyb3IpIHtcclxuICAgICAgY29uc3Qgb3B0aW1pemVkID0gb3B0aW1pemVNb2RlbEZvclZSKG1vZGVsKTtcclxuICAgICAgb3B0aW1pemVkLnBvc2l0aW9uLnNldChwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBwb3NpdGlvbi56KTtcclxuICAgICAgb3B0aW1pemVkLnVzZXJEYXRhLm1vbGVjdWxlRm9ybXVsYSA9IGZvcm11bGE7XHJcbiAgICAgIHNjZW5lLmFkZChvcHRpbWl6ZWQpO1xyXG4gICAgICBzY2VuZS51c2VyRGF0YS5tb2xlY3VsZURpc3BsYXkgPSBvcHRpbWl6ZWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBmYWxsYmFjayA9IGNyZWF0ZU1vbGVjdWxlTW9kZWwoZm9ybXVsYSwgRVhQRVJJTUVOVEFMX1JPT01TKTtcclxuICAgICAgZmFsbGJhY2sucG9zaXRpb24uc2V0KHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnopO1xyXG4gICAgICBzY2VuZS5hZGQoZmFsbGJhY2spO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDb21wb3VuZERpc3BsYXkoY3R4LCBjb21wb3VuZE5hbWUsIHBvc2l0aW9uID0ge3g6IDAsIHk6IDIsIHo6IDB9KSB7XHJcbiAgY29uc3QgY29tcG91bmRNYXAgPSB7XHJcbiAgICAncmVhY3Rpb25fbGFiJzoge2Zvcm11bGE6ICdIMk8nLCBuYW1lOiAnd2F0ZXInfSxcclxuICAgICdlbGVjdHJvY2hlbV9sYWInOiB7Zm9ybXVsYTogJ05hQ2wnLCBuYW1lOiAnc2FsdCd9LFxyXG4gICAgJ251Y2xlYXJfY2hhbWJlcic6IHtmb3JtdWxhOiAnVU8yJywgbmFtZTogJ3VyYW5pdW1fb3hpZGUnfSxcclxuICAgICdvcmdhbmljX2NoZW0nOiB7Zm9ybXVsYTogJ0M2SDEyTzYnLCBuYW1lOiAnZ2x1Y29zZSd9LFxyXG4gICAgJ2V4dHJlbWVfY29uZGl0aW9ucyc6IHtmb3JtdWxhOiAnQ08yJywgbmFtZTogJ2NhcmJvbl9kaW94aWRlJ30sXHJcbiAgICAnaW5kdXN0cmlhbF9hcHBzJzoge2Zvcm11bGE6ICdGZScsIG5hbWU6ICdzdGVlbCd9LFxyXG4gICAgJ2hpc3RvcmljYWxfbGFiJzoge2Zvcm11bGE6ICdBdScsIG5hbWU6ICdnb2xkJ30sXHJcbiAgICAnc3BhY2VfY2hlbSc6IHtmb3JtdWxhOiAnSGUnLCBuYW1lOiAnaGVsaXVtJ30sXHJcbiAgICAnbmFub193b3JsZCc6IHtmb3JtdWxhOiAnU2knLCBuYW1lOiAnc2lsaWNvbid9LFxyXG4gICAgJ2NoYWxsZW5nZV9hcmVuYSc6IHtmb3JtdWxhOiAnQycsIG5hbWU6ICdkaWFtb25kJ31cclxuICB9O1xyXG5cclxuICBjb25zdCBjb21wb3VuZCA9IGNvbXBvdW5kTWFwW3Jvb21EYXRhLmlkXTtcclxuICBpZiAoY29tcG91bmQpIHtcclxuICAgIGNvbnN0IGxhdHRpY2UgPSBjcmVhdGVDcnlzdGFsTGF0dGljZSh7c3ltYm9sOiBjb21wb3VuZC5uYW1lLCBjb2xvcjogMHg4ODg4ODh9KTtcclxuICAgIGxhdHRpY2UucG9zaXRpb24uc2V0KHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnopO1xyXG4gICAgc2NlbmUuYWRkKGxhdHRpY2UpO1xyXG4gICAgc2NlbmUudXNlckRhdGEuY29tcG91bmREaXNwbGF5ID0gbGF0dGljZTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUV4dHJlbWVDb25kaXRpb25zKGN0eCkge1xuICBjb25zdCBwcmVzc3VyZUNoYW1iZXJHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgyLCAyLCA0LCAzMik7XG4gIGNvbnN0IGNoYW1iZXJNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweEZGQTk0RCxcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBvcGFjaXR5OiAwLjNcbiAgfSk7XG4gIGNvbnN0IGNoYW1iZXIgPSBuZXcgVEhSRUUuTWVzaChwcmVzc3VyZUNoYW1iZXJHZW8sIGNoYW1iZXJNYXQpO1xuICBjaGFtYmVyLnBvc2l0aW9uLnNldCgwLCAyLCAwKTtcbiAgY2hhbWJlci5uYW1lID0gJ3ByZXNzdXJlQ2hhbWJlcic7XG4gIHNjZW5lLmFkZChjaGFtYmVyKTtcblxuICBjb25zdCBwbGFzbWFHZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMS41LCAzMiwgMzIpO1xuICBjb25zdCBwbGFzbWFNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweEZGNkIzNSxcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBvcGFjaXR5OiAwLjZcbiAgfSk7XG4gIGNvbnN0IHBsYXNtYSA9IG5ldyBUSFJFRS5NZXNoKHBsYXNtYUdlbywgcGxhc21hTWF0KTtcbiAgcGxhc21hLnBvc2l0aW9uLnNldCgwLCAyLCAwKTtcbiAgcGxhc21hLm5hbWUgPSAncGxhc21hJztcbiAgc2NlbmUuYWRkKHBsYXNtYSk7XG5cbiAgY29uc3Qgc3VwZXJmbHVpZEhlR2VvID0gbmV3IFRIUkVFLlRvcnVzR2VvbWV0cnkoMS44LCAwLjE1LCAxNiwgMTAwKTtcbiAgY29uc3QgaGVNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweDc0QjlGRixcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBvcGFjaXR5OiAwLjVcbiAgfSk7XG4gIGNvbnN0IHN1cGVyZmx1aWRIZSA9IG5ldyBUSFJFRS5NZXNoKHN1cGVyZmx1aWRIZUdlbywgaGVNYXQpO1xuICBzdXBlcmZsdWlkSGUucG9zaXRpb24uc2V0KDMsIDIsIDApO1xuICBzdXBlcmZsdWlkSGUucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xuICBzdXBlcmZsdWlkSGUubmFtZSA9ICdzdXBlcmZsdWlkSGUnO1xuICBzY2VuZS5hZGQoc3VwZXJmbHVpZEhlKTtcblxuICBzY2VuZS51c2VyRGF0YS5wbGFzbWEgPSBwbGFzbWE7XG4gIHNjZW5lLnVzZXJEYXRhLnN1cGVyZmx1aWRIZSA9IHN1cGVyZmx1aWRIZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5kdXN0cmlhbEFwcHMoY3R4KSB7XG4gIGNvbnN0IGJsYXN0RnVybmFjZUdlbyA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDEuNSwgMiwgNSwgOCk7XG4gIGNvbnN0IGZ1cm5hY2VNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweDc0QjlGRixcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBvcGFjaXR5OiAwLjZcbiAgfSk7XG4gIGNvbnN0IGZ1cm5hY2UgPSBuZXcgVEhSRUUuTWVzaChibGFzdEZ1cm5hY2VHZW8sIGZ1cm5hY2VNYXQpO1xuICBmdXJuYWNlLnBvc2l0aW9uLnNldCgwLCAyLjUsIDApO1xuICBzY2VuZS5hZGQoZnVybmFjZSk7XG5cbiAgY29uc3QgcGlwZWxpbmVHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLjMsIDAuMywgOCwgMTYpO1xuICBjb25zdCBwaXBlTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHg0YTRhNGF9KTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBjb25zdCBwaXBlID0gbmV3IFRIUkVFLk1lc2gocGlwZWxpbmVHZW8sIHBpcGVNYXQpO1xuICAgIHBpcGUucG9zaXRpb24uc2V0KC0zICsgaSAqIDIsIDEsIDMpO1xuICAgIHBpcGUucm90YXRpb24ueiA9IE1hdGguUEkgLyAyO1xuICAgIHNjZW5lLmFkZChwaXBlKTtcbiAgfVxuXG4gIGNvbnN0IHJlYWN0b3JHZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMywgNCwgMyk7XG4gIGNvbnN0IHJlYWN0b3JNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweDIwQzk5NyxcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBvcGFjaXR5OiAwLjVcbiAgfSk7XG4gIGNvbnN0IHJlYWN0b3IgPSBuZXcgVEhSRUUuTWVzaChyZWFjdG9yR2VvLCByZWFjdG9yTWF0KTtcbiAgcmVhY3Rvci5wb3NpdGlvbi5zZXQoMCwgMiwgLTQpO1xuICBzY2VuZS5hZGQocmVhY3Rvcik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhpc3RvcmljYWxMYWIoY3R4KSB7XG4gIGNvbnN0IGFudGlxdWVUYWJsZUdlbyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg0LCAxLCAyKTtcbiAgY29uc3QgdGFibGVNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDhCNDUxM30pO1xuICBjb25zdCB0YWJsZSA9IG5ldyBUSFJFRS5NZXNoKGFudGlxdWVUYWJsZUdlbywgdGFibGVNYXQpO1xuICB0YWJsZS5wb3NpdGlvbi5zZXQoMCwgMC41LCAwKTtcbiAgc2NlbmUuYWRkKHRhYmxlKTtcblxuICBjb25zdCBjcnVjaWJsZUdlbyA9IG5ldyBUSFJFRS5Db25lR2VvbWV0cnkoMC4zLCAwLjUsIDMyKTtcbiAgY29uc3QgY3J1Y2libGVNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweEQ2MzM4NCxcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBvcGFjaXR5OiAwLjhcbiAgfSk7XG4gIGNvbnN0IGNydWNpYmxlID0gbmV3IFRIUkVFLk1lc2goY3J1Y2libGVHZW8sIGNydWNpYmxlTWF0KTtcbiAgY3J1Y2libGUucG9zaXRpb24uc2V0KDEsIDEsIDApO1xuICBzY2VuZS5hZGQoY3J1Y2libGUpO1xuXG4gIGNvbnN0IHBhcmNobWVudEdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEuNSwgMSk7XG4gIGNvbnN0IHBhcmNobWVudE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgY29sb3I6IDB4RjVERUIzLFxuICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGVcbiAgfSk7XG4gIGNvbnN0IHBhcmNobWVudCA9IG5ldyBUSFJFRS5NZXNoKHBhcmNobWVudEdlbywgcGFyY2htZW50TWF0KTtcbiAgcGFyY2htZW50LnBvc2l0aW9uLnNldCgtMSwgMS4xLCAwKTtcbiAgcGFyY2htZW50LnJvdGF0aW9uLnkgPSAtTWF0aC5QSSAvIDQ7XG4gIHNjZW5lLmFkZChwYXJjaG1lbnQpO1xuXG4gIGNvbnN0IGFsY2hlbXlTeW1ib2xHZW8gPSBuZXcgVEhSRUUuUmluZ0dlb21ldHJ5KDAuOCwgMSwgMzIpO1xuICBjb25zdCBzeW1ib2xNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweEZGRDcwMCxcbiAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXG4gIH0pO1xuICBjb25zdCBzeW1ib2wgPSBuZXcgVEhSRUUuTWVzaChhbGNoZW15U3ltYm9sR2VvLCBzeW1ib2xNYXQpO1xuICBzeW1ib2wucG9zaXRpb24uc2V0KDAsIDMsIDApO1xuICBzeW1ib2wubmFtZSA9ICdhbGNoZW15U3ltYm9sJztcbiAgc2NlbmUuYWRkKHN5bWJvbCk7XG4gIHNjZW5lLnVzZXJEYXRhLmFsY2hlbXlTeW1ib2wgPSBzeW1ib2w7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNwYWNlQ2hlbShjdHgpIHtcbiAgY29uc3Qgc3RhcnNHZW8gPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgY29uc3Qgc3RhcnNDb3VudCA9IDEwMDA7XG4gIGNvbnN0IHBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhcnNDb3VudCAqIDMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJzQ291bnQgKiAzOyBpKyspIHtcbiAgICBwb3NpdGlvbnNbaV0gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA1MDtcbiAgfVxuICBzdGFyc0dlby5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMsIDMpKTtcbiAgY29uc3Qgc3RhcnNNYXQgPSBuZXcgVEhSRUUuUG9pbnRzTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweGZmZmZmZixcbiAgICBzaXplOiAwLjFcbiAgfSk7XG4gIGNvbnN0IHN0YXJzID0gbmV3IFRIUkVFLlBvaW50cyhzdGFyc0dlbywgc3RhcnNNYXQpO1xuICBzdGFycy5uYW1lID0gJ3N0YXJGaWVsZCc7XG4gIHNjZW5lLmFkZChzdGFycyk7XG4gIHNjZW5lLnVzZXJEYXRhLnN0YXJzID0gc3RhcnM7XG5cbiAgY29uc3QgbmVidWxhR2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDgsIDMyLCAzMik7XG4gIGNvbnN0IG5lYnVsYU1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgY29sb3I6IDB4NkM1Q0U3LFxuICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgIG9wYWNpdHk6IDAuMTVcbiAgfSk7XG4gIGNvbnN0IG5lYnVsYSA9IG5ldyBUSFJFRS5NZXNoKG5lYnVsYUdlbywgbmVidWxhTWF0KTtcbiAgbmVidWxhLnBvc2l0aW9uLnNldCgwLCAyLCAtMTApO1xuICBzY2VuZS5hZGQobmVidWxhKTtcblxuICBjb25zdCBmcmFnbWVudEdlbyA9IG5ldyBUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5KDEsIDEpO1xuICBjb25zdCBmcmFnbWVudE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgY29sb3I6IDB4RTE3MDU1LFxuICAgIHdpcmVmcmFtZTogdHJ1ZVxuICB9KTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IG5ldyBUSFJFRS5NZXNoKGZyYWdtZW50R2VvLCBmcmFnbWVudE1hdCk7XG4gICAgZnJhZ21lbnQucG9zaXRpb24uc2V0KFxuICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogNixcbiAgICAgIDIgKyBNYXRoLnJhbmRvbSgpICogMixcbiAgICAgIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDZcbiAgICApO1xuICAgIGZyYWdtZW50LnVzZXJEYXRhLm9yYml0U3BlZWQgPSAwLjIgKyBNYXRoLnJhbmRvbSgpICogMC4zO1xuICAgIGZyYWdtZW50LnVzZXJEYXRhLm9yYml0QW5nbGUgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XG4gICAgZnJhZ21lbnQubmFtZSA9ICdmcmFnbWVudCc7XG4gICAgc2NlbmUuYWRkKGZyYWdtZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVOYW5vV29ybGQoY3R4KSB7XG4gIGNvbnN0IGxhdHRpY2VHcm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuXG4gIGNvbnN0IGF0b21HZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMC4yLCAxNiwgMTYpO1xuICBjb25zdCBhdG9tTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHgxN0EyQjh9KTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IDM7IGsrKykge1xuICAgICAgICBjb25zdCBhdG9tID0gbmV3IFRIUkVFLk1lc2goYXRvbUdlbywgYXRvbU1hdCk7XG4gICAgICAgIGF0b20ucG9zaXRpb24uc2V0KGkgLSAxLCBqICsgMSwgayAtIDEpO1xuICAgICAgICBsYXR0aWNlR3JvdXAuYWRkKGF0b20pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGJvbmRHZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLjA1LCAwLjA1LCAxLCA4KTtcbiAgY29uc3QgYm9uZE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4MEEwQTFBfSk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCAzOyBrKyspIHtcbiAgICAgICAgaWYgKGkgPCAyKSB7XG4gICAgICAgICAgY29uc3QgYm9uZEggPSBuZXcgVEhSRUUuTWVzaChib25kR2VvLCBib25kTWF0KTtcbiAgICAgICAgICBib25kSC5yb3RhdGlvbi56ID0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgYm9uZEgucG9zaXRpb24uc2V0KGkgLSAwLjUsIGogKyAxLCBrIC0gMSk7XG4gICAgICAgICAgbGF0dGljZUdyb3VwLmFkZChib25kSCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGogPCAyKSB7XG4gICAgICAgICAgY29uc3QgYm9uZFYgPSBuZXcgVEhSRUUuTWVzaChib25kR2VvLCBib25kTWF0KTtcbiAgICAgICAgICBib25kVi5wb3NpdGlvbi5zZXQoaSAtIDEsIGogKyAxLjUsIGsgLSAxKTtcbiAgICAgICAgICBsYXR0aWNlR3JvdXAuYWRkKGJvbmRWKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoayA8IDIpIHtcbiAgICAgICAgICBjb25zdCBib25kRCA9IG5ldyBUSFJFRS5NZXNoKGJvbmRHZW8sIGJvbmRNYXQpO1xuICAgICAgICAgIGJvbmRELnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICBib25kRC5wb3NpdGlvbi5zZXQoaSAtIDEsIGogKyAxLCBrIC0gMC41KTtcbiAgICAgICAgICBsYXR0aWNlR3JvdXAuYWRkKGJvbmREKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxhdHRpY2VHcm91cC5wb3NpdGlvbi5zZXQoMCwgMiwgMCk7XG4gIGxhdHRpY2VHcm91cC5zY2FsZS5zZXQoMS41LCAxLjUsIDEuNSk7XG4gIGxhdHRpY2VHcm91cC5uYW1lID0gJ25hbm9MYXR0aWNlJztcbiAgc2NlbmUuYWRkKGxhdHRpY2VHcm91cCk7XG4gIHNjZW5lLnVzZXJEYXRhLm5hbm9MYXR0aWNlID0gbGF0dGljZUdyb3VwO1xuXG4gIGNvbnN0IG9yYml0YWxHZW8gPSBuZXcgVEhSRUUuVG9ydXNHZW9tZXRyeSgyLjUsIDAuMDUsIDE2LCAxMDApO1xuICBjb25zdCBvcmJpdGFsTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICBjb2xvcjogMHg3NEI5RkYsXG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXG4gICAgb3BhY2l0eTogMC40XG4gIH0pO1xuICBjb25zdCBvcmJpdGFsWCA9IG5ldyBUSFJFRS5NZXNoKG9yYml0YWxHZW8sIG9yYml0YWxNYXQpO1xuICBvcmJpdGFsWC5wb3NpdGlvbi5zZXQoMCwgMiwgMCk7XG4gIHNjZW5lLmFkZChvcmJpdGFsWCk7XG5cbiAgY29uc3Qgb3JiaXRhbFkgPSBvcmJpdGFsWC5jbG9uZSgpO1xuICBvcmJpdGFsWS5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XG4gIHNjZW5lLmFkZChvcmJpdGFsWSk7XG5cbiAgY29uc3Qgb3JiaXRhbFogPSBvcmJpdGFsWC5jbG9uZSgpO1xuICBvcmJpdGFsWi5yb3RhdGlvbi55ID0gTWF0aC5QSSAvIDI7XG4gIHNjZW5lLmFkZChvcmJpdGFsWik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNoYWxsZW5nZUFyZW5hKGN0eCkge1xuICBjb25zdCBhcmVuYUZsb29yID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoOCwgOCwgMC4yLCAzMik7XG4gIGNvbnN0IGFyZW5hTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHhGRkMxMDd9KTtcbiAgY29uc3QgYXJlbmEgPSBuZXcgVEhSRUUuTWVzaChhcmVuYUZsb29yLCBhcmVuYU1hdCk7XG4gIGFyZW5hLnBvc2l0aW9uLnkgPSAtMC4wNTtcbiAgc2NlbmUuYWRkKGFyZW5hKTtcblxuICBjb25zdCBwb2RpdW1HZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMiwgMC41LCAyKTtcbiAgY29uc3QgcG9kaXVtTWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHhENEFGMzd9KTtcbiAgY29uc3QgcG9kaXVtID0gbmV3IFRIUkVFLk1lc2gocG9kaXVtR2VvLCBwb2RpdW1NYXQpO1xuICBwb2RpdW0ucG9zaXRpb24uc2V0KDAsIDAuMjUsIDApO1xuICBzY2VuZS5hZGQocG9kaXVtKTtcblxuICBjb25zdCB0cm9waHlHZW8gPSBuZXcgVEhSRUUuQ29uZUdlb21ldHJ5KDAuMywgMSwgOCk7XG4gIGNvbnN0IHRyb3BoeU1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4RkZENzAwfSk7XG4gIGNvbnN0IHRyb3BoeSA9IG5ldyBUSFJFRS5NZXNoKHRyb3BoeUdlbywgdHJvcGh5TWF0KTtcbiAgdHJvcGh5LnBvc2l0aW9uLnNldCgwLCAxLjUsIDApO1xuICBzY2VuZS5hZGQodHJvcGh5KTtcbn1cblxyXG5mdW5jdGlvbiBjcmVhdGVHZW5lcmljTGFiKGN0eCkge1xyXG4gIGNvbnN0IGJlbmNoR2VvID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDUsIDEsIDIuNSk7XHJcbiAgY29uc3QgYmVuY2hNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDNhM2E0YX0pO1xyXG4gIGNvbnN0IGJlbmNoID0gbmV3IFRIUkVFLk1lc2goYmVuY2hHZW8sIGJlbmNoTWF0KTtcclxuICBiZW5jaC5wb3NpdGlvbi5zZXQoMCwgMC41LCAwKTtcclxuICBzY2VuZS5hZGQoYmVuY2gpO1xyXG5cclxuICBjb25zdCBlcXVpcG1lbnRHZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMC41LCAxLCAwLjUpO1xyXG4gIGNvbnN0IGVxdWlwbWVudE1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4NGE0YTRhfSk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgIGNvbnN0IGVxdWlwbWVudCA9IG5ldyBUSFJFRS5NZXNoKGVxdWlwbWVudEdlbywgZXF1aXBtZW50TWF0KTtcclxuICAgIGVxdWlwbWVudC5wb3NpdGlvbi5zZXQoLTEuNSArIGksIDEsIC0wLjUpO1xyXG4gICAgc2NlbmUuYWRkKGVxdWlwbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVGbG9vcihjdHgsIHRoZW1lQ29sb3IpIHtcclxuICBjb25zdCBmbG9vckdlbyA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDEyLCAxMiwgMC4yLCA2NCk7XHJcbiAgY29uc3QgZmxvb3JNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgY29sb3I6IG5ldyBUSFJFRS5Db2xvcih0aGVtZUNvbG9yKS5tdWx0aXBseVNjYWxhcigwLjA4KVxyXG4gIH0pO1xyXG4gIGNvbnN0IGZsb29yID0gbmV3IFRIUkVFLk1lc2goZmxvb3JHZW8sIGZsb29yTWF0KTtcclxuICBmbG9vci5wb3NpdGlvbi55ID0gLTAuMTtcclxuICBzY2VuZS5hZGQoZmxvb3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFeHBlcmltZW50U3RhdGlvbnMoY3R4LCByb29tRGF0YSkge1xyXG4gIGNvbnN0IHN0YXRpb25SYWRpdXMgPSA1O1xyXG4gIGNvbnN0IGV4cGVyaW1lbnRzID0gcm9vbURhdGEuZXhwZXJpbWVudHMgfHwgW107XHJcblxyXG4gIGV4cGVyaW1lbnRzLmZvckVhY2goKGV4cElkLCBpbmRleCkgPT4ge1xyXG4gICAgY29uc3QgYW5nbGUgPSAoaW5kZXggLyBleHBlcmltZW50cy5sZW5ndGgpICogTWF0aC5QSSAqIDI7XHJcbiAgICBjb25zdCB4ID0gTWF0aC5jb3MoYW5nbGUpICogc3RhdGlvblJhZGl1cztcclxuICAgIGNvbnN0IHogPSBNYXRoLnNpbihhbmdsZSkgKiBzdGF0aW9uUmFkaXVzO1xyXG5cclxuICAgIGNvbnN0IHN0YXRpb25HZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMS41LCAyLCAxKTtcclxuICAgIGNvbnN0IHN0YXRpb25NYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICBjb2xvcjogbmV3IFRIUkVFLkNvbG9yKHJvb21EYXRhLmNvbG9yKS5tdWx0aXBseVNjYWxhcigwLjYpLFxyXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgb3BhY2l0eTogMC43XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHN0YXRpb24gPSBuZXcgVEhSRUUuTWVzaChzdGF0aW9uR2VvLCBzdGF0aW9uTWF0KTtcclxuICAgIHN0YXRpb24ucG9zaXRpb24uc2V0KHgsIDEsIHopO1xyXG4gICAgc3RhdGlvbi51c2VyRGF0YS5leHBlcmltZW50SWQgPSBleHBJZDtcclxuXHJcbiAgICBjb25zdCBsYWJlbEVudGl0eSA9IGN0eC53b3JsZC5jcmVhdGVFbnRpdHkoKTtcclxuICAgIGxhYmVsRW50aXR5XHJcbiAgICAgIC5hZGRDb21wb25lbnQoVGV4dCwge1xyXG4gICAgICAgIHRleHQ6IGV4cElkLFxyXG4gICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgZm9udFNpemU6IDAuMDgsXHJcbiAgICAgICAgYW5jaG9yOiAnY2VudGVyJyxcclxuICAgICAgICBiYXNlbGluZTogJ3RvcCcsXHJcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJ1xyXG4gICAgICB9KVxyXG4gICAgICAuYWRkQ29tcG9uZW50KFBhcmVudE9iamVjdDNELCB7dmFsdWU6IHN0YXRpb259KVxyXG4gICAgICAuYWRkQ29tcG9uZW50KFBvc2l0aW9uLCB7eDogMCwgeTogMS4xLCB6OiAwLjUxfSk7XHJcblxyXG4gICAgc2NlbmUuYWRkKHN0YXRpb24pO1xyXG4gICAgZXhwZXJpbWVudFN0YXRpb25zLnB1c2goc3RhdGlvbik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwTGlnaHRpbmcoY3R4LCB0aGVtZUNvbG9yKSB7XHJcbiAgY29uc3QgYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZiwgMC4zKTtcclxuICBzY2VuZS5hZGQoYW1iaWVudExpZ2h0KTtcclxuXHJcbiAgY29uc3QgcG9pbnRMaWdodDEgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCh0aGVtZUNvbG9yLCAwLjYsIDIwKTtcclxuICBwb2ludExpZ2h0MS5wb3NpdGlvbi5zZXQoNSwgOCwgNSk7XHJcbiAgc2NlbmUuYWRkKHBvaW50TGlnaHQxKTtcclxuXHJcbiAgY29uc3QgcG9pbnRMaWdodDIgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCh0aGVtZUNvbG9yLCAwLjYsIDIwKTtcclxuICBwb2ludExpZ2h0Mi5wb3NpdGlvbi5zZXQoLTUsIDgsIC01KTtcclxuICBzY2VuZS5hZGQocG9pbnRMaWdodDIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVUZWxlcG9ydFpvbmUoY3R4KSB7XHJcbiAgY29uc3QgdGVsZXBvcnRHZW8gPSBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSgyNSwgMjUpO1xyXG4gIGNvbnN0IHRlbGVwb3J0TWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHt2aXNpYmxlOiBmYWxzZX0pO1xyXG4gIHRlbGVwb3J0Rmxvb3IgPSBuZXcgVEhSRUUuTWVzaCh0ZWxlcG9ydEdlbywgdGVsZXBvcnRNYXQpO1xyXG4gIHRlbGVwb3J0Rmxvb3Iucm90YXRpb24ueCA9IC1NYXRoLlBJIC8gMjtcclxuICB0ZWxlcG9ydEZsb29yLnBvc2l0aW9uLnkgPSAwLjAwMTtcclxuICBzY2VuZS5hZGQodGVsZXBvcnRGbG9vcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU5hdmlnYXRpb25QYW5lbChjdHgpIHtcclxuICBjb25zdCBwYW5lbEdlbyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgwLjUsIDAuMywgMC4wNSk7XHJcbiAgY29uc3QgcGFuZWxNYXQgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDJhMmEzYX0pO1xyXG4gIGNvbnN0IHBhbmVsID0gbmV3IFRIUkVFLk1lc2gocGFuZWxHZW8sIHBhbmVsTWF0KTtcclxuICBwYW5lbC5wb3NpdGlvbi5zZXQoMCwgMS41LCAtNik7XHJcbiAgc2NlbmUuYWRkKHBhbmVsKTtcclxuXHJcbiAgY29uc3QgYmFja0J0bkVudGl0eSA9IGN0eC53b3JsZC5jcmVhdGVFbnRpdHkoKTtcclxuICBiYWNrQnRuRW50aXR5XHJcbiAgICAuYWRkQ29tcG9uZW50KFRleHQsIHtcclxuICAgICAgdGV4dDogJ+KXgCBMb2JieScsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgIGZvbnRTaXplOiAwLjA4LFxyXG4gICAgICBhbmNob3I6ICdjZW50ZXInLFxyXG4gICAgICBiYXNlbGluZTogJ21pZGRsZScsXHJcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcclxuICAgIH0pXHJcbiAgICAuYWRkQ29tcG9uZW50KFBhcmVudE9iamVjdDNELCB7dmFsdWU6IHBhbmVsfSlcclxuICAgIC5hZGRDb21wb25lbnQoUG9zaXRpb24sIHt4OiAwLCB5OiAwLCB6OiAwLjAzfSk7XHJcblxyXG4gIHBhbmVsLnVzZXJEYXRhLmJhY2tCdXR0b24gPSBiYWNrQnRuRW50aXR5O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZW50ZXIoY3R4KSB7XHJcbiAgY3R4LnNjZW5lLmFkZChzY2VuZSk7XHJcbiAgY3R4LnJlbmRlcmVyLnNldENsZWFyQ29sb3Ioc2NlbmUuYmFja2dyb3VuZCk7XHJcbiAgY3R4LnJheWNvbnRyb2wuYWN0aXZhdGVTdGF0ZSgnZXhwUm9vbVN0YXRpb25zJyk7XHJcbiAgY3R4LnJheWNvbnRyb2wuYWN0aXZhdGVTdGF0ZSgnZXhwUm9vbVRlbGVwb3J0Jyk7XHJcbiAgY3R4LnJheWNvbnRyb2wuYWN0aXZhdGVTdGF0ZSgnZXhwUm9vbU5hdicpO1xyXG5cclxuICBjdHgucmF5Y29udHJvbC5hZGRTdGF0ZSgnZXhwUm9vbVN0YXRpb25zJywge1xyXG4gICAgY29sbGlkZXJNZXNoOiBleHBlcmltZW50U3RhdGlvbnMsXHJcbiAgICBjb250cm9sbGVyOiAncHJpbWFyeScsXHJcbiAgICBvbkhvdmVyOiAoaW50ZXJzZWN0aW9uLCBhY3RpdmUpID0+IHtcclxuICAgICAgY29uc3Qgc3RhdGlvbiA9IGludGVyc2VjdGlvbi5vYmplY3Q7XHJcbiAgICAgIHN0YXRpb24uc2NhbGUuc2V0U2NhbGFyKGFjdGl2ZSA/IDEuMiA6IDEpO1xyXG4gICAgfSxcclxuICAgIG9uSG92ZXJMZWF2ZTogKCkgPT4ge30sXHJcbiAgICBvblNlbGVjdFN0YXJ0OiAoaW50ZXJzZWN0aW9uLCBlKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdFeHBlcmltZW50OicsIGludGVyc2VjdGlvbi5vYmplY3QudXNlckRhdGEuZXhwZXJpbWVudElkKTtcclxuICAgIH0sXHJcbiAgICBvblNlbGVjdEVuZDogKGludGVyc2VjdGlvbikgPT4ge31cclxuICB9KTtcclxuXHJcbiAgY3R4LnJheWNvbnRyb2wuYWRkU3RhdGUoJ2V4cFJvb21UZWxlcG9ydCcsIHtcclxuICAgIGNvbGxpZGVyTWVzaDogdGVsZXBvcnRGbG9vcixcclxuICAgIGNvbnRyb2xsZXI6ICdwcmltYXJ5JyxcclxuICAgIG9uSG92ZXI6IChpbnRlcnNlY3Rpb24sIGFjdGl2ZSkgPT4ge1xyXG4gICAgICBjdHgudGVsZXBvcnQub25Ib3ZlcihpbnRlcnNlY3Rpb24ucG9pbnQsIGFjdGl2ZSk7XHJcbiAgICB9LFxyXG4gICAgb25Ib3ZlckxlYXZlOiAoKSA9PiB7XHJcbiAgICAgIGN0eC50ZWxlcG9ydC5vbkhvdmVyTGVhdmUoKTtcclxuICAgIH0sXHJcbiAgICBvblNlbGVjdFN0YXJ0OiAoaW50ZXJzZWN0aW9uLCBlKSA9PiB7XHJcbiAgICAgIGN0eC50ZWxlcG9ydC5vblNlbGVjdFN0YXJ0KGUpO1xyXG4gICAgfSxcclxuICAgIG9uU2VsZWN0RW5kOiAoaW50ZXJzZWN0aW9uKSA9PiB7XHJcbiAgICAgIGN0eC50ZWxlcG9ydC5vblNlbGVjdEVuZChpbnRlcnNlY3Rpb24ucG9pbnQpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjdHgucmF5Y29udHJvbC5hZGRTdGF0ZSgnZXhwUm9vbU5hdicsIHtcclxuICAgIGNvbGxpZGVyTWVzaDogW3NjZW5lLmNoaWxkcmVuLmZpbmQoYyA9PiBjLnVzZXJEYXRhLmJhY2tCdXR0b24pXSxcclxuICAgIGNvbnRyb2xsZXI6ICdwcmltYXJ5JyxcclxuICAgIG9uSG92ZXI6IChpbnRlcnNlY3Rpb24sIGFjdGl2ZSkgPT4ge30sXHJcbiAgICBvbkhvdmVyTGVhdmU6ICgpID0+IHt9LFxyXG4gICAgb25TZWxlY3RTdGFydDogKGludGVyc2VjdGlvbiwgZSkgPT4ge1xyXG4gICAgICBjdHguZ290byA9IDA7XHJcbiAgICB9LFxyXG4gICAgb25TZWxlY3RFbmQ6IChpbnRlcnNlY3Rpb24pID0+IHt9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleGl0KGN0eCkge1xyXG4gIGN0eC5yYXljb250cm9sLmRlYWN0aXZhdGVTdGF0ZSgnZXhwUm9vbVN0YXRpb25zJyk7XHJcbiAgY3R4LnJheWNvbnRyb2wuZGVhY3RpdmF0ZVN0YXRlKCdleHBSb29tVGVsZXBvcnQnKTtcclxuICBjdHgucmF5Y29udHJvbC5kZWFjdGl2YXRlU3RhdGUoJ2V4cFJvb21OYXYnKTtcclxuICBjdHguc2NlbmUucmVtb3ZlKHNjZW5lKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGUoY3R4LCBkZWx0YSwgdGltZSkge1xyXG4gIGlmIChzY2VuZS51c2VyRGF0YS5mbGFtZSkge1xyXG4gICAgc2NlbmUudXNlckRhdGEuZmxhbWUuc2NhbGUueSA9IDEgKyBNYXRoLnNpbih0aW1lICogMTApICogMC4yO1xyXG4gICAgc2NlbmUudXNlckRhdGEuZmxhbWUubWF0ZXJpYWwub3BhY2l0eSA9IDAuNSArIE1hdGguc2luKHRpbWUgKiAxMCkgKiAwLjI7XHJcbiAgfVxyXG5cclxuICBpZiAoc2NlbmUudXNlckRhdGEuY29yZSkge1xyXG4gICAgc2NlbmUudXNlckRhdGEuY29yZS5yb3RhdGlvbi55ICs9IGRlbHRhICogMC41O1xyXG4gICAgc2NlbmUudXNlckRhdGEuY29yZS5tYXRlcmlhbC5vcGFjaXR5ID0gMC40ICsgTWF0aC5zaW4odGltZSAqIDIpICogMC4xO1xyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/rooms/ExperimentalRoom.js\n");

/***/ })

})